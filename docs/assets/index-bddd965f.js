import{d as e,j as a,m as t,ah as s,o,e as n,x as r,s as i,M as l,f as c,aA as d}from"./vendor-965a3406.js";import{_ as h}from"./common-2e66c9ac.js";const m=h(e({__name:"index",setup(e){const h=a([]),m=a(),f=a(),p=()=>{const e=f.value;v.clearRect(0,0,e.width,e.height),h.value=[]},u=e=>{const{offsetX:a,offsetY:t}=e,s=2*Math.PI/80;for(let o=0;o<80;o++)h.value.push({step:0,max:50*Math.random()+50,x:a,y:t,dirx:Math.cos(s*o)*Math.random()*3,diry:Math.sin(s*o)*Math.random()*3,color:`hsl( ${360*Math.random()}, 70%, 50% )`})};let v;const x=()=>{const e=m.value,a=e.clientWidth,t=e.clientHeight,s=f.value;s.width=a,s.height=t,v=s.getContext("2d")};let y;const M=()=>{y=window.requestAnimationFrame(M),h.value.forEach(((e,a)=>{w(e,a)}))},w=(e,a)=>{e.step+=1,e.dirx*=.99,e.diry*=.99,e.diry+=.05,e.x+=e.dirx,e.y+=e.diry,_(e),e.step>=e.max&&h.value.splice(a,1)},_=({x:e,y:a,color:t})=>{v&&(v.beginPath(),v.fillStyle=t,v.arc(e,a,2,0,2*Math.PI),v.fill(),v.closePath())};return t((()=>{x(),window.addEventListener("resize",x),M()})),s((()=>{window.removeEventListener("resize",x),cancelAnimationFrame(y)})),(e,a)=>{const t=d;return o(),n("div",{class:"page",ref_key:"pageRef",ref:m},[r(t,{style:{position:"absolute","z-index":"11",top:"10px",left:"10px"},type:"primary",onClick:p},{default:i((()=>[l("Clear")])),_:1}),c("canvas",{ref_key:"canvas",ref:f,onClick:u},null,512)],512)}}}),[["__scopeId","data-v-ae6e94c3"]]);export{m as default};
