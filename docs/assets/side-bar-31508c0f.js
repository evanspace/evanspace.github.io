import{d as e,c as a,g as t,av as s,o as l,a as n,C as o,s as i,u as r,F as c,q as m,t as d,U as u,l as p,k as h,b,e as g,a1 as k,j as y,bo as f,ai as v,bp as _,bq as w,au as x,br as S,bs as j}from"./vendor-ebf5717c.js";import{a as q,u as C,d as P}from"./modules-8e459763.js";import{b as $}from"./router-b01c2f88.js";import{i as B}from"./common-f34ee3bc.js";const E={key:"collapse",class:"sidebar-logo-link"},M=["src"],O={key:1,class:"sidebar-title"},D={key:"expand",class:"sidebar-logo-link"},F=["src"],L=e({__name:"v-logo",props:{collapse:{type:Boolean,required:!0}},setup(e){const h=document.title,b=new URL("@assets/imgs/logo.png",self.location).href,g=q(),k=a((()=>g.navbar)),y=a((()=>g.sidebar)),f=a((()=>g.logo)),v=t(),_=e=>{y.hasToggleBtn&&!k.show?g.toggleSideBar():v.push(`${$}/`)};return(a,t)=>{const g=s("svg-icon");return l(),n("div",{class:p(["sidebar-logo-container",{collapse:e.collapse}]),onClick:_},[o(u,{name:"sidebarLogoFade"},{default:i((()=>[e.collapse?(l(),n("div",E,[r(f).custom?(l(),n("img",{key:0,src:r(f).small,class:"sidebar-logo"},null,8,M)):(l(),n(c,{key:1},[r(b)?(l(),m(g,{key:0,name:"logo",class:"sidebar-logo"})):(l(),n("h1",O,d(r(h)),1))],64))])):(l(),n("div",D,[r(f).custom?(l(),n("img",{key:0,src:r(f).normal,class:"sidebar-logo"},null,8,F)):(l(),m(g,{key:1,name:"logo-v",class:"sidebar-logo"}))]))])),_:1})],2)}}}),R=e({__name:"sidebar-item",props:{item:{type:Object,required:!0},basePath:{type:String,default:""}},setup(e){const u=q(),p=a((()=>u.i18n)),x=e;let S=h({path:"",hidden:!1,children:null,meta:{title:"",icon:"",hidden:!1,alwayShow:!1},noShowingChildren:!1});const j=e=>B(e)?e:B(x.basePath)?x.basePath:f.resolve(x.basePath,e),P=C(),$=t();return(a,t)=>{const h=s("svg-icon"),f=v,x=_,q=s("sidebar-item",!0),C=w;return!((e=[],a)=>{const t=e.filter((e=>!e.hidden&&(S=e,!0)));return 1===t.length||0===t.length&&(S={...a,path:"",noShowingChildren:!0},!0)})(e.item.children,e.item)||r(S).children&&!r(S).noShowingChildren||e.item.meta.alwayShow?(l(),m(C,{key:1,ref:"subMenu",index:j(e.item.path),teleported:""},k({default:i((()=>[(l(!0),n(c,null,y(e.item.children,(e=>(l(),m(q,{key:e.path,item:e,"base-path":j(e.path)},null,8,["item","base-path"])))),128))])),_:2},[e.item.meta?{name:"title",fn:i((()=>[e.item.meta.icon?(l(),m(f,{key:0},{default:i((()=>[o(h,{name:e.item.meta.icon},null,8,["name"])])),_:1})):g("",!0),b("span",null,d(r(p)?a.$t(`route.${e.item.meta.title}`):e.item.meta.title),1)])),key:"0"}:void 0]),1032,["index"])):(l(),n(c,{key:0},[e.item.meta.hidden||!r(S).meta||r(S).meta.hidden?g("",!0):(l(),m(x,{key:0,index:j(r(S).path),onClick:t[0]||(t[0]=a=>(e=>{const a=j(S.path);if(B(a))return;let t={};u.ISPROD||(t.TOKEN=P.token);const s={path:a,query:t};$.push(s)})(e.item))},{title:i((()=>[b("span",null,d(r(p)?a.$t(`route.${r(S).meta.title}`):r(S).meta.title),1)])),default:i((()=>[r(S).meta.icon||e.item.meta.icon?(l(),m(f,{key:0},{default:i((()=>[o(h,{name:r(S).meta.icon||e.item.meta.icon},null,8,["name"])])),_:1})):g("",!0)])),_:1},8,["index"]))],64))}}}),T={class:"has-logo"},U=e({__name:"index",setup(e){const t=x(),s=q(),d=P(),u=a((()=>{let e=[];return d.routes.forEach((a=>{const t=a.meta;t&&!t.hidden&&(t.expand&&a.children&&a.children.length>0?e=e.concat(a.children):e.push(a))})),e})),p=a((()=>s.sidebar)),h=a((()=>{const{meta:e,path:a}=t;return e.activeMenu?e.activeMenu:a})),b=a((()=>!p.value.opened));return(e,a)=>{const t=S,s=j;return l(),n("div",T,[o(L,{collapse:r(b)},null,8,["collapse"]),o(s,{"wrap-class":"scrollbar-wrapper"},{default:i((()=>[o(t,{"default-active":r(h),collapse:r(b),"unique-opened":!1,"collapse-transition":!1,mode:"vertical"},{default:i((()=>[(l(!0),n(c,null,y(r(u),(e=>(l(),n(c,{key:e.path},[e.meta?(l(),m(R,{key:0,item:e,"base-path":e.path},null,8,["item","base-path"])):g("",!0)],64)))),128))])),_:1},8,["default-active","collapse"])])),_:1})])}}});export{U as _};
