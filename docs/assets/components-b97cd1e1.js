import{d as a,r as e,c as s,g as l,au as n,av as o,o as t,a as i,u as r,q as u,e as c,b as d,s as m,a2 as p,F as g,j as v,U as f,C as h,aw as k,ax as y,m as _,t as b,ay as j,az as w,aA as C,aB as $,an as V,E as z,y as P,z as U,aC as I,aD as B,aE as L,aF as O,ai as T,x,aG as E}from"./vendor-6db95a6f.js";import{h as G,_ as S,a as A}from"./top-module-fbdbe925.js";import{a as D,u as F,b as q}from"./modules-49818129.js";import{l as H}from"./locales-e1120ea8.js";import{b as N}from"./router-33eeb5ed.js";import"./side-bar-dad37bbc.js";import"./tags-view-779c43eb.js";import"./layout-43906d3a.js";import{_ as J}from"./three-scene-61ece009.js";import{_ as K}from"./plane-device-c0c5b828.js";const M={class:"navbar"},Q={class:"center-menu"},R={class:"right-menu"},W={class:"project-select"},X={key:1,class:"right-menu-item skin"},Y={key:2,class:"right-menu-item language"},Z={class:"trigger"},aa={class:"use-oper right-menu-item"},ea={class:"username"},sa=a({__name:"nav-bar",setup(a){const x=D(),E=F(),q=e(x.skin),J=s((()=>x.sidebar)),K=s((()=>x.module.show)),sa=s((()=>x.navbar)),la=s((()=>E.userInfo)),na=s((()=>E.showAvatar)),oa=s((()=>x.language)),ta=s((()=>x.i18n)),ia=s((()=>x.toggleSkin)),ra=()=>{x.toggleSideBar()},ua=e(E.projectId),ca=s((()=>E.projects)),da=a=>{E.updateProjectId(a)},ma=a=>{x.updateSkin(a)},pa=l(),ga=n(),va="/home",fa="/changepwd",ha="LOGOUT",ka=a=>{"LOGOUT"===a?ya():pa.push(`${N}${a}`)},ya=async()=>{await E.logout(),pa.push(`${N}/login?redirect=${ga.fullPath}`)};return(a,e)=>{const s=z,l=P,n=U,D=o("svg-icon"),F=I,N=B,pa=L,ga=O,ya=T;return t(),i("div",M,[r(J).hasToggleBtn?(t(),u(G,{key:0,class:"hamburger-container","is-active":r(J).opened,onToggleClick:ra},null,8,["is-active"])):c("",!0),d("div",Q,[r(sa).hasBreadcrumb?(t(),u(S,{key:0,class:"breadcrumb-container"})):c("",!0),r(K)?(t(),u(A,{key:1})):c("",!0)]),d("div",R,[r(E).showProject?(t(),u(f,{key:0,name:"el-zoom-in-center"},{default:m((()=>{var n;return[d("div",W,[(null==(n=a.$route.meta)?void 0:n.noProject)?c("",!0):(t(),u(l,{key:0,modelValue:r(ua),"onUpdate:modelValue":e[0]||(e[0]=a=>p(ua)?ua.value=a:null),filterable:"",placeholder:"请选择",onChange:da},{default:m((()=>[(t(!0),i(g,null,v(r(ca),(a=>(t(),u(s,{key:a.Id,label:a.Name,value:a.Id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]))])]})),_:1})):c("",!0),r(ia)?(t(),i("div",X,[h(n,{modelValue:r(q),"onUpdate:modelValue":e[1]||(e[1]=a=>p(q)?q.value=a:null),"inline-prompt":"","active-value":"dark","inactive-value":"light","active-icon":r(k),"inactive-icon":r(y),style:{"--el-switch-on-color":"#0960bd","--el-switch-off-color":"#ff6600"},onChange:ma},null,8,["modelValue","active-icon","inactive-icon"])])):c("",!0),r(ta)?(t(),i("div",Y,[h(pa,null,{dropdown:m((()=>[h(N,null,{default:m((()=>[(t(!0),i(g,null,v(r(H),(a=>(t(),u(F,{key:a.key,disabled:a.key==r(oa),onClick:e=>{return s=a,void x.updateLangeuage(s.key);var s}},{default:m((()=>[_(b(a.title),1)])),_:2},1032,["disabled","onClick"])))),128))])),_:1})])),default:m((()=>[d("span",Z,[h(D,{name:"language"})])])),_:1})])):c("",!0),d("div",aa,[r(na)?(t(),i(g,{key:0},[r(la).avatar?(t(),u(ga,{key:0,src:r(la).avatar,size:24},null,8,["src"])):(t(),u(ga,{key:1,icon:r(j),size:24},null,8,["icon"]))],64)):c("",!0),h(pa,{size:"small",trigger:"click","popper-class":"user-dropdown"},{dropdown:m((()=>[h(N,null,{default:m((()=>[h(F,{icon:r(w),onClick:e[2]||(e[2]=a=>ka(va))},{default:m((()=>[_(b(a.$t("user.home")),1)])),_:1},8,["icon"]),r(E).changePassword?(t(),u(F,{key:0,icon:r(C),onClick:e[3]||(e[3]=a=>ka(fa))},{default:m((()=>[_(b(a.$t("user.changePwd")),1)])),_:1},8,["icon"])):c("",!0),h(F,{divided:"",icon:r($),onClick:e[4]||(e[4]=a=>ka(ha))},{default:m((()=>[d("span",null,b(a.$t("user.logout")),1)])),_:1},8,["icon"])])),_:1})])),default:m((()=>[d("span",ea,[_(b(r(la).name)+"( "+b(r(la).account)+" ) ",1),h(ya,{class:"el-icon--right"},{default:m((()=>[h(r(V))])),_:1})])])),_:1})])])])}}}),la={class:"app-main"},na=a({__name:"app-main",setup(a){const e=q(),l=s((()=>e.cachedViews));return(a,e)=>{const s=o("router-view");return t(),i("section",la,[h(s,null,{default:m((({Component:a})=>[h(f,{name:"fade-transform",mode:"out-in"},{default:m((()=>[(t(),u(E,{include:r(l)},[(t(),u(x(a)))],1032,["include"]))])),_:2},1024)])),_:1})])}}}),oa=[J,K],ta=function(a){oa.forEach((e=>{a.component(e.name,e)}))};export{sa as _,na as a,ta as i};
