import{d as e,r as t,k as i,P as o,i as r,L as s,a,o as l,c as n,C as m,u as d,b as p,s as c,au as u,g as h,K as g,A as j,b6 as f,b7 as v,aA as x,b8 as w,H as y,I as b,at as k}from"./vendor-ebf5717c.js";import{u as _}from"./modules-8e459763.js";import{A as M}from"./config-b995786f.js";import{b as z}from"./router-b01c2f88.js";import"./_commonjsHelpers.js-52245d71.js";import"./common-f34ee3bc.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./virtual_svg-icons-register-c930359a.js";import"./locales-c8bf54b5.js";import"./lang-e64994c5.js";import"./_vite-a5811b86.js";import"./api-0aafd3a1.js";import"./hash-093cbcb3.js";import"./video-743a63e1.js";import"./linear-border-9ffa2a7f.js";import"./loading-056548a8.js";import"./animation-44c6d291.js";import"./path-49f4c749.js";import"./stroke-6d0a4a42.js";import"./character-rain-386bac1f.js";import"./fireworks-9fb01fcd.js";import"./canvas-40a658f7.js";import"./entry-direction-d0cc364c.js";import"./imgs-6af2820a.js";import"./carousel-55796b62.js";import"./attribute-70e52167.js";import"./border-ec4dfcd3.js";import"./clip-dc0cdeb2.js";import"./coffee-cup-fafe8fdc.js";import"./multiple-paths-fa7b0475.js";import"./polygon-43ea40ba.js";import"./corrugation-e288d474.js";import"./flex-8faaa697.js";import"./grid-8c4aa177.js";import"./houdini-08b5167e.js";import"./css-9cbff082.js";import"./preserve-3d-3d524a4b.js";import"./pseudo-d596ad29.js";import"./text-28544f4d.js";import"./olympic-rings-beb30777.js";import"./transform-3dd559a1.js";import"./cssd2-52a41577.js";import"./mixins-37ca2295.js";import"./cssd3-77cf8114.js";import"./device-053364b0.js";import"./three-scene-ade63375.js";import"./data-07702360.js";import"./G1-ea28b39c.js";import"./5-3-5-5-51f32552.js";import"./d3-c3505a59.js";import"./water-3ccaf236.js";import"./drag-6d215279.js";import"./editor-4b111c1b.js";import"./pipe-b990a68d.js";import"./plane-device-220bc2f9.js";import"./ep-0e474aa0.js";import"./mouse-pointing-75a29bca.js";import"./event-33a46c7d.js";import"./img-550206ed.js";import"./map-097da9c0.js";import"./music-player-0af0a0b3.js";import"./media-f8a32dde.js";import"./video-auto-play-f671b350.js";import"./ele-intersection-22f47313.js";import"./monitor-f542f548.js";import"./mock-273d4049.js";import"./button-2374293a.js";import"./card-73edd20e.js";import"./cursor-follow-03cffa7e.js";import"./debounce-5549f6ba.js";import"./excess-a678be0c.js";import"./skill-c6f37e4e.js";import"./svg-d565e4c5.js";import"./texture-c8773618.js";import"./directives-3f10c2ae.js";import"./vue-91546867.js";import"./layout-20b57113.js";import"./components-947202d5.js";import"./top-module-f17bdcf8.js";import"./side-bar-31508c0f.js";import"./tags-view-b35b284c.js";const C=e({__name:"title",props:{name:String,height:Number,color:{type:String,default:"#ffffff"},size:{type:Number,default:80},mouseRadius:{type:Number,default:30}},setup(e){const n=window.requestAnimationFrame||window.requestAnimationFrame||window.requestAnimationFrame||window.requestAnimationFrame||window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},m=e,d=t("canvasRef"),p={x:null,y:null},c=i({sizeX:2,sizeY:2,oldColor:""}),u=i([]),h=t([]);let g,j,f;const v=()=>{let e=d.value;g=e,j=e.getContext("2d"),g.width=window.innerWidth,g.height=m.height||window.innerHeight;let t=document.createElement("canvas");t.width=600,t.height=200;let i=t.getContext("2d");i.textAlign="center",i.textBaseline="middle",i.font=`bold ${m.size}px 微软雅黑`,i.fillStyle=m.color,i.fillText(m.name||"平台",t.width/2,t.height/2),f=t,x()},x=()=>{y(),b(),z()},w=i({ite:0,start:0,end:0}),y=()=>{u.length=0,h.length=0,h.values=[],w.ite=100,w.start=0,w.end=w.start+w.ite},b=()=>{let e=g,t=f,i=(e.width-t.width)/2,o=(e.height-t.height)/2;j.clearRect(0,0,e.width,e.height),j.drawImage(t,i,o,t.width,t.height);const r=j.getImageData(i,o,t.width,t.height);for(let s=0;s<t.width;s+=c.sizeX)for(let e=0;e<t.height;e+=c.sizeY){const a=4*(e*r.width+s);if(r.data[a+3]>=125){const l=`rgba(${r.data[a]} , ${r.data[a+1]} ,  ${r.data[a+2]} , ${r.data[a+3]})`;let n,m=s+20*Math.random(),d=200*-Math.random()+400,p=t.height/2-40*Math.random()+20;n=p<o+t.height/2?300*Math.random():300*-Math.random(),u.push({x:m+i,y:p+o,ex:s+i,ey:e+o,vx:d,vy:n,color:l,a:1500,width:c.sizeX,height:c.sizeY,stop:!1,checkLength:5,maxCheckTimes:10,checkTimes:0});let h=u[u.length-1];k(h)}}},k=e=>{c.oldColor!=e.color&&(j.fillStyle=e.color,c.oldColor=e.color),j.fillRect(e.x-e.width/2,e.y-e.height/2,e.width,e.height)},_=e=>{"WORD_CANVAS"==e.target.id?(p.x=e.clientX-e.target.getBoundingClientRect().left,p.y=e.clientY-e.target.getBoundingClientRect().top):(p.x=null,p.y=null)};let M=!1;const z=()=>{u.sort(((e,t)=>e.ex-t.ex)),M||(M=!0,C((e=>{if(h.length<u.length){w.end>u.length-1&&(w.end=u.length-1);let e=u.slice(w.start,w.end);h.values=h.values.concat(e),w.start+=w.ite,w.end+=w.ite}h.values.forEach((t=>{R(t,e)}))})))},C=e=>{if("function"==typeof e){let t=16;j.clearRect(0,0,g.width,g.height),e(t),n((()=>{C(e)}))}},R=(e,t)=>{A(e,t),k(e),q(e)},A=(e,t)=>{if(e.stop)e.x=e.ex,e.y=e.ey;else{t/=1e3;const i=e.ex-e.x,o=e.ey-e.y,r=Math.atan(o/i);let s=Math.abs(e.a*Math.cos(r));s=e.x>e.ex?-s:s;let a=Math.abs(e.a*Math.sin(r));a=e.y>e.ey?-a:a,e.vx+=s*t,e.vy+=a*t,e.vx*=.95,e.vy*=.95,e.x+=e.vx*t,e.y+=e.vy*t,Math.abs(e.x-e.ex)<=e.checkLength&&Math.abs(e.y-e.ey)<=e.checkLength?(e.checkTimes++,e.checkTimes>=e.maxCheckTimes&&(e.stop=!0)):e.checkTimes=0}},q=e=>{if(!p.x)return void r();const t=m.mouseRadius,i=Math.sqrt(Math.pow(p.x-e.x,2)+Math.pow(p.y-e.y,2)),o=Math.atan((p.y-e.y)/(p.x-e.x));if(i<t){e.stop=!1,e.checkTimes=0,e.recordX||(e.recordX=e.ex,e.recordY=e.ey),e.a=2e3+1e3*(1-i/t);let r=Math.abs((t-i)*Math.cos(o)),s=Math.abs((t-i)*Math.sin(o));r=p.x>e.x?-r:r,s=p.y>e.y?-s:s,e.ex=e.x+r,e.ey=e.y+s}else r();function r(){e.recordX&&(e.stop=!1,e.checkTimes=0,e.a=1500,e.ex=e.recordX,e.ey=e.recordY,e.recordX=null,e.recordY=null)}};return o(m,(()=>{v()})),r((()=>{window.addEventListener("mousemove",_,!1),v(),window.addEventListener("resize",v,!1)})),s((()=>{window.removeEventListener("mousemove",_),window.removeEventListener("resize",v)})),(e,t)=>(l(),a("canvas",{ref_key:"canvasRef",ref:d,id:"WORD_CANVAS",style:{position:"relative","z-index":"2"}},null,512))}}),R={class:"login-page"},A={class:"login-page__panel flex flex-ac"},q={class:"login-page__left f-x"},V=["src"],L={class:"login-page__right"},T=p("div",{class:"bg"},null,-1),X=p("h1",{class:"title"},[p("span",null,"请登录！")],-1),S=e({__name:"index",setup(e){const r={mounted:e=>{e.querySelector("input").focus()}},s=new URL("/imgs/login-icon.png",self.location).href,S=i({username:"",password:"",code:"",randomStr:""}),E=i({username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,validator:(e,t,i)=>{!t&&(t=""),""==t?i(new Error("请输入验证码!")):i()},trigger:"blur"}]}),Y=t(!1),$=t(""),F=t({}),K=t(null),N=t(null),U=_(),B=u(),I=h(),O=n((()=>M.base.title));o(B,(({query:e})=>{e&&($.value="error"!=e.redirect&&e.redirect||"",F.value=(e=>Object.keys(e).reduce(((t,i)=>("redirect"!==i&&(t[i]=e[i]),t)),{}))(e))}),{immediate:!0});const D=()=>{const e=K.value;e&&e.validate((e=>{e&&U.login(S,N.value).then((e=>{$.value.indexOf(M.base.domian)<0?I.push({path:$.value||`${z}/`,query:F.value}):window.location.href=decodeURIComponent($.value)}))}))},H=({shiftKey:e,key:t,keyCode:i}={})=>{13!=i?(t&&1===t.length&&(Y.value=!!(e&&t>="a"&&t<="z"||!e&&t>="A"&&t<="Z")),"CapsLock"===t&&!0===Y.value&&(Y.value=!1)):D()};return(e,t)=>{const i=y,o=b,n=k,u=g;return l(),a("div",R,[m(C,{name:d(O),height:200,color:"#ffffff",size:35,"mouse-radius":50},null,8,["name"]),p("div",A,[p("div",q,[p("img",{src:d(s),alt:""},null,8,V)]),p("div",L,[p("div",{class:"login-page--right_form",ref_key:"loadingRef",ref:N},[T,X,m(u,{class:"form",ref_key:"loginRef",ref:K,model:d(S),rules:d(E)},{default:c((()=>[m(o,{prop:"username",key:"username"},{default:c((()=>[j(m(i,{clearable:"",modelValue:d(S).username,"onUpdate:modelValue":t[0]||(t[0]=e=>d(S).username=e),placeholder:"账户",tabindex:"1",size:"large","prefix-icon":d(f),onKeyup:v(D,["enter"])},null,8,["modelValue","prefix-icon"]),[[r]])])),_:1}),m(n,{visible:d(Y),content:"大小写锁定",placement:"right",manual:""},{default:c((()=>[m(o,{prop:"password",key:"password"},{default:c((()=>[m(i,{clearable:"",placeholder:"密码",tabindex:"2",modelValue:d(S).password,"onUpdate:modelValue":t[1]||(t[1]=e=>d(S).password=e),type:"password","show-password":"",size:"large","prefix-icon":d(x),onKeyup:H,onBlur:t[2]||(t[2]=e=>Y.value=!1)},null,8,["modelValue","prefix-icon"])])),_:1})])),_:1},8,["visible"]),m(o,{prop:"code",key:"code"},{default:c((()=>[m(i,{modelValue:d(S).code,"onUpdate:modelValue":t[3]||(t[3]=e=>d(S).code=e),clearable:"",placeholder:"验证码",maxlength:"6",tabindex:"3",size:"large","prefix-icon":d(w),onKeyup:v(D,["enter"])},null,8,["modelValue","prefix-icon"])])),_:1}),p("div",{class:"btn-wrap"},[p("div",{class:"btn",onClick:D},"login")])])),_:1},8,["model","rules"])],512)])])])}}});export{S as default};
