{"version":3,"file":"index-d6e6a5d1.js","sources":["../../../code/src/pages/webgl/controls/orbit/methods.ts","../../../code/src/pages/webgl/controls/orbit/index.vue"],"sourcesContent":["import * as THREE from 'three'\nimport * as ThreeScene from 'three-scene'\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js'\n\nexport class NewThreeScene extends ThreeScene.Scene {\n  gui: InstanceType<typeof GUI>\n  constructor(options: ConstructorParameters<typeof ThreeScene.Scene>[0]) {\n    super(options)\n\n    this.gui = new GUI()\n    this.addGui()\n  }\n\n  addGui() {\n    const gui = this.gui\n    const ctr = this.controls as any\n    console.log(ctr)\n    if (!ctr) return\n\n    gui.add(ctr, 'autoRotate').name('自动旋转')\n    gui.add(ctr, 'autoRotateSpeed', 0.1, 30).name('自动旋转速度')\n    gui.add(ctr, 'enableDamping').name('阻尼（惯性）')\n    gui.add(ctr, 'dampingFactor', 0, 1).name('阻尼系数')\n    gui.add(ctr, 'enablePan').name('相机平移')\n    gui.add(ctr, 'enableRotate').name('旋转')\n    gui.add(ctr, 'enableZoom').name('缩放')\n    gui.add(ctr, 'keyPanSpeed', 1, 100).name('按键平移速度')\n\n    gui.add(ctr, 'maxAzimuthAngle', -Math.PI, Math.PI).name('旋转角度上限')\n    gui.add(ctr, 'minAzimuthAngle', -Math.PI, Math.PI).name('旋转角度下限')\n\n    gui.add(ctr, 'minDistance', 1, 1000).name('相机最近距离')\n    gui.add(ctr, 'maxDistance', 1, 10000).name('相机最远距离')\n    gui.add(ctr, 'minPolarAngle', 0, Math.PI).name('垂直角度下限')\n    gui.add(ctr, 'maxPolarAngle', 0, Math.PI).name('垂直角度上限')\n    gui.add(ctr, 'maxTargetRadius', 0, 1000).name('目标移动半径')\n\n    // 正交相机\n    // gui.add(ctr, 'maxZoom', 0, 20).name('相机缩小限制')\n    // gui.add(ctr, 'minZoom', 0, 40).name('相机放大限制')\n\n    gui.add(ctr, 'rotateSpeed', 0, 10).name('旋转速度')\n    gui.add(ctr, 'screenSpacePanning').name('空间内平移/垂直平面平移')\n    gui.domElement.style.position = 'absolute'\n    gui.domElement.style.top = 'opx'\n    gui.domElement.style.right = 'opx'\n    this.container.parentNode?.appendChild(gui.domElement)\n  }\n\n  initModel() {\n    const geo = new THREE.PlaneGeometry(300, 300)\n    const mat = new THREE.MeshStandardMaterial({\n      color: 0xb2dbdb\n      // shininess: 10\n    })\n    const ground = new THREE.Mesh(geo, mat)\n    ground.name = 'ground'\n    ground.rotation.x = Math.PI * 1.5\n    // 接收阴影\n    ground.receiveShadow = true\n    this.addObject(ground)\n\n    const size = 50\n    const box = new THREE.BoxGeometry(size, size, size)\n    const boxMat = new THREE.MeshStandardMaterial({\n      color: 0x137b02\n      // shininess: 10\n    })\n    const boxMesh = new THREE.Mesh(box, boxMat)\n    boxMesh.position.y = size / 2\n    boxMesh.castShadow = true\n    this.addObject(boxMesh)\n  }\n}\n","<template>\n  <div class=\"three-page\">\n    <div class=\"h-100\" ref=\"containerRef\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { NewThreeScene } from './methods'\nimport { useResize } from '@/hooks/scene-resize'\n\nconst containerRef = ref()\n\nconst options: ConstructorParameters<typeof NewThreeScene>[0] = {\n  axes: {\n    visible: true\n  },\n  render: {\n    alpha: true\n  },\n  grid: {\n    visible: true\n  }\n}\nlet scene: InstanceType<typeof NewThreeScene>\n\nonMounted(() => {\n  options.container = containerRef.value\n  scene = new NewThreeScene(options)\n  scene.run()\n\n  useResize(scene).resize()\n})\n</script>\n\n<style lang=\"scss\" module></style>\n"],"names":["NewThreeScene","ThreeScene.Scene","constructor","options","super","__publicField","this","gui","GUI","addGui","ctr","controls","console","log","add","name","Math","PI","domElement","style","position","top","right","_a","container","parentNode","appendChild","initModel","geo","THREE.PlaneGeometry","mat","THREE.MeshStandardMaterial","color","ground","THREE.Mesh","rotation","x","receiveShadow","addObject","box","THREE.BoxGeometry","boxMat","boxMesh","y","size","castShadow","containerRef","ref","axes","visible","render","alpha","grid","scene","onMounted","value","run","useResize","resize"],"mappings":"sWAIa,MAAAA,UAAsBC,EAEjC,WAAAC,CAAYC,GACVC,MAAMD,GAFRE,EAAAC,KAAA,OAIOA,KAAAC,IAAM,IAAIC,EACfF,KAAKG,QACP,CAEA,MAAAA,SACE,MAAMF,EAAMD,KAAKC,IACXG,EAAMJ,KAAKK,SACjBC,QAAQC,IAAIH,GACPA,IAELH,EAAIO,IAAIJ,EAAK,cAAcK,KAAK,QAChCR,EAAIO,IAAIJ,EAAK,kBAAmB,GAAK,IAAIK,KAAK,UAC9CR,EAAIO,IAAIJ,EAAK,iBAAiBK,KAAK,UACnCR,EAAIO,IAAIJ,EAAK,gBAAiB,EAAG,GAAGK,KAAK,QACzCR,EAAIO,IAAIJ,EAAK,aAAaK,KAAK,QAC/BR,EAAIO,IAAIJ,EAAK,gBAAgBK,KAAK,MAClCR,EAAIO,IAAIJ,EAAK,cAAcK,KAAK,MAChCR,EAAIO,IAAIJ,EAAK,cAAe,EAAG,KAAKK,KAAK,UAErCR,EAAAO,IAAIJ,EAAK,mBAAoBM,KAAKC,GAAID,KAAKC,IAAIF,KAAK,UACpDR,EAAAO,IAAIJ,EAAK,mBAAoBM,KAAKC,GAAID,KAAKC,IAAIF,KAAK,UAExDR,EAAIO,IAAIJ,EAAK,cAAe,EAAG,KAAMK,KAAK,UAC1CR,EAAIO,IAAIJ,EAAK,cAAe,EAAG,KAAOK,KAAK,UACvCR,EAAAO,IAAIJ,EAAK,gBAAiB,EAAGM,KAAKC,IAAIF,KAAK,UAC3CR,EAAAO,IAAIJ,EAAK,gBAAiB,EAAGM,KAAKC,IAAIF,KAAK,UAC/CR,EAAIO,IAAIJ,EAAK,kBAAmB,EAAG,KAAMK,KAAK,UAM9CR,EAAIO,IAAIJ,EAAK,cAAe,EAAG,IAAIK,KAAK,QACxCR,EAAIO,IAAIJ,EAAK,sBAAsBK,KAAK,gBACpCR,EAAAW,WAAWC,MAAMC,SAAW,WAC5Bb,EAAAW,WAAWC,MAAME,IAAM,MACvBd,EAAAW,WAAWC,MAAMG,MAAQ,MAC7B,OAAAC,EAAAjB,KAAKkB,UAAUC,aAAYF,EAAAG,YAAYnB,EAAIW,YAC7C,CAEA,SAAAS,GACE,MAAMC,EAAM,IAAIC,EAAoB,IAAK,KACnCC,EAAM,IAAIC,EAA2B,CACzCC,MAAO,WAGHC,EAAS,IAAIC,EAAWN,EAAKE,GACnCG,EAAOlB,KAAO,SACPkB,EAAAE,SAASC,EAAc,IAAVpB,KAAKC,GAEzBgB,EAAOI,eAAgB,EACvB/B,KAAKgC,UAAUL,GAEf,MACMM,EAAM,IAAIC,EADH,UAEPC,EAAS,IAAIV,EAA2B,CAC5CC,MAAO,UAGHU,EAAU,IAAIR,EAAWK,EAAKE,GAC5BC,EAAAtB,SAASuB,EAAIC,GACrBF,EAAQG,YAAa,EACrBvC,KAAKgC,UAAUI,EACjB,4DC9DF,MAAAI,EAAAC,IAEA5C,EAAA,CAAgE6C,KAAA,CACxDC,SAAA,GAENC,OAAA,CACQC,OAAA,GAERC,KAAA,CACMH,SAAA,IAIR,IAAAI,SAEAC,GAAA,KACEnD,EAAAqB,UAAAsB,EAAAS,MACAF,EAAA,IAAArD,EAAAG,GACAkD,EAAAG,MAEAC,EAAAJ,GAAAK"}