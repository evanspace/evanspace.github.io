{"version":3,"file":"index-d577af93.js","sources":["../../../code/src/pages/webgpu/scene/office/tip-msg.vue","../../../code/src/pages/webgpu/scene/office/edit-dialog.vue","../../../code/src/pages/webgpu/scene/office/config.ts","../../../code/src/pages/webgpu/scene/office/fleetings.ts","../../../code/src/pages/webgpu/scene/office/air-winds.ts","../../../code/src/pages/webgpu/scene/office/first-person.vue","../../../code/src/pages/webgpu/scene/office/keys.ts","../../../code/src/pages/webgpu/scene/office/models.ts","../../../code/src/pages/webgpu/scene/office/emitter.ts","../../../code/src/pages/webgpu/scene/office/methods.ts","../../../code/src/pages/webgpu/scene/office/class.ts","../../../code/src/pages/webgpu/scene/office/listen.ts","../../../code/src/pages/webgpu/scene/office/index.vue","../../../code/src/pages/webgpu/scene/office/data.ts","../../../code/src/pages/webgpu/scene/office/request.ts"],"sourcesContent":["<template>\n  <div\n    :class=\"$style.page\"\n    v-show=\"visible\"\n    :style=\"{\n      left: style.left + 'px',\n      top: style.top + 'px'\n    }\"\n  >\n    <div :class=\"$style.msg\" v-html=\"msg\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\ndefineProps<{\n  style: {\n    left: number\n    top: number\n  }\n  msg: string\n}>()\n\nconst visible = defineModel()\n</script>\n\n<style lang=\"scss\" module>\n.page {\n  color: #fff;\n  height: 0;\n  z-index: 2;\n  position: absolute;\n  transform: translate(-50%, -50%);\n  margin-top: 20px;\n  white-space: nowrap;\n  pointer-events: none;\n  .msg {\n    padding: 3px 5px;\n    border-radius: 5px;\n    background-color: rgba($color: #000000, $alpha: 0.5);\n    p {\n      line-height: 1.5;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"screen-welcom-dialog\" v-if=\"visible\">\n    <div class=\"mask\" @click=\"visible = !visible\"></div>\n    <div class=\"wrap\">\n      <div class=\"body\">\n        <div class=\"title\">\n          <div class=\"bg\">{{ title }}</div>\n          <div class=\"text\">{{ title }}</div>\n        </div>\n        <div class=\"content\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"content\"\n            placeholder=\"请输入\"\n            maxlength=\"24\"\n            show-word-limit\n          ></el-input>\n        </div>\n        <div class=\"footer\">\n          <div class=\"btn\" @click=\"onConfirm\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { trim } from '@/common/utils/format'\n\nconst props = defineProps<{\n  title?: string\n  errMessage?: string\n}>()\n\nconst visible = defineModel<boolean>()\nconst content = defineModel<string>('content')\n\nconst emits = defineEmits<{\n  confirm: [text?: string]\n}>()\n\nconst onConfirm = () => {\n  const text = trim(content.value || '')\n  if (!text) {\n    ElMessage.warning({\n      message: props.errMessage,\n      grouping: true\n    })\n    return\n  }\n  visible.value = false\n  emits('confirm', content.value)\n}\n</script>\n\n<style lang=\"scss\">\n.screen-welcom-dialog {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  position: fixed;\n  .mask {\n    width: 100%;\n    height: 100%;\n  }\n  .wrap {\n    top: 50%;\n    left: 50%;\n    width: 513px;\n    position: absolute;\n    transform: translate(-50%, -50%);\n    backdrop-filter: blur(5px);\n  }\n  .body {\n    background: url('/oss/img/scene/edit-bg.png') no-repeat;\n    background-size: 100% 100%;\n  }\n\n  .mask {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    content: '';\n    position: absolute;\n  }\n\n  .title {\n    height: 34px;\n    position: relative;\n    font-size: 20px;\n    line-height: 34px;\n    padding-left: 35px;\n    .bg,\n    .text {\n      position: absolute;\n      font-family: 'YouShe';\n    }\n    .text {\n      color: #e4f3ef;\n    }\n    .bg {\n      text-shadow: 0px 1px 5px #49afdb;\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n  }\n\n  .content {\n    height: 210px;\n    padding: 48px 29px 10px 27px;\n\n    .el-textarea {\n      height: 100%;\n      background-color: rgba($color: #a8bfde, $alpha: 0.1);\n      --el-border-color: transparent;\n      --el-input-border-radius: 0;\n      textarea {\n        height: 100%;\n      }\n    }\n  }\n\n  .footer {\n    padding: 16px;\n    text-align: center;\n    .btn {\n      width: 150px;\n      height: 42px;\n      cursor: pointer;\n      display: inline-block;\n      background: url('/oss/img/scene/edit-btn.png');\n      background-size: 100% 100%;\n      &:hover {\n        opacity: 0.85;\n      }\n      &:active {\n        opacity: 0.75;\n      }\n    }\n  }\n}\n</style>\n","import fleetings from './fleetings'\nimport airWinds from './air-winds'\n\nconst baseUrl = import.meta.env.VITE_BEFORE_STATIC_PATH\n\n// 配置\nexport default {\n  // 基础地址\n  baseUrl,\n\n  // 天空风格 hdr\n  sky: {\n    day: '/oss/textures/hdr/101.hdr',\n    evening: '/oss/textures/hdr/201.hdr',\n    night: '/oss/textures/hdr/301.hdr'\n  },\n\n  // 本地数据库\n  indexDB: {\n    cache: true,\n    dbName: 'THREE__OFFICE__GPU_DB',\n    tbName: 'TB',\n    version: 30\n  },\n\n  // 判断点击间隔时间\n  clickIntervalTime: 300,\n\n  // 人物视线高度\n  personSightHeight: 3.5,\n  // 人物视角元素 class\n  personSightClass: 'person-sight',\n  // 人物视角键盘控制\n  personKeys: [\n    { code: 'W', desc: '前进' },\n    { code: 'S', desc: '后退' },\n    { code: 'A', desc: '向左转向' },\n    { code: 'D', desc: '向右转向' },\n    { code: 'X', desc: '加速' },\n    { code: 'Z', desc: '减速' }\n  ],\n\n  // 电梯地面网格名称\n  liftGroundMeshName: ['电梯地板002', '电梯地板'],\n  // 模型地面网格名称\n  groundMeshName: [\n    '地面002',\n    '立方体306',\n    '平面118',\n    '立方体475',\n    '立方体514',\n    '立方体552',\n    '地面020',\n    '地面',\n    '平面391',\n\n    '立方体474',\n    '立方体1617',\n    'ground'\n  ],\n\n  // 公司模型名称\n  companyModelName: '二十五楼',\n\n  // 碰撞间距\n  collisionSpace: 1,\n\n  // 默认移动速度\n  moveFactor: 1,\n\n  // 场景风格时间段\n  styleTimes: [\n    [8, 18],\n    [18, 20],\n    [20, 8]\n  ],\n\n  // 流光组\n  fleetings,\n\n  // 路灯\n  streetLamps: [\n    [-374.6, 30, 284.2],\n    [-372, 30, 168.8],\n    [-95.35, 30, 299.24],\n    [-95.31, 30, 168.33],\n    [272.61, 30, 299.17],\n    [276.47, 30, 168.4],\n    [271.04, 30, -58.709],\n    [159.86, 30, -56.24],\n    [-134.27, 30, 30.457],\n    [-247.92, 30, -302.57]\n  ],\n\n  // 居民灯\n  residentLights: [\n    [-13, 169.8, 447.2],\n    [668, 114.9, 481.9]\n  ],\n\n  // 空调风\n  airWinds\n}\n","export default [\n  [\n    [-1247.3804124641044, 1.5, 275.8568665121467],\n    [-385.54913233299317, 1.5, 235.37414186604545],\n    [-74.15440788927455, 1.5, 249.36770549275383],\n    [465.22573985771027, 1.5, 245.43607244481086],\n    [725.5941701917296, 1.5, 249.85748872521614],\n    [1298.4540604962947, 1.5, 246.2826397113465],\n    [1540.3121752120794, 1.5, 248.16462011553776],\n    [2035.0305758526924, 1.5, 250.3197618335575],\n    [2247.330156763603, 1.5, 247.35851806181827],\n    [2614.171817337305, 1.5, 241.05764461471873]\n  ],\n  [\n    [653.0182392436438, 1.5, 186.20541161524878],\n    [640.5314650233396, 1.5, -478.1628829727225],\n    [641.5186617371273, 1.5, -741.7856284596322],\n    [641.8860570932816, 1.5, -1180.303297128374],\n    [636.5706330757, 1.5, -1435.6099074377244],\n    [651.4496990930706, 1.5, -2151.481360404476]\n  ],\n\n  [\n    [-184.48466894299744, 1.5, 2447.03846990951],\n    [-186.588766153597, 1.5, 1617.8540886409082],\n    [-184.69458845133832, 1.5, 1300.1784227505875],\n    [-186.39769511236557, 1.5, 361.1691127475875],\n    [-181.39186291802253, 1.5, 100.79623785390046],\n    [-153.08794728573116, 1.5, -361.6354243767241],\n    [-149.96162120866242, 1.5, -670.0291574302669],\n    [-143.93274083461012, 1.5, -1094.1977278309487],\n    [-146.55180744515872, 1.5, -1375.823600978301],\n    [-116.02623152983233, 1.5, -2108.4946603582016]\n  ],\n  [\n    [254.9890486347282, 1.5, 188.40181034697815],\n    [248.52761744154438, 1.5, -519.7744116293145]\n  ],\n  [\n    [-1247.9079420458377, 1.5, 301.9431764689599],\n    [-383.5097210507664, 1.5, 264.71915732788005],\n    [-71.23512580197027, 1.5, 275.3629302523157],\n    [466.128250712296, 1.5, 275.2716282312793],\n    [741.6370632026585, 1.5, 277.66102510376084],\n    [1297.4737719762595, 1.5, 277.2168628506806],\n    [1541.7297005023304, 1.5, 280.31972525507285],\n    [2037.2405649559382, 1.5, 280.98678580599466],\n    [2246.595015753523, 1.5, 283.1011600230837],\n    [2617.1867659153927, 1.5, 278.8253659556488]\n  ],\n  [\n    [2611.3420640520076, 1.5, 163.96935494305524],\n    [2239.038081627408, 1.5, 174.12102368223074],\n    [2032.5550985659966, 1.5, 188.6090112066963],\n    [1532.405982209116, 1.5, 189.6348998853747],\n    [1298.330733919915, 1.5, 185.10779629834326],\n    [732.0840195081455, 1.5, 187.16481480781331],\n    [470.24205339525065, 1.5, 189.90699833376397],\n    [-84.06660102385868, 1.5, 192.15782227582906],\n    [-384.7643865790769, 1.5, 185.23744642336993],\n    [-1257.0964658502476, 1.5, 220.7083203147085]\n  ],\n  [\n    [-1494.2513045295325, 1.5, -523.9699855391409],\n    [-347.25187028816856, 1.5, -474.65671096988984],\n    [-15.027389984711675, 1.5, -487.5419186263196],\n    [460.1280047533312, 1.5, -554.9641189234129],\n    [769.3595908495539, 1.5, -610.2755139698855],\n    [1295.7126441671367, 1.5, -685.7478189381841],\n    [1514.966726681715, 1.5, -702.0163690628412],\n    [2028.26504557221, 1.5, -708.4714990968719],\n    [2229.5644216212645, 1.5, -702.2878946149901],\n    [2629.0123847430777, 1.5, -711.4343799242977]\n  ],\n  [\n    [2617.633985591895, 1.5, 201.60419658108776],\n    [2243.909428783476, 1.5, 206.87474446964558],\n    [2034.8776601667457, 1.5, 214.17713607035415],\n    [1533.6654999142486, 1.5, 216.16096497050023],\n    [1292.917491810635, 1.5, 211.694521877535],\n    [733.5212884806997, 1.5, 212.4150255097067],\n    [468.0441428401828, 1.5, 211.83554003650767],\n    [-81.88484692151263, 1.5, 215.50162318985943],\n    [-385.33313200911095, 1.5, 208.79517510379873],\n    [-1252.2402103549757, 1.5, 246.2595475811134]\n  ],\n  [\n    [-216.74411496965007, 1.5, 2446.1899911004953],\n    [-212.54025051280874, 1.5, 1618.4430966822365],\n    [-213.1531765155122, 1.5, 1299.5372821282467],\n    [-212.88029306826311, 1.5, 361.004463092096],\n    [-204.31776521867644, 1.5, 95.17239553880012],\n    [-175.35362468958635, 1.5, -361.2624545092945],\n    [-176.90039928865932, 1.5, -675.9746927279216],\n    [-169.7193594972355, 1.5, -1094.745742326411],\n    [-170.74265977198806, 1.5, -1381.291722860903],\n    [-143.83153846069854, 1.5, -2106.089132268412]\n  ],\n  [\n    [-166.69061346783928, 1.5, -2106.8143772513126],\n    [-198.0488246554272, 1.5, -1381.582043826204],\n    [-199.7107069657603, 1.5, -1095.6028221394768],\n    [-206.74060670641225, 1.5, -677.0697121202405],\n    [-202.700259003459, 1.5, -365.7406797551388],\n    [-230.01591899796063, 1.5, 91.60705400934745],\n    [-242.9062425497127, 1.5, 359.4021473586805],\n    [-242.27821018691782, 1.5, 1297.7164477844215],\n    [-242.66307406448757, 1.5, 1615.4387891061058],\n    [-243.2521320513111, 1.5, 2442.9364318668368]\n  ],\n  [\n    [-191.438779413371, 1.5, -2106.3282094666683],\n    [-220.73958879833555, 1.5, -1384.5763798106966],\n    [-227.4255891103798, 1.5, -1097.5557009252084],\n    [-232.3590701921136, 1.5, -676.5102411464416],\n    [-229.60449004853604, 1.5, -363.66500472487803],\n    [-254.03347391022893, 1.5, 88.02859900453808],\n    [-270.9119445790846, 1.5, 355.8050561117999],\n    [-271.8960506127454, 1.5, 1297.4563069322603],\n    [-269.32241688262354, 1.5, 1619.2232293653196],\n    [-269.6085197110389, 1.5, 2442.486822687859]\n  ],\n  [\n    [-1490.9279956818982, 1.5, -546.4210301147804],\n    [-347.46827976878035, 1.5, -499.19644259345415],\n    [-10.407826447936372, 1.5, -512.7596249145535],\n    [456.4211224463379, 1.5, -576.9125511231589],\n    [759.2761525703872, 1.5, -631.8081248108039],\n    [1293.0791107409004, 1.5, -705.0280213831614],\n    [1508.7704296505792, 1.5, -728.3802290028357],\n    [2032.6982432385287, 1.5, -731.5117672205906],\n    [2219.6072248811265, 1.5, -734.637580331011],\n    [2625.643276984354, 1.5, -743.8101299753371]\n  ],\n  [\n    [2626.3901700736037, 1.5, -781.1017696857378],\n    [2220.8514498299905, 1.5, -769.0356255284045],\n    [2032.2913703532724, 1.5, -762.8575496165022],\n    [1511.3552256541166, 1.5, -759.2404009381686],\n    [1286.7820276626376, 1.5, -730.1059576100947],\n    [756.3682832855267, 1.5, -652.7145464611291],\n    [452.61843137679864, 1.5, -606.8682449037161],\n    [-12.78416595913032, 1.5, -543.2368997160044],\n    [-343.08772274031026, 1.5, -527.962481270673],\n    [-1489.2130939698452, 1.5, -574.8731410713193]\n  ],\n  [\n    [2623.1011840628594, 1.5, -814.6475022807425],\n    [2216.036849549517, 1.5, -801.011576545054],\n    [2030.0825780786195, 1.5, -787.8840257205616],\n    [1506.3601369519993, 1.5, -784.4496008940721],\n    [1287.1959219288165, 1.5, -752.7952322380231],\n    [752.9829675686118, 1.5, -673.170208139215],\n    [445.89106268451593, 1.5, -631.647110579748],\n    [-19.911685547898884, 1.5, -566.4904449943363],\n    [-345.4294265338732, 1.5, -548.87622952709],\n    [-1491.0183116346152, 1.5, -596.5878109151417]\n  ],\n  [\n    [231.82903145902645, 1.5, 189.17638213146898],\n    [224.3313036580691, 1.5, -523.6629269807526]\n  ],\n  [\n    [199.34569678838128, 1.5, -519.3457911109576],\n    [206.1046050573263, 1.5, 188.7851087774285]\n  ],\n  [\n    [174.1270577790077, 1.5, -515.3193396429033],\n    [182.4833928328745, 1.5, 188.894326911243]\n  ],\n  [\n    [622.1583807823386, 1.5, 185.58693904691773],\n    [615.5669746892655, 1.5, -478.02316117666794],\n    [616.5459390204022, 1.5, -744.0007790209756],\n    [613.1324539553776, 1.5, -1181.9088663464408],\n    [611.6114090950623, 1.5, -1438.6207884389128],\n    [628.3415357586932, 1.5, -2153.3845865461985]\n  ],\n  [\n    [602.78350309092, 1.5, -2154.719743541784],\n    [583.8038920679553, 1.5, -1440.8315284661855],\n    [586.7498907865534, 1.5, -1180.8808974289223],\n    [586.8406384033154, 1.5, -747.7377094033409],\n    [586.8508956121347, 1.5, -484.2064033588732],\n    [593.0310370827052, 1.5, 185.91229223707006]\n  ],\n  [\n    [578.7234766214117, 1.5, -2156.363001113399],\n    [561.8484645719363, 1.5, -1438.6215071324666],\n    [560.7857436547948, 1.5, -1182.8499596656188],\n    [560.3517043728388, 1.5, -745.4949702873103],\n    [557.7773034922892, 1.5, -480.2852643380643],\n    [558.7645775584266, 1.5, 186.38583329069326]\n  ],\n  [\n    [-1484.025498440763, 1.5, 1589.088331309893],\n    [-393.96910868208226, 1.5, 1516.2559403282253],\n    [-74.7466791237108, 1.5, 1497.2077562666695],\n    [1256.1050380329816, 1.5, 1412.9053951256778],\n    [1545.7613661614432, 1.5, 1375.475445534589],\n    [2019.3052651779678, 1.5, 1347.0045562400246],\n    [2264.380569551577, 1.5, 1321.736985473143],\n    [2621.038902449388, 1.5, 1303.2632694976223]\n  ],\n  [\n    [2615.521068926143, 1.5, 1238.5780936003941],\n    [2258.3918670930802, 1.5, 1261.9895519289669],\n    [2015.9065155623832, 1.5, 1279.1369316700068],\n    [1543.5687412388943, 1.5, 1313.0857264496485],\n    [1255.9910752964493, 1.5, 1347.0259911383498],\n    [-74.73105195415519, 1.5, 1433.156851131467],\n    [-395.3144573092685, 1.5, 1450.856342285389],\n    [-1484.7746552134213, 1.5, 1518.2654466877468]\n  ],\n  [\n    [-1486.2521698460682, 1.5, 1553.8383362668728],\n    [-396.19750801269345, 1.5, 1482.7486065742262],\n    [-71.92088044886327, 1.5, 1464.5297925685127],\n    [1256.918068908873, 1.5, 1380.3764995293263],\n    [1545.485404268628, 1.5, 1347.0908211842523],\n    [2017.8608712283437, 1.5, 1312.5458999512684],\n    [2263.3526606706505, 1.5, 1291.6292619335034],\n    [2618.0900692681894, 1.5, 1271.7679045071297]\n  ],\n  [\n    [2609.2336753049603, 1.5, 1207.2326715997492],\n    [2258.0447448771533, 1.5, 1234.200060988093],\n    [2013.2433453232213, 1.5, 1246.4385924864744],\n    [1537.9497670856265, 1.5, 1285.6015154261588],\n    [1246.9671405964586, 1.5, 1319.4097956914059],\n    [-76.34105135541756, 1.5, 1400.1133691807436],\n    [-403.6761898257357, 1.5, 1426.2143591380525],\n    [-1488.8439414589297, 1.5, 1488.4834195052688]\n  ],\n  [\n    [-1489.9127119985296, 1.5, -1305.0787226341486],\n    [-354.29187759205456, 1.5, -1199.4424925727942],\n    [-17.325336635572626, 1.5, -1210.9973136817894],\n    [479.38519152284806, 1.5, -1253.4931898814023],\n    [712.7186683885026, 1.5, -1277.225823638084],\n    [1251.9705359784543, 1.5, -1323.1594271542313],\n    [1536.9075733445457, 1.5, -1342.4231138533764],\n    [2633.970640303025, 1.5, -1441.150769865169]\n  ],\n  [\n    [2626.7360744966045, 1.5, -1500.0907029322143],\n    [1536.1874247547, 1.5, -1393.944739235368],\n    [1249.9934542169772, 1.5, -1372.6442832591213],\n    [706.0316536599506, 1.5, -1323.3622498761565],\n    [475.75181205384024, 1.5, -1304.4244974268722],\n    [-23.831381496092263, 1.5, -1258.6965801793433],\n    [-345.81148653711205, 1.5, -1246.9140156460867],\n    [-1488.2813502899066, 1.5, -1360.6189050427602]\n  ],\n  [\n    [-1489.3330840643912, 1.5, -1333.3203188878533],\n    [-345.07038603482135, 1.5, -1224.0929300365299],\n    [-19.92873696625179, 1.5, -1232.701480252149],\n    [481.0928175641447, 1.5, -1277.4934279216766],\n    [713.0346817725144, 1.5, -1300.2035395183932],\n    [1253.4400925497391, 1.5, -1349.6955854297387],\n    [1531.382167354786, 1.5, -1367.9632989336503],\n    [2628.8682212127546, 1.5, -1472.9252382891727]\n  ],\n  [\n    [2628.36687079996, 1.5, -1531.557671018591],\n    [1531.4864401770299, 1.5, -1420.701301081861],\n    [1240.9120402885014, 1.5, -1394.9797637220593],\n    [704.2016429913713, 1.5, -1347.7184457859767],\n    [476.2658333877147, 1.5, -1322.90344068362],\n    [-26.623918325591035, 1.5, -1281.7971567634181],\n    [-345.49130989835896, 1.5, -1270.872303562496],\n    [-1485.277362327018, 1.5, -1387.7346376410196]\n  ]\n]\n","export default [\n  {\n    name: '_空调风_grp',\n    list: [\n      // 右边\n      {\n        width: 5,\n        height: 20,\n        position: { x: 21.7, y: 192.6, z: 41.87 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: 24.83, y: 192.6, z: 41.08 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: 29.36, y: 192.6, z: 39.94 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: 31.36, y: 192.6, z: 39.43 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: 37.15, y: 192.6, z: 37.98 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n      {\n        width: 5,\n        height: 21,\n        position: { x: 41.58, y: 192.6, z: 36.86 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n      {\n        width: 5,\n        height: 22,\n        position: { x: 44.82, y: 192.6, z: 36.04 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n      {\n        width: 5,\n        height: 23,\n        position: { x: 49.28, y: 192.6, z: 34.92 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n      {\n        width: 5,\n        height: 23,\n        position: { x: 53.33, y: 192.6, z: 33.9 },\n        rotation: { x: 0, y: 0, z: -15 }\n      },\n\n      // 左边\n      {\n        width: 5,\n        height: 20,\n        position: { x: -25.5, y: 192.6, z: 39.8 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: -21.5, y: 192.6, z: 39.9 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: -16.5, y: 192.6, z: 40 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: -11.5, y: 192.6, z: 40.1 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: -6.5, y: 192.6, z: 40.2 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: -1.5, y: 192.6, z: 40.3 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: 3.5, y: 192.6, z: 40.4 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: 8.5, y: 192.6, z: 40.5 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: 13.5, y: 192.6, z: 40.6 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 20,\n        position: { x: 18.5, y: 192.6, z: 42.35 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n\n      // 人事\n      {\n        width: 5,\n        height: 36,\n        position: { x: -36, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 36,\n        position: { x: -31, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 36,\n        position: { x: -26, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 36,\n        position: { x: -21, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 36,\n        position: { x: -17, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      }\n    ]\n  },\n  {\n    name: '陈总办公室',\n    list: [\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: 29.5 },\n        rotation: { x: 0, y: 0, z: 90 }\n      },\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: 35.3 },\n        rotation: { x: 0, y: 0, z: 90 }\n      }\n    ]\n  },\n  {\n    name: '逄总办公室',\n    list: [\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: 10.2 },\n        rotation: { x: 0, y: 0, z: 90 }\n      },\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: 15.3 },\n        rotation: { x: 0, y: 0, z: 90 }\n      },\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: 20.3 },\n        rotation: { x: 0, y: 0, z: 90 }\n      }\n    ]\n  },\n  {\n    name: '财务室',\n    list: [\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: -9 },\n        rotation: { x: 0, y: 0, z: 90 }\n      },\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: -4 },\n        rotation: { x: 0, y: 0, z: 90 }\n      },\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: 1 },\n        rotation: { x: 0, y: 0, z: 90 }\n      }\n    ]\n  },\n  {\n    name: 'CFO办公室',\n    list: [\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: -30 },\n        rotation: { x: 0, y: 0, z: 90 }\n      },\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: -25 },\n        rotation: { x: 0, y: 0, z: 90 }\n      },\n      {\n        width: 5,\n        height: 15,\n        position: { x: -38.41, y: 192.6, z: -20 },\n        rotation: { x: 0, y: 0, z: 90 }\n      }\n    ]\n  },\n  {\n    name: '大会议室',\n    list: [\n      {\n        width: 5,\n        height: 13,\n        position: { x: -35, y: 192.6, z: 46.67 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 10,\n        position: { x: -42, y: 192.6, z: 46.67 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 16,\n        position: { x: -36.5, y: 192.6, z: 46.67 },\n        rotation: { x: 0, y: 0, z: 5 }\n      },\n      {\n        width: 5,\n        height: 16,\n        position: { x: -31.5, y: 192.6, z: 46.7 },\n        rotation: { x: 0, y: 0, z: 5 }\n      }\n    ]\n  },\n  {\n    name: '大洽谈室',\n    list: [\n      {\n        width: 5,\n        height: 10,\n        position: { x: 55.7, y: 192.6, z: 27 },\n        rotation: { x: 0, y: 0, z: -90 }\n      },\n      {\n        width: 5,\n        height: 10,\n        position: { x: 55.7, y: 192.6, z: 32 },\n        rotation: { x: 0, y: 0, z: -90 }\n      },\n      {\n        width: 5,\n        height: 13,\n        position: { x: 55.7, y: 192.6, z: 37 },\n        rotation: { x: 0, y: 0, z: -90 }\n      }\n    ]\n  },\n  {\n    name: '程总办公室',\n    list: [\n      {\n        width: 5,\n        height: 10,\n        position: { x: 55.7, y: 192.6, z: 19 },\n        rotation: { x: 0, y: 0, z: -90 }\n      },\n      {\n        width: 5,\n        height: 10,\n        position: { x: 55.7, y: 192.6, z: 14 },\n        rotation: { x: 0, y: 0, z: -90 }\n      }\n    ]\n  },\n  {\n    name: '_老板办公室_grp',\n    list: [\n      {\n        width: 5,\n        height: 32,\n        position: { x: 35, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 32,\n        position: { x: 40, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 32,\n        position: { x: 45, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 32,\n        position: { x: 50, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 32,\n        position: { x: 55, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 32,\n        position: { x: 60, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      },\n      {\n        width: 5,\n        height: 32,\n        position: { x: 65, y: 192.6, z: 2.7 },\n        rotation: { x: 0, y: 0, z: 180 }\n      }\n    ]\n  }\n]\n","<template>\n  <div :class=\"[$style.page, DEFAULRCONFIG.personSightClass]\">\n    <div :class=\"$style.tip\">\n      <div :class=\"$style.item\" v-for=\"item in items\">\n        <span>{{ item.code }}</span>\n        <span>{{ item.desc }}</span>\n      </div>\n    </div>\n\n    <div :class=\"$style.center\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport DEFAULRCONFIG from './config'\n\nconst items = DEFAULRCONFIG.personKeys || []\n</script>\n\n<style lang=\"scss\" module>\n.page {\n  --bg-color: #0f365f;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: none;\n  position: absolute;\n  transition: all 0.5s;\n  background: radial-gradient(transparent 75%, var(--bg-color));\n  pointer-events: none;\n}\n\n.tip {\n  top: 11.5%;\n  width: 100%;\n  display: flex;\n  position: absolute;\n  justify-content: center;\n\n  .item {\n    padding: 10px;\n    display: flex;\n    align-items: center;\n    span {\n      &:nth-child(1) {\n        padding: 3px 5px;\n        margin-right: 5px;\n        border-radius: 3px;\n        background-color: #000;\n      }\n    }\n  }\n}\n\n.center {\n  --color: #0be10e;\n  $size: 20px;\n  top: 50%;\n  left: 50%;\n  width: $size;\n  height: $size;\n  opacity: 0.5;\n  // border: 1px dashed var(--color);\n  position: absolute;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  &::before,\n  &::after {\n    top: 50%;\n    left: 50%;\n    content: '';\n    position: absolute;\n    transform: translate(-50%, -50%);\n    border-radius: 50%;\n    background-color: var(--color);\n  }\n  &::after {\n    width: $size;\n    height: 1px;\n  }\n  &::before {\n    width: 1px;\n    height: $size;\n  }\n}\n</style>\n","// M_: 模块\nexport default {\n  // 主场景\n  M_MAIN_SCENE: 'MAIN_SCENE',\n  // 窗帘\n  M_CURTAIN: 'curtain',\n  // 公司楼层\n  M_CONPANT_FLOOR: 'campany_floor',\n\n  // 人物\n  M_PERSON: 'PERSON',\n  // 机器人\n  M_ROBOT: 'ROBOT',\n\n  // 模式开关\n  M_MODE_SWITCH: 'MODE_SWITCH',\n\n  // 定位\n  M_ANCHOR_POS: 'ANCHOR_POS',\n  // 锚点\n  M_ANCHOR_TARGET: 'ANCHOR_TARGET',\n\n  // 等电梯\n  M_WAIT_LIFT: 'WAIT_LIFT',\n  // 双开横推门\n  M_DOUBLE_HORIZONTAL_SWITCH: 'DOUBLE_HORIZONTAL_SWITCH',\n  // 双旋转开门\n  M_DOUBLE_ROTATE_SWITCH: 'DOUBLE_ROTATE_SWITCH',\n  // 单旋转开门\n  M_ODD_ROTATE_SWITCH: 'ODD_ROTATE_SWITCH',\n  // 视频\n  M_VIDEO_SWITCH: 'VIDEO_SWITCH',\n  // 编辑\n  M_SCREEN_EDIT: 'SCREEN_EDIT',\n  // 窗帘开关\n  M_CURTAIN_SWITCH: 'CURTAIN_SWITCH',\n  // 闸机门禁\n  M_GATE_SWITCH: 'GATE_SWITCH',\n\n  // 灯总开关\n  M_LIGHT_MAIN_SWITCH: 'LIGHT_MAIN_SWITCH',\n  // 开关灯\n  M_LIGHT_SWITCH: 'LIGHT_SWITCH',\n  // 空调开关\n  M_AIR_SWITCH: 'AIR_SWITCH',\n\n  // dot 点位类型值\n  DOT: 'DOT'\n}\n","import KEYS from './keys'\n\nexport default [\n  // 场景建筑\n  {\n    key: KEYS.M_MAIN_SCENE,\n    name: '场景',\n    size: 13.6,\n    url: '/公司总部.glb'\n  },\n  {\n    key: KEYS.M_CONPANT_FLOOR,\n    name: '公司',\n    size: 16.6,\n    url: '/二十五楼.glb'\n  },\n\n  {\n    key: 'floor_low',\n    name: '低层',\n    size: 6.1,\n    url: '/低层.glb'\n  },\n  {\n    key: KEYS.M_CURTAIN,\n    name: '窗帘',\n    size: 0.2,\n    url: '/窗帘.glb'\n  },\n  {\n    key: 'floor_heigh',\n    name: '高层',\n    size: 2.7,\n    url: '/高层.glb'\n  },\n\n  {\n    key: KEYS.M_ROBOT,\n    name: '机器人',\n    size: 0.3,\n    url: '/oss/model/park/机器人.glb'\n  },\n  {\n    key: KEYS.M_PERSON,\n    name: '人物',\n    size: 2.2,\n    url: '/oss/model/park/RobotExpressive.glb'\n  },\n\n  // 灯光\n  {\n    key: 'spot_light_floor_1',\n    type: 'GPUspotlight',\n    name: '主机聚光灯',\n    intensity: 4,\n    color: 0xffffed,\n    castShadow: false,\n    distance: 20,\n    penumbra: 0.5\n  },\n  {\n    key: 'spot_light_floor_2',\n    type: 'GPUspotlight',\n    name: '会议室聚光灯',\n    intensity: 2,\n    color: 0xffffed,\n    castShadow: false,\n    penumbra: 0.5,\n    angle: Math.PI * 0.36,\n    distance: 10\n  },\n\n  {\n    key: 'spot_light_floor_3',\n    type: 'GPUspotlight',\n    name: '屏幕聚光灯',\n    intensity: 1,\n    color: 0xffffed,\n    distance: 15,\n    penumbra: 0.5,\n    castShadow: false,\n    angle: Math.PI * 0.36\n  },\n  {\n    key: 'spot_light_floor_4',\n    type: 'GPUspotlight',\n    name: '屏幕聚光灯',\n    intensity: 2,\n    color: 0xffffed,\n    distance: 12,\n    penumbra: 0.5,\n    castShadow: false,\n    angle: Math.PI * 0.4\n  },\n  {\n    key: 'spot_light_floor_5',\n    type: 'GPUspotlight',\n    name: '屏幕聚光灯',\n    intensity: 2,\n    color: 0xffffed,\n    distance: 8,\n    penumbra: 0.5,\n    castShadow: false,\n    angle: Math.PI * 0.23\n  },\n\n  {\n    key: 'rect_area_light_1',\n    type: 'GPUplanelight',\n    name: '面光灯',\n    intensity: 1.2,\n    color: 0xffffff,\n    width: 134,\n    height: 134\n  },\n  {\n    key: 'rect_area_light_2',\n    type: 'GPUplanelight',\n    name: '面光灯',\n    intensity: 0.5,\n    color: 0xffffff,\n    width: 134,\n    height: 134\n  },\n\n  // 精灵锚点\n  {\n    key: KEYS.M_ANCHOR_POS,\n    name: '定位',\n    type: 'sprite',\n    range: { x: 4, y: 4 },\n    mapUrl: '/pos.png'\n  },\n  {\n    key: KEYS.M_ANCHOR_TARGET,\n    name: '锚点',\n    type: 'sprite',\n    mapUrl: '/dw.png'\n  },\n\n  // 门-开关\n  {\n    key: KEYS.M_WAIT_LIFT,\n    name: '电梯门',\n    type: 'sprite',\n    mapUrl: '/lift.png'\n  },\n  {\n    key: KEYS.M_DOUBLE_HORIZONTAL_SWITCH,\n    name: '双横推开关门',\n    type: 'sprite',\n    mapUrl: '/lift.png',\n    range: { x: 0.3, y: 0.3 }\n  },\n  {\n    key: KEYS.M_DOUBLE_ROTATE_SWITCH,\n    name: '双旋转开关门',\n    type: 'sprite',\n    mapUrl: '/lift.png',\n    range: { x: 0.3, y: 0.3 }\n  },\n  {\n    key: KEYS.M_ODD_ROTATE_SWITCH,\n    name: '单旋转开关门',\n    type: 'sprite',\n    mapUrl: '/lift.png',\n    range: { x: 0.3, y: 0.3 }\n  },\n  {\n    key: KEYS.M_GATE_SWITCH,\n    name: '闸机开关',\n    type: 'sprite',\n    mapUrl: '/gate.png'\n  },\n\n  {\n    key: KEYS.M_VIDEO_SWITCH,\n    name: '视频播放开关',\n    type: 'sprite',\n    mapUrl: '/video.png'\n  },\n  {\n    key: KEYS.M_SCREEN_EDIT,\n    name: '编辑大屏按钮',\n    type: 'sprite',\n    mapUrl: '/edit.png'\n  },\n  {\n    key: KEYS.M_CURTAIN_SWITCH,\n    name: '窗帘-开关',\n    type: 'sprite',\n    mapUrl: '/curtain.png'\n  },\n\n  // 灯开关\n  {\n    key: KEYS.M_LIGHT_SWITCH,\n    name: '开关灯',\n    type: 'sprite',\n    mapUrl: '/light.png'\n  },\n  {\n    key: KEYS.M_LIGHT_MAIN_SWITCH,\n    name: '开关灯',\n    type: 'sprite',\n    mapUrl: '/light.png'\n  },\n  {\n    key: KEYS.M_AIR_SWITCH,\n    name: '空调开关',\n    type: 'sprite',\n    mapUrl: '/air.png'\n  },\n  {\n    key: KEYS.M_MODE_SWITCH,\n    name: '模式切换按钮',\n    type: 'sprite',\n    mapUrl: '/mode.png'\n  }\n].map(item => {\n  if (item.url && item.url.indexOf('oss') < 0) {\n    item.url = '/oss/model/office' + item.url\n  }\n  if (item.mapUrl) {\n    item.mapUrl = '/oss/textures/office' + item.mapUrl\n  }\n  if (!item.range) {\n    item.range = { x: 0.5, y: 0.5 } as any\n  }\n  return item as import('three-scene/types/model').ModelItem\n})\n","// 事件\nconst eventNames = [\n  // 漫游\n  'CAMERA:ROAM',\n  // 巡航\n  'CAMERA:CRUISE',\n  // 视角重置\n  'CAMERA:RESET',\n  // 第一人称\n  'CAMERA:FIRST',\n  // 第三人称\n  'CAMERA:THREE',\n\n  // 大门\n  'CAMERA:GATE',\n  // 前台\n  'CAMERA:RECCEPTION',\n  // 办公区域\n  'CAMERA:OFFICE',\n  // 大会议室\n  'CAMERA:LCR',\n  // 老板办公室\n  'CAMERA:BOSS',\n\n  // 人物加速\n  'PERSON:ADD',\n  // 人物减速\n  'PERSON:SUB',\n\n  // 前台灯开关\n  'LIGHT:RECCEPTION',\n  // 过道灯\n  'LIGHT:AILSE',\n  // 人事\n  'LIGHT:PM',\n  // 主机\n  'LIGHT:HOST',\n  // 大会议室\n  'LIGHT:LCR',\n  // 公司主灯光组\n  'LIGHT:CLG',\n  // 一楼灯光组\n  'LIGHT:FIRSTFLOOR',\n\n  // 关灯\n  'LIGHT:CLOSE',\n  // 自动\n  'LIGHT:AUTO',\n\n  // 窗帘\n  'CURTAIN:TOGGLE',\n\n  // 公司大门\n  'DOOR:COMPANY',\n  // 大会议室门\n  'DOOR:LCR',\n  // 老板办公室\n  'DOOR:BOSS',\n\n  // 大屏\n  'SCREEN:COMPANY',\n  // 欢迎词\n  'SCREEN:WELCOM',\n  // 小会议室大屏\n  'SCREEN:SCR',\n  // 大会议室大屏\n  'SCREEN:LCR',\n\n  // 空调\n  'AIR:MAIN',\n  // 单个空调\n  'AIR:ODD',\n  // 风速+\n  'AIR:WINDADD',\n  // 风速-\n  'AIR:WINDSUB',\n\n  // 场景坐标\n  'SCENE:POS',\n\n  // 白天\n  'SKY:DAY',\n  // 傍晚\n  'SKY:EVENING',\n  // 夜晚\n  'SKY:NIGHT',\n\n  // 流光\n  'EFFECT:FLEETING',\n\n  // 鸟瞰视角-公司\n  'BIRD:COMPANY'\n] as const\ntype EventNames = (typeof eventNames)[number]\n\nclass EventEmitter {\n  // 定义一个私有变量，用于存储事件监听器\n  private listteners: Record<string, Set<Function>> = eventNames.reduce((obj, key) => {\n    // 初始化每个事件对应的监听器集合\n    obj[key] = new Set()\n    return obj\n  }, {})\n\n  // 添加事件监听器\n  on(eventName: EventNames, listtener: Function) {\n    this.listteners[eventName].forEach(it => {\n      if (it.toString() === listtener.toString()) {\n        this.listteners[eventName].delete(it)\n      }\n    })\n    // 将监听器添加到对应事件的监听器集合中\n    this.listteners[eventName].add(listtener)\n  }\n\n  // 触发事件\n  emit(eventName: EventNames, ...args: any[]) {\n    // 遍历对应事件的监听器集合，并执行监听器函数\n    this.listteners[eventName].forEach(listtener => listtener(...args))\n  }\n}\n\nexport default new EventEmitter()\n","import * as THREE from 'three/webgpu'\nimport * as ThreeScene from 'three-scene'\nimport * as TWEEN from 'three/examples/jsm/libs/tween.module.js'\nimport { bloom } from 'three/examples/jsm/tsl/display/BloomNode'\nimport { RectAreaLightHelper } from 'three/examples/jsm/helpers/RectAreaLightHelper'\n\nimport DEFAULTCONFIG from './config'\nimport { ObjectItem, ThreeModelItem } from 'three-scene/types/model'\n\nconst Hooks = ThreeScene.Hooks\nconst Utils = ThreeScene.Utils\n\nconst { initCSS2DRender, createCSS2DDom } = Hooks.useCSS2D()\nconst { createFleeting, fleetingAnimate } = Hooks.useFleeting()\nconst { raycaster, pointer, update: raycasterUpdate, style } = Hooks.useRaycaster()\nconst { createStripSmoke } = Hooks.useSmoke()\n\nconst { pass, mrt, output, emissive, float, uniform } = THREE.TSL\n\nexport { Hooks, Utils }\n\n/**\n * 场景合成器\n * @param scene 场景\n * @param camera 相机\n * @param renderer 渲染器\n * @param isEnv 是否环境发光\n * @returns 合成渲染器\n */\nexport const createPostProcessing = (scene, camera, renderer, isEnv?: boolean) => {\n  // 场景合成\n  const scenePass = pass(scene, camera)\n  if (isEnv) {\n    scenePass.setMRT(\n      mrt({\n        output,\n        emissive\n      })\n    )\n  } else {\n    scenePass.setMRT(\n      mrt({\n        output,\n        bloomIntensity: float(0.01)\n      })\n    )\n  }\n\n  const outputPass = scenePass.getTextureNode()\n  let bloomPass\n  if (isEnv) {\n    const emissivePass = scenePass.getTextureNode('emissive')\n    bloomPass = bloom(emissivePass, 2.5, 0.5)\n  } else {\n    const bloomIntensityPass = scenePass.getTextureNode('bloomIntensity')\n    bloomPass = bloom(outputPass.mul(bloomIntensityPass))\n  }\n\n  // 色调映射\n  renderer.toneMapping = THREE.NeutralToneMapping\n  const postProcessing = new THREE.PostProcessing(renderer)\n  if (isEnv) {\n    postProcessing.outputNode = outputPass.add(bloomPass)\n  } else {\n    postProcessing.outputColorTransform = false\n    postProcessing.outputNode = outputPass.add(bloomPass).renderOutput()\n  }\n  return postProcessing\n}\n\n/**\n * 点位更新回调\n * @param obj 模型对象\n * @param _group 场景模型组\n * @returns\n */\nexport const dotUpdateObjectCall = (obj: ObjectItem, _group) => {\n  // const val = wsStore.getKeyValue( code ).value\n  const val = Math.random() * 40\n  if (val !== void 0) {\n    obj.value = val\n  }\n\n  obj.show = Math.random() > 0.5\n  obj.value = Number(Number(obj.value || 0).toFixed(2))\n  return {\n    value: obj.value,\n    show: obj.show,\n    font: {\n      ...(obj.font || {}),\n      color: '#' + (0xffffff + val * 1000000).toString(16).substring(0, 6)\n    }\n  }\n}\n\n/**\n * 更新点位隐现\n * @param scene 场景\n * @param target 目标对象\n * @param dotShowStrict 是否严格模式\n */\nexport const updateDotVisible = (scene, target: ThreeModelItem, dotShowStrict?) => {\n  const item = target.data as ObjectItem\n  const res = dotUpdateObjectCall(item, scene.buildingGroup)\n  if (typeof res === 'object') {\n    Object.keys(res).forEach(key => {\n      item[key] = res[key]\n    })\n  }\n\n  target.visible = item.show || !dotShowStrict\n  const dom = target.element?.getElementsByClassName('inner')[0] as HTMLElement\n  if (dom) {\n    const { size, color } = item.font || {}\n    if (size != void 0) {\n      dom.style.fontSize = typeof size === 'string' ? size : size + 'px'\n    }\n    if (color != void 0) {\n      dom.style.color = color\n    }\n    dom.textContent = `${item.value || 0}${item.unit ?? ''}`\n  }\n}\n\n/**\n * 创建 css2d 渲染器\n * @param options 配置\n * @param container 容器\n * @returns\n */\nexport const createCSS2DRender = (options, container) => {\n  return initCSS2DRender(options, container)\n}\n\n/**\n * 创建点位\n * @param item 模型配置对象\n * @param clickBack 点击事件回调\n * @returns\n */\nexport const createDotCSS2DDom = (item: ObjectItem, clickBack) => {\n  const pos = item.position\n  const { size, color } = item.font || {}\n  const { x = 0, y = 0, z = 0 } = pos || {}\n  const label = createCSS2DDom({\n    name: `\n      <div class=\"bg\"></div>\n      <span class=\"inner\" style=\"${\n        size != void 0 ? `font-size: ${typeof size === 'string' ? size : size + 'px'};` : ''\n      } ${color != void 0 ? `color: ${color}` : ''}\"></span>\n    `,\n    className: 'dot-2D-label',\n    position: [x, y, z],\n    onClick: clickBack\n  })\n  label.name = item.name\n  label.data = item\n  // 原始点位 备用\n  label._position_ = { x, y, z }\n  return label\n}\n\n/**\n * 创建灯光组\n * @param item 模型配置对象\n * @param obj 场景对象\n * @param hasHelper 是否舒服辅助\n */\nexport const createLightGroup = (item: ObjectItem, obj, hasHelper?: boolean) => {\n  const group = new THREE.Group()\n  obj.name = item.name\n  const pos = item.position || { x: 0, y: 0, z: 0 }\n  const { to = { x: pos.x, y: pos.y - 2, z: pos.z } } = item\n  if (!obj.isRectAreaLight) {\n    obj.target.position.set(to.x, to.y, to.z)\n    group.add(obj.target)\n  }\n  // 开灯\n  obj.visible = !true\n  group.add(obj)\n  if (hasHelper) {\n    if (obj.isRectAreaLight) {\n      const rectLightHelper = new RectAreaLightHelper(obj)\n      group.add(rectLightHelper)\n    } else {\n      const helper = new THREE.SpotLightHelper(obj, obj.color)\n      group.add(helper)\n    }\n  }\n  return group\n}\n\n/**\n * 创建流光组\n * @param pointList 点位列表-3维数组\n * @param color 颜色\n * @param bloomIntensity 发光强度\n * @returns\n */\nexport const createFleetingGroup = (pointList: number[][][] = [], color, bloomIntensity) => {\n  const group = new THREE.Group()\n  for (let i = 0; i < pointList.length; i++) {\n    const points = pointList[i]\n    const line = createFleeting({\n      color,\n      points,\n      tubularSegments: 1000,\n      radius: 0.6,\n      repeat: {\n        x: 2,\n        y: 4\n      },\n      bloom: true,\n      bloomIntensity\n    })\n    group.add(line)\n  }\n  group.name = '流光组'\n  return group\n}\n\n/**\n * 流光组动画\n */\nexport const fleetingGroupAnimate = fleetingAnimate\n\n/**\n * 创建路灯组\n * @param list 路灯坐标组\n * @param color 颜色\n * @returns\n */\nexport const createStreetLampGroup = (list, color: number | string = 0xffffff) => {\n  const group = new THREE.Group()\n  const spotLight = new THREE.SpotLight(color, 10, 100, Math.PI * 0.6, 0.6, 0.4)\n  for (let i = 0; i < list.length; i++) {\n    const light = spotLight.clone()\n    const [x, y, z] = list[i]\n    light.position.set(x, y, z)\n    light.target.position.set(x, y - 1, z)\n    light.add(spotLight.target)\n    group.add(light)\n    // 辅助不加，灯光不圆\n    const helper = new THREE.SpotLightHelper(light)\n    helper.visible = false\n    group.add(helper)\n  }\n  group.name = '路灯组'\n  group.visible = false\n  return group\n}\n\n/**\n * 创建模型动画\n * @param model 模型\n * @param animations 模型动画\n * @param play 播放\n * @param timeScale 加速\n * @returns\n */\nexport const createModelAnimate = (\n  model,\n  animations = [],\n  play: boolean = true,\n  timeScale: number = 1\n) => {\n  if (!animations.length) return\n  const mixer = new THREE.AnimationMixer(model)\n  const obj = animations.reduce((ob, cur: any) => {\n    const key = cur.name || ''\n    ob[key] = mixer.clipAction(cur)\n    if (play) {\n      ob[key].play()\n    }\n    ob[key].timeScale = timeScale\n    return ob\n  }, {})\n\n  model.__action__ = obj\n  model.__mixer__ = mixer\n}\n\n/**\n * 切换窗帘动画\n * @param model 场景模型\n * @param isClose 是否关闭\n */\nexport const toggleCurtainAnimate = (model, isClose?: boolean) => {\n  model.__close__ = isClose ?? !model.__close__\n  const { __action__, __mixer__ } = model\n  Object.keys(__action__).forEach(key => {\n    if (model.__close__) {\n      __action__[key].loop = THREE.LoopOnce\n      __action__[key].clampWhenFinished = true\n      __action__[key].play()\n    }\n  })\n  if (!model.__close__) {\n    __mixer__.stopAllAction()\n  }\n}\n\n/**\n * 获取相交对象\n * @param e 鼠标事件\n * @param container 容器\n * @param scale 缩放\n * @param camera 相机\n * @param objects 模型对接列表\n * @param deepCheck 深度检查\n * @returns\n */\nexport const getIntersectObjects = (\n  e: PointerEvent,\n  container,\n  scale,\n  camera,\n  objects,\n  deepCheck\n) => {\n  raycasterUpdate(e, container, scale)\n  // 设置新的原点和方向向量更新射线, 用照相机的原点和点击的点构成一条直线\n  raycaster.setFromCamera(pointer, camera)\n  let interscts = raycaster.intersectObjects(objects, deepCheck /* 是否检查所有后代 */)\n  return interscts\n}\n\n/**\n * 悬浮锚点（类似 css 鼠标悬浮效果）\n * @param interscts 交叉对象列表\n * @param callback 回调\n * @param container 容器\n * @param group 锚点组\n * @returns\n */\nexport const hoverAnchor = (interscts, callback, container, anchorGroup) => {\n  if (typeof callback === 'function') callback(interscts[0], style)\n\n  if (interscts.length) {\n    const intersct = interscts[0]\n    const object = intersct.object\n    container.style.cursor = object._isAnchor_ ? 'pointer' : 'auto'\n    if (!object._isAnchor_) {\n      anchorGroup?.children.forEach((el: any) => {\n        el.__change_color__ = false\n      })\n      return\n    }\n\n    const mat = object.material\n    if (object.__mat_color__ === void 0) {\n      object.__mat_color__ = mat.color\n    }\n    mat.color = new THREE.Color(0xff0ff0)\n    anchorGroup?.children.forEach((el: any) => {\n      el.__change_color__ = el.uuid === object.uuid\n    })\n  } else {\n    container.style.cursor = 'auto'\n    anchorGroup?.children.forEach((el: any) => {\n      el.__change_color__ = false\n    })\n  }\n}\n\n/**\n * 恢复锚点材质\n * @param anchorGroup 锚点组\n */\nexport const restoreAnchorMaterial = anchorGroup => {\n  anchorGroup?.children.forEach((el: any) => {\n    if (!el.__change_color__ && el.__mat_color__) {\n      el.material.color = el.__mat_color__\n    }\n  })\n}\n\n/**\n * 查找父级为建筑\n * @param object 场景对象\n * @returns\n */\nexport const findParentIsBuilding = object => {\n  const _find = obj => {\n    if (obj._isBuilding_) return obj\n    let parent = obj.parent\n    if (!parent) {\n      return\n    }\n    if (parent && parent._isBuilding_) {\n      return parent\n    }\n    return _find(parent)\n  }\n  return _find(object)\n}\n\n/**\n * 绘制大屏画布\n * @param canvas 画布\n * @param text 文本\n * @returns\n */\nexport const drawBdCanvas = (canvas, text = '') => {\n  const w = canvas.offsetWidth\n  const h = canvas.offsetHeight\n  canvas.width = w\n  canvas.height = h\n\n  const ctx = canvas.getContext('2d')\n  if (!ctx) return\n  ctx.clearRect(0, 0, w, h)\n  ctx.fillStyle = '#f00'\n\n  // 分割为两行\n  const rows = 2,\n    max = 12,\n    len = text.length\n  const rlen = len > max ? Math.ceil(len / rows) : max\n  let list: string[] = [],\n    index = 0\n  while (index < len) {\n    const end = index + rlen\n    list.push(text.substring(index, end))\n    index = end\n  }\n\n  ctx.font = '100 40px 微软雅黑'\n  ctx.textAlign = 'center'\n  ctx.textBaseline = 'middle'\n  const tl = list.length\n\n  list.forEach((tx, index) => {\n    const i = index * tl + 1\n    ctx.fillText(tx, w / 2, (h / tl / 2) * i)\n  })\n}\n\n// 创建视频元素\nexport const createVideoDom = (src?: string) => {\n  const dom = document.createElement('video')\n  dom.src = DEFAULTCONFIG.baseUrl + (src || '/oss/textures/park/sintel.mp4')\n  dom.loop = true\n  // videoDom.autoplay = true\n  return dom\n}\n\n// 视频封面\nexport const videoCoverTexture = new THREE.TextureLoader().load(\n  DEFAULTCONFIG.baseUrl + '/oss/textures/office/cover.jpg'\n)\n// 空调风纹理\nexport const windTexture = new THREE.TextureLoader().load(\n  DEFAULTCONFIG.baseUrl + '/oss/textures/office/wind.png'\n)\n\n/**\n * 添加视频材质\n * @param dbObj 模型对象\n * @returns\n */\nexport const addVideoMaterial = dbObj => {\n  const videoDom2 = createVideoDom()\n  const videoTexture2 = new THREE.VideoTexture(videoDom2)\n  dbObj.__video_texture__ = videoTexture2\n  dbObj.__cover_texture__ = videoCoverTexture.clone()\n  dbObj.material = new THREE.MeshPhongMaterial({\n    map: videoCoverTexture\n  })\n  dbObj.__video__ = videoDom2\n  return dbObj\n}\n\n/**\n * 视频操作播放\n * @param vobj 视频材质对象\n * @param isPlay 是否播放\n */\nexport const videoMaterilPlay = (vobj, isPlay?: boolean) => {\n  if (vobj && vobj.__video__) {\n    const __video__ = vobj.__video__\n    if ((isPlay != void 0 && !isPlay) || __video__.paused) {\n      vobj.material.map = vobj.__video_texture__\n      __video__?.play()\n    } else {\n      __video__?.pause()\n      vobj.material.map = vobj.__cover_texture__\n    }\n  }\n}\n\n/**\n * 清理视频\n * @param videos 视频列表\n */\nexport const clearVideo = videos => {\n  for (let i = 0; i < videos.length; i++) {\n    const obj = videos[i]\n    const { __video__, __cover_texture__, __video_texture__ } = obj\n    if (__video__) {\n      __video__.pause()\n      __video__.remove()\n      __cover_texture__?.dispose()\n      __video_texture__?.dispose()\n    }\n  }\n}\n\n/**\n * 获取模型动作\n * @param model 模型\n * @returns\n */\nexport const getModelAction = model => {\n  // 动画\n  const animations = model.animations\n  const mixer = new THREE.AnimationMixer(model)\n  const actions = {}\n\n  for (let i = 0; i < animations.length; i++) {\n    const clip = animations[i]\n    const action = mixer.clipAction(clip)\n    actions[clip.name] = action\n  }\n  return {\n    mixer,\n    actions\n  }\n}\n\n/**\n * 电梯移动\n * @param liftName 电梯组名称\n * @param from 动画初始坐标\n * @param to 动画最终坐标\n * @returns\n */\nexport const liftMove = (liftName, from, to) => {\n  const duration = 1000 * 5\n  ElMessage.success({\n    message: `【${liftName}】移动中，请稍候，${duration / 1000}秒后到达!`,\n    duration: duration\n  })\n\n  return new TWEEN.Tween(from).to(to, duration).delay(0).start()\n}\n\n/**\n * 创建空调风组\n * @param scene 场景\n * @param _names\n * @returns\n */\nexport const createAirGroup = (scene: THREE.Scene, speed: ReturnType<typeof uniform>) => {\n  // 空调风列表\n  const data = DEFAULTCONFIG.airWinds\n  const group = new THREE.Group()\n  for (let i = 0; i < data.length; i++) {\n    const { name, list } = data[i]\n    // 查找训在的对象清理\n    const obj = scene.getObjectByName(name)\n    if (obj) {\n      obj.clear()\n    }\n\n    const subGroup = new THREE.Group()\n    subGroup.name = name\n    for (let j = 0; j < list.length; j++) {\n      const { width, height, position: pos, rotation } = list[j]\n      const { x = 0, y = 0, z = 0 } = rotation\n      const mesh = createStripSmoke({\n        width,\n        height,\n        speed,\n        color: 0x76b6ff,\n        twistNums: Math.floor(Math.random() * 4 + 1),\n        twistRange: Math.random() * 1,\n        offset: Math.random() * 1,\n        segment: 2\n      })\n\n      // 角度、位置\n      const sp = Math.PI / 180\n      mesh.rotation.set(sp * x + Math.PI * 0.5, sp * y, sp * z)\n      mesh.position.set(pos.x, pos.y, pos.z)\n      subGroup.add(mesh)\n    }\n    subGroup.visible = false\n    group.add(subGroup)\n  }\n\n  return group\n}\n","import * as THREE from 'three/webgpu'\nimport * as ThreeScene from 'three-scene'\n\nimport DEFAULTCONFIG from './config'\nimport * as MS from './methods'\nimport { ExtendOptions, Sky } from '.'\nimport { ObjectItem, ThreeModelItem, XYZ } from 'three-scene/types/model'\n\nconst { Utils, Hooks } = MS\n\nconst {\n  createRoam,\n  executeRoam,\n  pause: roamPause,\n  play: roamPlay,\n  getStatus: getRoamStatus\n} = Hooks.useRoam()\nconst { dubleHorizontal, dubleRotate, oddRotate } = Hooks.useOpenTheDoor()\nconst { keyboardPressed, destroyEvent, insertEvent } = Hooks.useKeyboardState()\nconst { createMove, moveAnimate } = Hooks.useMoveAnimate()\nconst { checkCollide } = Hooks.useCollide()\nconst { virtualization, closeVirtualization } = Hooks.useModelLoader({})\nconst { createDiffusion, updateDiffusion } = Hooks.useDiffusion2(\n  [\n    '1.png',\n    '2.png',\n    '3.png',\n    '4.png',\n    '5.png',\n    '6.png',\n    '7.png',\n    '8.png',\n    '9.png',\n    '10.png',\n    '11.png',\n    '12.png'\n  ].map(it => `${DEFAULTCONFIG.baseUrl}/oss/textures/diffusion/${it}`)\n)\n\n// 视角映射\nconst SIGHT_MAP = {\n  SCREEN: 'SCREEN', // 屏幕\n  PERSON_FIRST: 'PERSON_FIRST', // 人物·第一人称\n  PERSON_THREE: 'PERSON_THREE' // 人物·第三人称\n}\n\n// 地面网格名称\nconst GROUND_MESH_NAMES = DEFAULTCONFIG.groundMeshName.concat(DEFAULTCONFIG.liftGroundMeshName)\n\nexport class OfficeScene extends ThreeScene.Scene {\n  // 扩展参数\n  extend: Partial<ExtendOptions>\n\n  // 场景合成渲染器\n  postProcessing: InstanceType<typeof THREE.PostProcessing>\n\n  // 建筑集合\n  buildingGroup?: InstanceType<typeof THREE.Group>\n  // 锚点集合\n  anchorGroup?: InstanceType<typeof THREE.Group>\n\n  // CSS2D 渲染器\n  css2DRender?: ReturnType<typeof MS.createCSS2DRender>\n  // 点位集合\n  dotGroup?: InstanceType<typeof THREE.Group>\n  // 灯光组\n  lightGroup?: InstanceType<typeof THREE.Group>\n\n  // 动画模型集合\n  animateModels: ThreeModelItem[] = []\n\n  // 环境光\n  ambientLight = new THREE.AmbientLight()\n  // 平行光\n  directionalLight = new THREE.DirectionalLight()\n\n  // 当前风格（白天/傍晚/夜间）\n  sky: Sky = DEFAULTCONFIG.sky\n  style = -1\n  styleTimes = DEFAULTCONFIG.styleTimes\n\n  // 流光\n  fleetingGroup?: InstanceType<typeof THREE.Group>\n\n  // 路灯\n  streetLampGroup?: InstanceType<typeof THREE.Group>\n\n  // 居民灯\n  residentLightGroup?: InstanceType<typeof THREE.Group>\n\n  // 画布纹理集合\n  canvasTextures: InstanceType<typeof THREE.Texture>[] = []\n  // 视频元素集合\n  videoModels: ThreeModelItem[] = []\n\n  // 行走的人物\n  person?: InstanceType<typeof THREE.Group> & {\n    __runing__?: boolean\n    extra: {\n      mixer: InstanceType<typeof THREE.AnimationMixer>\n      actions: Record<string, InstanceType<typeof THREE.AnimationAction>>\n      runging: InstanceType<typeof THREE.AnimationAction>\n    }\n  }\n  // 人物视线高度\n  personSightHeight = DEFAULTCONFIG.personSightHeight\n  // 移动系数\n  moveFactor = DEFAULTCONFIG.moveFactor\n\n  // 当前视角\n  currentSight = SIGHT_MAP.SCREEN\n  // 历史中心点（视角切换）\n  historyTarget: InstanceType<typeof THREE.Vector3> = new THREE.Vector3()\n  // 历史相机坐标（视角切换）\n  historyCameraPosition: InstanceType<typeof THREE.Vector3> = new THREE.Vector3()\n\n  // 扩散波效果\n  diffusion: InstanceType<typeof THREE.Mesh> = new THREE.Mesh()\n\n  // 碰撞间距\n  collisionSpace = DEFAULTCONFIG.collisionSpace\n\n  // 空调组\n  airGroup?: InstanceType<typeof THREE.Group>\n  airSpeed = THREE.TSL.uniform(0.1)\n\n  constructor(\n    options: ConstructorParameters<typeof ThreeScene.Scene>[0],\n    extend: Partial<ExtendOptions>\n  ) {\n    super(options)\n\n    this.extend = extend\n\n    this.createClock()\n\n    console.log(this.scene)\n\n    // 场景合成\n    this.postProcessing = MS.createPostProcessing(this.scene, this.camera, this.renderer)\n\n    // 建筑\n    this.addBuildingGroup()\n\n    // 锚点\n    this.addAnchorGroup()\n\n    // CSS2D 渲染器\n    this.css2DRender = MS.createCSS2DRender(this.options, this.container)\n    this.addDotGroup()\n    // 灯光\n    this.addLightGroup()\n\n    // 流光\n    this.addFleeting()\n    // 路灯\n    this.addStreetLamp()\n\n    // 查找灯光\n    this.findLight()\n\n    // 绑定事件\n    this.bindEvent()\n\n    // 扩散波\n    this.addDiffusion()\n    console.log(this)\n  }\n\n  // 设置环境贴图\n  setEnv(texture) {\n    this.scene.environment = texture\n    this.scene.background = texture\n  }\n\n  // 渲染器\n  createRender() {\n    const render = new THREE.WebGPURenderer()\n    return render\n  }\n\n  // 渲染\n  render() {\n    this.postProcessing.renderAsync()\n  }\n\n  run() {\n    this.renderer.setAnimationLoop(() => {\n      this.animate()\n      this.modelAnimate()\n    })\n    return this\n  }\n\n  // 模型动画\n  modelAnimate() {\n    let delta = this.clock?.getDelta() as number\n\n    // css2D 渲染器\n    this.css2DRender?.render(this.scene, this.camera)\n\n    // 场景风格\n    this.autoChangeStyle()\n\n    // 锚点动画\n    this.anchorAnimateUpdate(delta)\n\n    // 流光动画\n    if (this.fleetingGroup?.visible) {\n      MS.fleetingGroupAnimate(1)\n    }\n\n    // 模型动画\n    this.modelAnimateUpdate(delta)\n\n    // 执行漫游\n    executeRoam(this.camera, this.controls)\n    // 恢复锚点组 hover 效果\n    MS.restoreAnchorMaterial(this.anchorGroup)\n\n    // 人物动画\n    this.persionAnimate(delta)\n\n    // 扩散波\n    this.diffusionAnimate()\n  }\n\n  // 查找灯光\n  findLight() {\n    // 环境光\n    const amb = this.scene.getObjectByProperty('isAmbientLight', true) as THREE.AmbientLight\n    this.ambientLight = amb\n    // 平行光\n    const dire = this.scene.getObjectByProperty(\n      'isDirectionalLight',\n      true\n    ) as THREE.DirectionalLight\n    this.directionalLight = dire\n  }\n\n  // 白天\n  toByday(style = 1) {\n    this.style = style\n    const { ambientLight, directionalLight } = this.options\n    this.setStyleOptions(ambientLight.intensity, directionalLight.intensity, this.sky.day)\n  }\n\n  // 傍晚\n  toEvening(style = 2) {\n    this.style = style\n    this.setStyleOptions(0.01, 0.5, this.sky.evening)\n  }\n\n  // 夜晚\n  toNight(style = 3) {\n    this.style = style\n    this.setStyleOptions(0.01, 0.3, this.sky.night, true)\n  }\n\n  // 设置 sky 参数 (环境光强度，平行光强度，hdr，可见)\n  setStyleOptions(ambIntensity, dirIntensity, hdr, visible = false) {\n    this.ambientLight.intensity = ambIntensity\n    this.directionalLight.intensity = dirIntensity\n    this.fleetingGroup && (this.fleetingGroup.visible = visible)\n    this.streetLampGroup && (this.streetLampGroup.visible = visible)\n    this.residentLightGroup && (this.residentLightGroup.visible = visible)\n    this.toggleCruiseBloom(visible)\n\n    this.loadEnvTexture(hdr, _texture => {\n      // this.postProcessing.needsUpdate = true\n      // console.log(this.scene.environment)\n      // this.postProcessing = MS.createPostProcessing(this.scene, this.camera, this.renderer)\n      // console.log(this.postProcessing)\n    })\n  }\n\n  // 自动切换场景风格\n  autoChangeStyle() {\n    const times = this.styleTimes\n    const hour = new Date().getHours()\n    const index = times.findIndex((ar, i) =>\n      i == times.length - 1 ? hour >= ar[0] || hour < ar[1] : hour >= ar[0] && hour < ar[1]\n    )\n\n    if (this.style != index + 1) {\n      if (index == 0) {\n        this.toByday()\n      } else if (index == 1) {\n        this.toEvening()\n      } else if (index == 2) {\n        this.toNight()\n      }\n    }\n  }\n\n  // 添加建筑组\n  addBuildingGroup() {\n    const group = new THREE.Group()\n    group.name = '建筑组'\n    this.buildingGroup = group\n    this.addObject(group)\n  }\n  // 添加建筑\n  addBuilding(...obj) {\n    if (this.buildingGroup) {\n      this.buildingGroup.add(...obj)\n    }\n  }\n\n  // 添加锚点组\n  addAnchorGroup() {\n    const group = new THREE.Group()\n    group.name = '锚点组'\n    this.anchorGroup = group\n    this.addObject(group)\n  }\n  // 添加锚点\n  addAnchor(obj) {\n    if (this.anchorGroup) {\n      this.anchorGroup.add(obj)\n    }\n    const { x, y, z } = obj.position\n    // 创建精灵动画\n    Utils.createSpriteAnimate(obj, [x, y, z], 0.2, 8)\n  }\n  // 锚点动画\n  anchorAnimateUpdate(delta) {\n    this.anchorGroup?.children.forEach((el: any) => {\n      if (el.__mixer__) {\n        el.__mixer__.update(delta)\n      }\n    })\n  }\n\n  // 添加点位组\n  addDotGroup() {\n    if (!this.css2DRender) return\n    this.css2DRender.domElement.className = 'three-scene__dot-wrap'\n    const group = new THREE.Group()\n    group.name = '点位组'\n    this.dotGroup = group\n    this.scene.add(group)\n  }\n  // 添加点位\n  addDot(item: ObjectItem, clickBack) {\n    if (!this.dotGroup) return new THREE.Mesh()\n    const label = MS.createDotCSS2DDom(item, clickBack)\n    this.dotGroup.add(label)\n    return label\n  }\n\n  // 添加灯光组\n  addLightGroup() {\n    const group = new THREE.Group()\n    group.name = '灯光组'\n    this.lightGroup = group\n    this.addObject(group)\n  }\n  // 添加灯光\n  addLight(item: ObjectItem, obj, hasHelper?: boolean) {\n    if (!this.lightGroup) return\n    const group = MS.createLightGroup(item, obj, hasHelper)\n    this.lightGroup.add(group)\n  }\n  // 开关灯\n  lightSwitch(object, isOpen?: boolean, max?: number) {\n    const light = this.lightGroup?.getObjectsByProperty('name', object.data?.bind)\n    console.log(light)\n    if (!light) return\n    console.log('控制灯数量:', max != void 0 && max >= 0 ? max : '全部')\n    light.forEach((el, index) => {\n      // max 存在则默认未点亮，其他关闭\n      let visible = max != void 0 && max >= 0 ? false : isOpen != void 0 ? isOpen : !el.visible\n      if (max != void 0 && max >= 0 && index < max) {\n        visible = isOpen != void 0 ? isOpen : true\n      }\n      el.visible = visible\n    })\n  }\n  // 关闭所有灯光\n  closeLightGroup(isOpen: boolean = false) {\n    this.lightGroup?.traverse((el: any) => {\n      if (el.isSpotLight || el.isRectAreaLight) {\n        el.visible = isOpen\n      }\n    })\n  }\n\n  // 流光\n  addFleeting() {\n    this.fleetingGroup = MS.createFleetingGroup(DEFAULTCONFIG.fleetings, 0x0053ff, 1)\n    this.addObject(this.fleetingGroup)\n  }\n  // 流光状态切换\n  toggleFleeting(isOpen?: boolean) {\n    this.fleetingGroup && (this.fleetingGroup.visible = isOpen ?? !this.fleetingGroup.visible)\n  }\n\n  // 添加路灯\n  addStreetLamp() {\n    this.streetLampGroup = MS.createStreetLampGroup(DEFAULTCONFIG.streetLamps)\n    this.addObject(this.streetLampGroup)\n  }\n\n  // 窗帘动画\n  toggleCurtain(object, isClose?) {\n    const dobj = this.animateModels.find(el => el.name === object.data?.bind)\n    if (!dobj) return\n    MS.toggleCurtainAnimate(dobj, isClose)\n    return dobj.__close__\n  }\n\n  ///////////////////////////\n  /////////// 开门 ///////////\n  ///////////////////////////\n\n  // 双开门(两扇门 往两边平移)\n  dubleHorizontalDoor(object, scale = 400, isOpen?: boolean) {\n    const { bind, axle = 'z' } = object.data\n    return dubleHorizontal(this.scene, {\n      value: bind,\n      axle,\n      scale,\n      isOpen\n    })\n  }\n  // 双旋转开门\n  dubleRotateDoor(object) {\n    const { bind, axle = 'y', left = '右', right = '左', internal, autoClose = true } = object.data\n    return dubleRotate(this.scene, {\n      value: bind,\n      axle,\n      autoClose,\n      angle: Math.PI * (internal ? -0.5 : 0.5),\n      leftMatch: left,\n      rightMatch: right\n    })\n  }\n  // 单旋转开门\n  oddRotateDoor(object) {\n    const { bind, axle = 'y', internal, autoClose = false } = object.data\n    return oddRotate(this.scene, {\n      value: bind,\n      axle,\n      angle: Math.PI * (internal ? -0.5 : 0.5),\n      autoClose\n    })\n  }\n  // 闸机\n  openGate(object) {\n    return this.dubleRotateDoor(object)\n  }\n\n  ///////////////////////////\n  /////////// 电梯 ///////////\n  ///////////////////////////\n  // 等电梯\n  waitLift(object, personIsFllow?: boolean) {\n    // 电梯组\n    const liftName = object.data.target\n    // 电梯轿厢\n    const box = this.scene.getObjectByName(liftName) as any\n    if (!box) {\n      ElMessage.error({\n        message: `【${liftName}】模块未找到！`,\n        grouping: true\n      })\n    }\n    // 当前绑定坐标\n    const cpos = object.data?.to\n    if (!box || !cpos) return\n    // y 轴对比\n    const bpos = box.position\n    // 判断间距\n    if (Math.abs(cpos.y - bpos.y) > 0.2) {\n      // 电梯关门\n      const bindLift = box.__bind_lift__\n      if (bindLift !== void 0) {\n        const opt = {\n          data: { bind: bindLift }\n        }\n        // 绑定过则关闭电梯门-上一次打开，防止不在同一层的外门未关闭\n        this.dubleHorizontalDoor(opt, 2.3, false)\n      }\n      const opt = {\n        data: { bind: liftName }\n      }\n      // 关电梯门\n      this.dubleHorizontalDoor(opt, 2.3, false).then(() => {\n        // 电梯移动\n        MS.liftMove(liftName, bpos, { y: cpos.y })\n          .onUpdate(pos => {\n            // 人物跟随\n            if (personIsFllow) {\n              if (!this.person) return\n              this.person.position.y = pos.y\n              this.camera.position.y = pos.y\n              this.setControlTarget(this.person.position)\n            }\n          })\n          .onComplete(() => {\n            // 当前移动到哪一层，后续滑动时需要关闭之前到达的层\n            box.__bind_lift__ = object.data.bind\n            // 电梯开门\n            this.openDoorByLift(object, liftName)\n          })\n      })\n    } else {\n      this.openDoorByLift(object, liftName)\n    }\n  }\n  // 电梯开门\n  openDoorByLift(object, liftName) {\n    // 电梯门打开\n    this.dubleHorizontalDoor(object, 2.3)\n    const opt = {\n      data: { bind: liftName }\n    }\n    this.dubleHorizontalDoor(opt, 2.3)\n  }\n\n  ///////////////////////////\n  /////////// 大屏 ///////////\n  ///////////////////////////\n  // 视频材质\n  addVideoMaterial(names: string[]) {\n    this.videoModels = []\n    for (let i = 0; i < names.length; i++) {\n      const name = names[i]\n      const dbObj = this.buildingGroup?.getObjectByName(name) as any\n      if (!dbObj) continue\n      // 灯光\n      const light = this.lightGroup?.getObjectByName(name + '-照明灯')\n      if (light) {\n        light.visible = true\n      }\n      MS.addVideoMaterial(dbObj)\n      this.videoModels.push(dbObj)\n    }\n  }\n  // 清理视频\n  clearVideo() {\n    MS.clearVideo(this.videoModels)\n  }\n  // 视频播放\n  videoPlay(object) {\n    const vobj = this.scene.getObjectByName(object.data.bind) as any\n    MS.videoMaterilPlay(vobj)\n  }\n  // 绘制 canva 材质\n  drawCanvas(text = '') {\n    if (!this.extend.canvas) return\n    MS.drawBdCanvas(this.extend.canvas, text)\n\n    if (!this.canvasTextures.length) return\n    this.canvasTextures.forEach(map => {\n      map.needsUpdate = true\n    })\n  }\n  // 画布纹理\n  addCanvasMaterial(names: string[]) {\n    if (!this.extend.canvas) return\n    const material = new THREE.MeshPhongMaterial({\n      map: new THREE.CanvasTexture(this.extend.canvas),\n      side: THREE.DoubleSide\n    })\n\n    this.canvasTextures = []\n    for (let i = 0; i < names.length; i++) {\n      const dbObj = this.scene.getObjectByName(names[i]) as any\n      if (!dbObj) continue\n      dbObj.material = material.clone()\n      dbObj.__cover_texture__ = material.map?.clone()\n      this.canvasTextures.push(dbObj.material.map)\n    }\n  }\n\n  ///////////////////////////\n  /////////// 人物 ///////////\n  ///////////////////////////\n  // 添加人物\n  addPerson(model) {\n    this.person = model\n    const { mixer, actions } = MS.getModelAction(model)\n    // 舞蹈\n    const dance = actions['Dance']\n    dance.play()\n    // 步行\n    const runging = actions['Walking']\n    model.extra = {\n      mixer,\n      actions,\n      runging\n    }\n    this.addObject(model)\n    this.addPersonEvent()\n  }\n  // 人物事件\n  addPersonEvent() {\n    const personModel = this.person\n    if (!personModel) return\n    const runging = personModel.extra.runging\n    const keys = ['W', 'S'].map(key => key.toUpperCase().charCodeAt(0))\n\n    // 插入事件 播放/暂停 动作\n    insertEvent(\n      e => {\n        if (personModel.__runing__) return\n        if (keys.includes(e.keyCode)) {\n          runging.play()\n        }\n        if (this.isPersonSight()) {\n          if (keyboardPressed('X')) {\n            this.personSpeed(1)\n          }\n          if (keyboardPressed('Z')) {\n            this.personSpeed(-1)\n          }\n        }\n      },\n      e => {\n        if (personModel.__runing__) return\n        if (keys.includes(e.keyCode)) {\n          runging.stop()\n        }\n      }\n    )\n  }\n  // 人物动画\n  persionAnimate(delta) {\n    const personModel = this.person\n    if (personModel) {\n      const mixer = personModel.extra.mixer\n      mixer.update(delta)\n      // 人物移动\n      moveAnimate(0.2 * this.moveFactor)\n\n      // 人物视角\n      if (this.isPersonSight() && !personModel.__runing__) {\n        const factor = 1 + this.moveFactor / 5\n        // 移动速度\n        const steep = 5 * delta * factor\n        // 旋转速度\n        const angle = Math.PI * 0.2 * delta * factor\n        // 前进后退\n        this.keyboardToMove(steep)\n\n        // 转向\n        if (keyboardPressed('A')) {\n          personModel.rotation.y += angle\n          this.keyboardToTotation()\n        } else if (keyboardPressed('D')) {\n          personModel.rotation.y -= angle\n          this.keyboardToTotation()\n        }\n      }\n    }\n  }\n  // 按键前进\n  keyboardToMove(steep) {\n    const personModel = this.person\n    // 前进后退\n    const isS = keyboardPressed('S')\n    if (keyboardPressed('W') || isS) {\n      // 向量\n      const dir = new THREE.Vector3()\n      // 获取的视线方向\n      personModel?.getWorldDirection(dir)\n      // dis向量表示相机沿着相机视线方向平移的位移量\n      const dis = dir.clone().multiplyScalar(isS ? -steep : steep)\n      // 初始位置+偏移向量\n      const newPos = personModel?.position.clone().add(dis) || new THREE.Vector3()\n      if (!this.checkCharacterCollide(newPos)) {\n        personModel?.position.copy(newPos)\n        if (isS) {\n          // 定位后一步\n          const ds = dir.clone().multiplyScalar(-steep * 2)\n          this.camera.position.copy(this.camera.position.clone().add(ds))\n        }\n        this.setControlTarget(personModel?.position)\n      }\n    }\n  }\n  // 按键转向\n  keyboardToTotation() {\n    const personModel = this.person\n    // 向量\n    const dir = new THREE.Vector3()\n    // 目标视线方向坐标\n    personModel?.getWorldDirection(dir)\n    const mds = this.controls?.maxDistance || 1\n    const dis = dir.clone().multiplyScalar(-mds)\n    const newPos =\n      personModel?.position.clone().setY(this.camera.position.y).add(dis) || new THREE.Vector3()\n    this.camera.position.copy(newPos)\n    this.setControlTarget(personModel?.position)\n  }\n  // 人物视角\n  togglePersonSight(type?: number) {\n    // 巡航中不可操作\n    if (this.judgeCruise()) return\n    // 判断漫游并停止\n    this.judgeAndStopRoam()\n\n    // 当前视角\n    const sight = this.isPersonSight()\n      ? SIGHT_MAP.SCREEN\n      : type == 1\n      ? SIGHT_MAP.PERSON_FIRST\n      : SIGHT_MAP.PERSON_THREE\n    this.currentSight = sight\n\n    console.log(sight)\n\n    // 控制器限制切换\n    this.controlsLimitSet()\n    // 人物视角界面效果\n    this.togglePersonView()\n    this.cameraChangeByPerson()\n  }\n  // 控制器限制设置\n  controlsLimitSet() {\n    if (!this.controls) return\n    const sight = this.currentSight\n    const isPersonFirst = sight === SIGHT_MAP.PERSON_FIRST\n    const isPerson = isPersonFirst || sight === SIGHT_MAP.PERSON_THREE\n\n    // 控制器操作限制切换\n    this.controls.maxDistance = isPerson ? (isPersonFirst ? 0 : 10) : 800\n    this.controls.screenSpacePanning = !isPerson\n    this.controls.enablePan = !isPerson\n  }\n  // 人物视角\n  isPersonSight() {\n    return (\n      this.currentSight === SIGHT_MAP.PERSON_FIRST || this.currentSight === SIGHT_MAP.PERSON_THREE\n    )\n  }\n  // 切换人物界面效果\n  togglePersonView() {\n    const dom = this.container.parentNode?.querySelector(\n      '.' + DEFAULTCONFIG.personSightClass\n    ) as HTMLDivElement\n    if (!dom) return\n    const isCharacter = this.isPersonSight()\n    dom.style.display = isCharacter ? 'block' : 'none'\n  }\n  // 清除人物视角状态\n  clearCharacterSight() {\n    this.currentSight = SIGHT_MAP.SCREEN\n    this.togglePersonView()\n  }\n  // 机位切换\n  cameraChangeByPerson() {\n    if (!this.person || !this.controls) return\n    // 人物视角\n    const isPerson = this.isPersonSight()\n    const position = this.person.position\n    // 向量\n    const up = new THREE.Vector3(0, this.personSightHeight, 0)\n    /// 切换到人物视角，暂存控制参数\n    if (isPerson) {\n      ElMessage.success({\n        message: `鼠标点击地面移动，或键盘按键 ${DEFAULTCONFIG.personKeys\n          .map(it => `${it.code} ${it.desc}`)\n          .join('、')}，来控制人物！`,\n        grouping: true\n      })\n      this.historyTarget = this.controls.target.clone()\n      this.historyCameraPosition = this.camera.position.clone()\n      const pos = position.clone().add(up)\n\n      this.camera.lookAt(pos)\n      // 相机高度距离人物大于 8\n      if (Math.abs(this.camera.position.y - pos.y) > 8) {\n        this.camera.position.y = pos.y\n      }\n    } else {\n      this.camera.position.copy(this.historyCameraPosition)\n      this.camera.lookAt(position)\n    }\n\n    const vect = isPerson ? position : this.historyTarget\n    const pos = vect.clone().add(up)\n    this.controls.target.copy(pos)\n  }\n  // 人物加速\n  personSpeed(speed = 1) {\n    this.moveFactor += speed\n    if (this.moveFactor >= 10) this.moveFactor = 10\n    else if (this.moveFactor <= 1) this.moveFactor = 1\n    ElMessage.success({\n      message: '人物速度：' + this.moveFactor,\n      grouping: true\n    })\n  }\n  // 人物移动\n  personMove(intersct) {\n    // 巡航中不可操作\n    if (this.judgeCruise()) return Promise.reject()\n    // 非人物视角\n    if (!this.isPersonSight()) return Promise.reject()\n\n    const personModel = this.person\n    if (!personModel) return Promise.reject()\n    // 电梯网格\n    const liftMeshName = DEFAULTCONFIG.liftGroundMeshName\n\n    const lookAt = intersct.point\n    const obj = this.diffusion\n\n    const { runging } = personModel.extra\n    runging.play()\n\n    obj.position.copy(lookAt.clone().add(new THREE.Vector3(0, 0.05, 0)))\n    obj.visible = true\n\n    return new Promise(resolve => {\n      // 创建移动\n      createMove(\n        personModel,\n        lookAt,\n        (pos, stop) => {\n          this.setControlTarget(pos)\n          if (\n            this.checkCharacterCollide(pos, liftMeshName.includes(intersct.object.name) ? 2 : 0.3)\n          ) {\n            stop()\n            runging.stop()\n            personModel.__runing__ = false\n            obj.visible = false\n          }\n        },\n        pos => {\n          this.setControlTarget(pos)\n          runging.stop()\n          personModel.__runing__ = false\n          obj.visible = false\n          resolve(personModel)\n        }\n      )\n    })\n  }\n\n  // 检测人物碰撞\n  checkCharacterCollide(pos, y = 0.3) {\n    if (!this.person) return\n    // 检测碰撞\n    const intersects = checkCollide(\n      this.person,\n      pos,\n      this.buildingGroup?.children || [],\n      true,\n      new THREE.Vector3(0, y, 0)\n    )\n    if (intersects.length) {\n      const intersect = intersects[0]\n\n      // 于目标距离\n      if (intersect.distance < this.collisionSpace) {\n        ElMessage.warning({\n          message: '撞到了！',\n          grouping: true\n        })\n        return true\n      }\n    }\n  }\n\n  ///////////////////////////\n  ////////// 扩散波 //////////\n  ///////////////////////////\n  // 添加扩散波\n  addDiffusion() {\n    const mesh = createDiffusion(2)\n    mesh.rotation.x = -Math.PI * 0.5\n    mesh.position.y = 0.5\n    mesh.visible = false\n    this.addObject(mesh)\n    this.diffusion = mesh\n  }\n  // 扩散波动画\n  diffusionAnimate() {\n    if (this.diffusion.visible) {\n      updateDiffusion(2)\n    }\n  }\n\n  ///////////////////////////\n  /////////// 鸟瞰 ///////////\n  ///////////////////////////\n  // 公司鸟瞰图\n  toggleBridCompany() {\n    if (this.judgeCruise()) return\n    this.clearCharacterSight()\n    this.judgeAndStopRoam()\n\n    const name = DEFAULTCONFIG.companyModelName\n    const model = this.buildingGroup?.getObjectByName(name) as ThreeModelItem\n    console.log(model)\n    if (!model) {\n      ElMessage.warning({\n        message: `未找到【${name}】模块！`,\n        grouping: true\n      })\n      return\n    }\n\n    // 设置聚焦\n    model.__isFocus__ = !model.__isFocus__\n\n    if (!model.__isFocus__) {\n      this.closeVirtualization()\n      this.toggleCompanyFocus(false)\n      return\n    }\n    this.toggleCompanyFocus(true)\n    virtualization(this.buildingGroup?.children || [], model, {\n      wireframe: !false,\n      hidden: true,\n      opacity: 0.1,\n      filter: ['电梯-1']\n    })\n  }\n  // 关闭虚化\n  closeVirtualization() {\n    const name = DEFAULTCONFIG.companyModelName\n    const model = this.buildingGroup?.getObjectByName(name) as ThreeModelItem\n    model.__isFocus__ = false\n    closeVirtualization(this.buildingGroup?.children, {\n      filter: ['_空调风_grp']\n    })\n  }\n  // 公司聚焦\n  toggleCompanyFocus(isFocus) {\n    if (!this.controls) return\n    let target = this.historyTarget\n    let to = this.historyCameraPosition as XYZ\n\n    // 聚焦移动 暂存场景参数\n    if (isFocus) {\n      this.historyTarget = new THREE.Vector3().copy(this.controls.target)\n      this.historyCameraPosition = new THREE.Vector3().copy(this.camera.position)\n\n      target = new THREE.Vector3(0, 185, 0)\n      to = { x: 0, y: 340, z: 0 }\n    }\n\n    const dis = target.distanceTo(to)\n    this.controls.enablePan = isFocus\n    this.controls.maxDistance = dis\n    Utils.cameraLinkageControlsAnimate(this.controls, this.camera, to, target)\n  }\n\n  ///////////////////////////\n  /////////// 空调 ///////////\n  ///////////////////////////\n  addAirWindMaterial(_names: string[]) {\n    const group = MS.createAirGroup(this.scene, this.airSpeed)\n\n    this.airGroup = group\n    this.addObject(group)\n  }\n  // 空调开关\n  toggleAir(object, isOpen?) {\n    if (!this.airGroup) return\n    const bind = object.data.bind\n    // 存在则单控\n    if (bind) {\n      const dobj = this.airGroup.getObjectByName(object.data.bind) as any\n      if (!dobj) return\n      dobj.__open__ = isOpen ?? !dobj.__open__\n      dobj.visible = dobj.__open__\n    } else {\n      // 全控\n      this.airGroup?.children.forEach(el => {\n        this.toggleAir({ data: { bind: el.name } }, isOpen)\n      })\n    }\n  }\n  // 空调风速\n  changeAirWindSpeed(speed = 0.1) {\n    this.airSpeed.value += speed\n    if (this.airSpeed.value < 0.1) {\n      this.airSpeed.value = 0.1\n    }\n    if (this.airSpeed.value > 1) {\n      this.airSpeed.value = 1\n    }\n  }\n\n  ///////////////////////////\n  /////////// 相机 ///////////\n  ///////////////////////////\n  // 相机移动聚焦点\n  cameraLookatMoveTo(pos) {\n    if (!this.controls) return\n    Utils.cameraLookatAnimate(this.camera, pos, this.controls.target)\n  }\n\n  // 相机转场\n  cameraTransition(object) {\n    if (this.judgeCruise()) return\n\n    // if (this.mouseClickDiffusion.visible) {\n    //   ElMessage.warning({\n    //     message: '人物移动中，不可操作！',\n    //     grouping: true\n    //   })\n    //   return\n    // }\n\n    this.clearCharacterSight()\n\n    const { to, target = object.position } = object.data\n\n    if (!to) return\n\n    if (!this.isCameraMove(to) && this.controls) {\n      // 判断漫游并停止\n      this.judgeAndStopRoam()\n      this.controls.enablePan = true\n      this.controls.maxDistance = 5\n      Utils.cameraLinkageControlsAnimate(this.controls, this.camera, to, target)\n    }\n  }\n\n  // 添加模型动画\n  addModelAnimate(model, animations = [], play: boolean = true, timeScale: number = 1) {\n    MS.createModelAnimate(model, animations, play, timeScale)\n    this.animateModels.push(model)\n  }\n  // 模型动画\n  modelAnimateUpdate(delta) {\n    if (this.animateModels.length) {\n      this.animateModels.forEach((el: any) => {\n        if (el.__mixer__) {\n          el.__mixer__.update(delta)\n        }\n      })\n    }\n  }\n\n  // 控制器重置\n  controlReset() {\n    this.judgeAndStopRoam()\n    // this.clearCharacterSight()\n    if (!this.controls) return\n    this.controls.enablePan = true\n    this.controls.maxDistance = 1500\n    this.controls.maxPolarAngle = Math.PI * 0.48\n    super.controlReset()\n  }\n  // 设置控制中心点\n  setControlTarget(point) {\n    if (!this.controls) return\n    this.controls.target.copy(point.clone().add(new THREE.Vector3(0, this.personSightHeight, 0)))\n    this.camera.lookAt(this.controls.target)\n  }\n\n  // 漫游\n  toggleRoam() {\n    // this.clearCharacterSight()\n    if (this.judgeAndStopRoam()) return\n    const points = this.extend.roamPoints || []\n    if (points.length == 0) return\n    if (!this.controls) return\n    this.controls.maxDistance = 5\n    createRoam({\n      points,\n      segment: 6,\n      tension: 0,\n      speed: 2,\n      close: false,\n      factor: 1\n    })\n    roamPlay()\n  }\n  // 设置漫游点位\n  setRoamPoint(points) {\n    this.extend.roamPoints = points\n  }\n  // 判断漫游，并停止\n  judgeAndStopRoam() {\n    if (getRoamStatus()) {\n      if (this.controls) {\n        this.controls.maxDistance = 1500\n      }\n      roamPause()\n      return true\n    }\n    return false\n  }\n\n  // 定点巡航\n  toggleCruise(close?: boolean) {\n    super.toggleCruise(close)\n    // 场景合成\n    this.postProcessing = MS.createPostProcessing(this.scene, this.camera, this.renderer)\n  }\n  // 判断巡航\n  judgeCruise() {\n    if (this.options.cruise.runing) {\n      ElMessage.warning({\n        message: '请退出巡航！',\n        grouping: true\n      })\n      return true\n    }\n    return false\n  }\n\n  // 鼠标移动\n  onPointerMove(e: PointerEvent) {\n    this.checkIntersectObjects(e)\n  }\n  // 鼠标弹起\n  onPointerUp(e: PointerEvent) {\n    super.onPointerUp(e)\n    let s = e.timeStamp - this.pointer.tsp\n    // 判断是否未点击\n    const isClick = s < DEFAULTCONFIG.clickIntervalTime\n    if (e.button == 2) {\n      if (isClick && typeof this.extend?.onClickRight === 'function') this.extend.onClickRight(e)\n    } else if (e.button == 0) {\n      isClick && this.checkIntersectObjects(e)\n    }\n  }\n  // 检查相交对象\n  checkIntersectObjects(e: PointerEvent) {\n    let isClick = e.type == 'pointerdown' || e.type == 'pointerup'\n    // 锚点或者地面\n    const objects =\n      this.buildingGroup?.children\n        .filter((it: any) => it.visible)\n        .map(it => {\n          it.children = it.children.filter(t => t.visible)\n          return it\n        })\n        .concat(this.anchorGroup?.children || []) || []\n\n    // 检查相交对象\n    const interscts = MS.getIntersectObjects(\n      e,\n      this.container,\n      this.options.scale,\n      this.camera,\n      objects,\n      // 计算后代，悬浮不计算，否则耗性能\n      isClick\n    )\n\n    // 处理锚点类型-精灵材质\n    MS.hoverAnchor(interscts, this.extend.onHoverAnchor, this.container, this.anchorGroup)\n    if (!isClick) return\n\n    if (interscts.length) {\n      const intersct = interscts[0]\n      const object = intersct.object\n      console.log(intersct)\n\n      // 建筑\n      const obj = MS.findParentIsBuilding(object)\n      // 点击地面\n      const isClickGround =\n        typeof object.name == 'string' && GROUND_MESH_NAMES.some(t => object.name.indexOf(t) > -1)\n      if (isClickGround) {\n        if (typeof this.extend?.onClickGround === 'function')\n          this.extend.onClickGround(obj, intersct)\n      }\n\n      if (!obj) return\n      // 左键\n      if (typeof this.extend?.onClickLeft === 'function') this.extend.onClickLeft(obj, intersct)\n    } else {\n      if (typeof this.extend?.onClickLeft === 'function') this.extend.onClickLeft()\n    }\n  }\n\n  // 销毁场景\n  dispose() {\n    this.clearVideo()\n    this.animateModels = []\n    this.canvasTextures = []\n    this.videoModels = []\n    this.disposeObj(this.buildingGroup)\n    this.disposeObj(this.dotGroup)\n    this.disposeObj(this.anchorGroup)\n    this.disposeObj(this.lightGroup)\n    this.disposeObj(this.fleetingGroup)\n    this.disposeObj(this.streetLampGroup)\n    this.disposeObj(this.residentLightGroup)\n\n    this.clock = void 0\n    this.css2DRender = void 0\n    this.buildingGroup = void 0\n    this.dotGroup = void 0\n    this.anchorGroup = void 0\n    this.lightGroup = void 0\n    this.fleetingGroup = void 0\n    this.streetLampGroup = void 0\n    this.residentLightGroup = void 0\n    this.extend = {}\n\n    this.renderer.dispose()\n    destroyEvent()\n    super.dispose()\n  }\n}\n","import { OfficeScene } from './class'\nimport Emitter from './emitter'\n\nexport const onListen = (scene: InstanceType<typeof OfficeScene>) => {\n  // 漫游\n  Emitter.on('CAMERA:ROAM', () => scene?.toggleRoam())\n  // 巡航\n  Emitter.on('CAMERA:CRUISE', () => scene?.toggleCruise())\n  // 重置视角\n  Emitter.on('CAMERA:RESET', () => scene?.controlReset())\n  // 第一人称\n  Emitter.on('CAMERA:FIRST', () => scene?.togglePersonSight(1))\n  // 第三人称\n  Emitter.on('CAMERA:THREE', () => scene?.togglePersonSight(3))\n\n  // 大门\n  Emitter.on('CAMERA:GATE', () => {\n    const object = {\n      data: {\n        name: '一楼大门',\n        type: 'ANCHOR_POS',\n        to: { x: -1.3, y: 6.2, z: 102.3 },\n        target: { x: -1.4, y: 5.8, z: 97.4 }\n      }\n    }\n    scene?.cameraTransition(object)\n  })\n  // 前台\n  Emitter.on('CAMERA:RECCEPTION', () => {\n    const object = {\n      data: {\n        name: '公司前台',\n        type: 'ANCHOR_POS',\n        to: { x: 15.3, y: 188, z: 33.2 },\n        target: { x: 15.3, y: 188, z: 36.3 }\n      }\n    }\n    scene?.cameraTransition(object)\n  })\n  // 办公区域\n  Emitter.on('CAMERA:OFFICE', () => {\n    const object = {\n      data: {\n        name: '办公区域',\n        type: 'ANCHOR_POS',\n        to: { x: -38, y: 188, z: 35.3 },\n        target: { x: -35.4, y: 188, z: 36.4 }\n      }\n    }\n    scene?.cameraTransition(object)\n  })\n  // 大会议室\n  Emitter.on('CAMERA:LCR', () => {\n    const object = {\n      data: {\n        name: '大会议室',\n        type: 'ANCHOR_POS',\n        to: { x: -28.8, y: 188, z: 52.7 },\n        target: { x: -33.7, y: 188, z: 53.4 }\n      }\n    }\n    scene?.cameraTransition(object)\n  })\n  // 老板办公室\n  Emitter.on('CAMERA:BOSS', () => {\n    const object = {\n      data: {\n        name: '领导办公',\n        type: 'ANCHOR_POS',\n        to: { x: 69.4, y: 188, z: -0.4 },\n        target: { x: 65, y: 188, z: -2.7 }\n      }\n    }\n    scene?.cameraTransition(object)\n  })\n\n  // 人物加速\n  Emitter.on('PERSON:ADD', () => scene?.personSpeed())\n  // 减速\n  Emitter.on('PERSON:SUB', () => scene?.personSpeed(-1))\n\n  // 前台灯\n  Emitter.on('LIGHT:RECCEPTION', (isOpen, max) => {\n    scene?.lightSwitch({ data: { bind: '前台聚光灯' } }, isOpen, max)\n  })\n  // 过道灯\n  Emitter.on('LIGHT:AILSE', (isOpen, max) => {\n    scene?.lightSwitch({ data: { bind: '区域A' } }, isOpen, max)\n  })\n  // 人事灯\n  Emitter.on('LIGHT:PM', (isOpen, max) => {\n    scene?.lightSwitch({ data: { bind: '区域B' } }, isOpen, max)\n  })\n  // 主机灯\n  Emitter.on('LIGHT:HOST', (isOpen, max) => {\n    scene?.lightSwitch({ data: { bind: '主机照明灯' } }, isOpen, max)\n  })\n  // 大会议室灯\n  Emitter.on('LIGHT:LCR', (isOpen, max) => {\n    scene?.lightSwitch({ data: { bind: '大会议室照明灯' } }, isOpen, max)\n  })\n  // 公司主灯光组\n  Emitter.on('LIGHT:CLG', isOpen => {\n    scene?.lightSwitch({ data: { bind: '公司主灯光组' } }, isOpen)\n  })\n  // 一楼灯光组\n  Emitter.on('LIGHT:FIRSTFLOOR', isOpen => {\n    scene?.lightSwitch({ data: { bind: '一楼灯光组' } }, isOpen)\n  })\n\n  // 关灯\n  Emitter.on('LIGHT:CLOSE', (isOpen?) => scene?.closeLightGroup(isOpen))\n  Emitter.on('LIGHT:AUTO', (object, isOpen, max) => scene?.lightSwitch(object, isOpen, max))\n\n  // 窗帘\n  Emitter.on('CURTAIN:TOGGLE', (isClose?) => {\n    const status = scene?.toggleCurtain({ data: { bind: '_GROUP_013_grp' } }, isClose)\n    console.log('窗帘关闭状态', status)\n  })\n\n  // 公司大门\n  Emitter.on('DOOR:COMPANY', () => {\n    scene?.dubleHorizontalDoor({ data: { bind: '_公司大门_grp', axle: 'x' } }, 5.4)\n  })\n  // 大会议室门\n  Emitter.on('DOOR:LCR', () => {\n    scene?.dubleRotateDoor({ data: { bind: '_大会议室-门_grp', axle: 'y' } })\n  })\n  // 老板办公室\n  Emitter.on('DOOR:BOSS', () => {\n    scene?.dubleRotateDoor({ data: { bind: '_老板办公室-门_grp', autoClose: 0 } })\n  })\n\n  // 公司大屏\n  Emitter.on('SCREEN:COMPANY', () => {\n    scene?.videoPlay({ data: { bind: '公司大屏' } })\n  })\n  // 欢迎词\n  Emitter.on('SCREEN:WELCOM', text => scene?.drawCanvas(text))\n  // 小会议室大屏\n  Emitter.on('SCREEN:SCR', () => {\n    scene?.videoPlay({ data: { bind: '小会议室大屏' } })\n  })\n  // 大会议电视屏幕\n  Emitter.on('SCREEN:LCR', () => {\n    scene?.videoPlay({ data: { bind: '大会议电视屏幕' } })\n  })\n\n  // 空调\n  Emitter.on('AIR:MAIN', (isOpen?) => {\n    scene?.toggleAir({ data: { bind: '' } }, isOpen)\n  })\n  Emitter.on('AIR:ODD', (object, isOpen?) => {\n    scene?.toggleAir(object, isOpen)\n  })\n\n  // 空调风速+\n  Emitter.on('AIR:WINDADD', () => scene.changeAirWindSpeed(0.1))\n  Emitter.on('AIR:WINDSUB', () => scene.changeAirWindSpeed(-0.1))\n\n  // 场景坐标\n  Emitter.on('SCENE:POS', () => scene?.getPosition())\n\n  // 白天\n  Emitter.on('SKY:DAY', () => scene?.toByday(scene.style))\n  // 傍晚\n  Emitter.on('SKY:EVENING', () => scene?.toEvening(scene.style))\n  // 夜晚\n  Emitter.on('SKY:NIGHT', () => scene?.toNight(scene.style))\n\n  // 流光\n  Emitter.on('EFFECT:FLEETING', (isOpen?) => scene?.toggleFleeting(isOpen))\n\n  // 公司鸟瞰视角\n  Emitter.on('BIRD:COMPANY', () => scene?.toggleBridCompany())\n}\n","<template>\n  <div class=\"three-page\" :class=\"$style.page\">\n    <!-- 操作按钮 -->\n    <div class=\"scene-operation\">\n      <div class=\"btn\" @click=\"() => Emitter.emit('SCENE:POS')\">场景坐标</div>\n\n      <div class=\"item\" @click=\"() => Emitter.emit('CAMERA:ROAM')\">全景漫游</div>\n\n      <div class=\"item\" v-for=\"item in cameraPositionList\" @click=\"onCameraTransition(item)\">\n        {{ item.name }}\n      </div>\n\n      <div class=\"item\" @click=\"() => Emitter.emit('CAMERA:CRUISE')\">定点巡航</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('CAMERA:RESET')\">视角重置</div>\n\n      <div class=\"item\" @click=\"() => Emitter.emit('LIGHT:CLG')\">灯组开关</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('LIGHT:FIRSTFLOOR')\">一楼灯开关</div>\n      <div\n        class=\"item\"\n        @click=\"() => Emitter.emit('LIGHT:LCR', null, Math.floor(Math.random() * 5))\"\n      >\n        大会议室灯\n      </div>\n\n      <div class=\"item\" @click=\"() => Emitter.emit('CURTAIN:TOGGLE')\">窗帘开关</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('EFFECT:FLEETING')\">流光开关</div>\n\n      <div class=\"item\" @click=\"() => Emitter.emit('SKY:DAY')\">白天</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('SKY:EVENING')\">傍晚</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('SKY:NIGHT')\">夜间</div>\n\n      <div class=\"item\" @click=\"() => Emitter.emit('AIR:MAIN')\">空调开关</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('AIR:WINDADD')\">空调风速+</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('AIR:WINDSUB')\">空调风速-</div>\n\n      <div class=\"item\" @click=\"() => Emitter.emit('CAMERA:FIRST')\">第一人称</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('CAMERA:THREE')\">第三人称</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('PERSON:ADD')\">人物加速</div>\n      <div class=\"item\" @click=\"() => Emitter.emit('PERSON:SUB')\">人物减速</div>\n\n      <div class=\"item\" @click=\"() => Emitter.emit('BIRD:COMPANY')\">鸟瞰</div>\n    </div>\n\n    <div class=\"h-100\" ref=\"containerRef\"></div>\n\n    <t-loading v-model=\"progress.show\" :progress=\"progress.percentage\"></t-loading>\n\n    <t-tip-msg v-model=\"tipOpts.show\" :style=\"tipOpts.style\" :msg=\"tipOpts.msg\"></t-tip-msg>\n\n    <t-first-person />\n\n    <canvas :class=\"$style['canvas-texture']\" ref=\"canvasTextureRef\"></canvas>\n\n    <!-- 楼层选择 -->\n    <div :class=\"$style['floor-select']\" v-show=\"floorOpts.show\">\n      <el-button\n        v-for=\"item in floorItems\"\n        type=\"primary\"\n        :disabled=\"floorOpts.active === item.key\"\n        @click=\"onFloorMoveTo(item)\"\n        >{{ item.name }}</el-button\n      >\n    </div>\n\n    <t-edit-dialog\n      v-model=\"dialog.show\"\n      :title=\"dialog.title\"\n      v-model:content=\"dialog.content\"\n      :err-message=\"dialog.errMessage\"\n      @confirm=\"onEditDialogConfirm\"\n    ></t-edit-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport tLoading from '@/components/loading/index.vue'\nimport tTipMsg from './tip-msg.vue'\nimport tEditDialog from './edit-dialog.vue'\nimport tFirstPerson from './first-person.vue'\n\nimport { getPageOpts, getTipOpts, getFloorOpts } from './data'\nimport KEYS from './keys'\nimport Emitter from './emitter'\n\nimport { OfficeScene } from './class'\nimport * as MS from './methods'\nimport { useResize } from '@/hooks/scene-resize'\nimport { onListen } from './listen'\n\nimport DEFAULTCONFIG from './config'\nimport * as request from './request'\nimport { ObjectItem } from 'three-scene/types/model'\nimport { useDialog } from '@/hooks/dialog'\nimport { getStorage, setStorage } from '@/common/utils/storage'\n\nconst { Hooks, Utils } = MS\n\n// 界面配置\nconst pageOpts = reactive(getPageOpts())\n// 提示框\nconst tipOpts = reactive(getTipOpts())\n// 电梯楼层配置\nconst floorOpts = reactive(getFloorOpts())\n\n// 大屏欢迎词弹窗\nconst welcomKey = 'welcom.key'\nconst { options: dialog } = useDialog({\n  title: '编辑欢迎词',\n  content: getStorage(welcomKey) || '中碳能源',\n  errMessage: '请输入欢迎词！'\n})\n\nconst { progress, loadModels, initModels, getModel } = Hooks.useModelLoader({\n  baseUrl: DEFAULTCONFIG.baseUrl,\n  indexDB: DEFAULTCONFIG.indexDB\n})\n\nconst canvasTextureRef = ref()\nconst containerRef = ref()\nconst options: ConstructorParameters<typeof OfficeScene>[0] = {\n  cruise: pageOpts.cruise,\n  baseUrl: DEFAULTCONFIG.baseUrl,\n  controls: {\n    visible: !false,\n    enableDamping: true,\n    dampingFactor: 0.25,\n    maxPolarAngle: Math.PI * 0.48,\n    screenSpacePanning: false,\n    maxDistance: 1500\n  },\n  axes: {\n    visible: true,\n    size: 1000\n  },\n  camera: {\n    near: 3,\n    fov: 45\n  },\n  ambientLight: {\n    intensity: 0.01\n  },\n  directionalLight: {\n    intensity: 4,\n    light2: false\n  }\n}\nlet scene: InstanceType<typeof OfficeScene>\n\n// 电梯到达楼层\nconst floorItems = computed(() => {\n  return floorOpts.list.find(it => it.target === floorOpts.targetName)?.items || []\n})\n\n// 相机转场\nconst onCameraTransition = item => {\n  scene.cameraTransition({\n    position: item.position,\n    data: item\n  })\n}\n\n// 创建 dot 点位\nconst createDotObject = item => {\n  MS.updateDotVisible(\n    scene,\n    scene.addDot(item, _e => {\n      scene.cameraLookatMoveTo(item.position)\n    }),\n    false\n  )\n}\n\n// 加载场景模型\nconst loadSceneModel = () => {\n  initModels(modelConfigList.value, (item: ObjectItem) => {\n    if (!item) return Promise.resolve()\n    const { type } = item\n    if (type === KEYS.M_ANCHOR_POS) return Promise.resolve()\n    const obj = getModel(type)\n    if (!obj) {\n      // 点位\n      if (type === KEYS.DOT) {\n        createDotObject(item)\n      }\n      return Promise.resolve()\n    }\n\n    const { anchorType = [], animationModelType = [] } = pageOpts\n\n    // 深克隆\n    let model = Utils.modelDeepClone(obj)\n    const { position: POS, scale: SCA, rotation: ROT } = Utils.get_P_S_R_param(model, item)\n    const [x, y, z] = POS\n\n    // 缩放\n    model.scale.set(...SCA)\n\n    // 摆放位置\n    model.position.set(x, y, z)\n    // 转换方位\n    model.rotation.set(...ROT)\n\n    model._isBuilding_ = true\n    model.data = item\n\n    // 动画\n    if (animationModelType.includes(type)) {\n      scene.addModelAnimate(model, obj.animations, type !== KEYS.M_CURTAIN, 1)\n    }\n\n    // 锚点\n    if (anchorType.includes(type)) {\n      model._isAnchor_ = true\n      scene.addAnchor(model)\n    }\n\n    // 聚光灯 / 面光灯\n    else if (model.isSpotLight || model.isRectAreaLight) {\n      scene.addLight(item, model, false)\n    } else {\n      scene.addBuilding(model)\n    }\n\n    return Promise.resolve()\n  })\n}\n\n// 场景组装\nconst assemblyScenario = () => {\n  return new Promise(async resolve => {\n    // 加载进度 100\n    progress.percentage = 100\n    progress.show = false\n\n    await nextTick()\n    await loadSceneModel()\n\n    // 漫游\n    scene.setRoamPoint(pageOpts.roamPoints)\n    // 巡航\n    scene.setCruisePoint(pageOpts.cruise?.points || [])\n\n    const to = scene.getValidTargetPosition(pageOpts.config || {})\n\n    // 入场动画\n    // @ts-ignore\n    Utils.cameraInSceneAnimate(scene.camera, to, scene.controls.target).then(() => {\n      scene.controlSave()\n      nextTick(() => {\n        Emitter.emit('LIGHT:CLOSE')\n        resolve(1)\n      })\n      // setTimeout(() => {\n      // }, 1000 * 3)\n    })\n  })\n}\n\n// 获取界面配置\nconst getPageOptions = () => {\n  return request.getConfig().then(res => {\n    return request.getModes().then(list => {\n      list.forEach((item, index) => {\n        res.JsonList.push({\n          ...item,\n          type: KEYS.M_MODE_SWITCH,\n          position: { x: 19 - index * 0.6, y: 186.8, z: 49 }\n        })\n      })\n      return res\n    })\n  })\n}\n\nconst modelConfigList = ref<ObjectItem[]>([])\n// 定位点位列表\nconst cameraPositionList = computed(() =>\n  modelConfigList.value.filter(it => it.type === KEYS.M_ANCHOR_POS)\n)\n\n// 加载\nconst load = () => {\n  loadModels(pageOpts.models, () => {\n    getPageOptions().then(res => {\n      let json: any = {}\n      if (res.ConfigJson instanceof Object) {\n        json = res.ConfigJson\n      } else if (typeof res.ConfigJson == 'string') {\n        try {\n          json = JSON.parse(res.ConfigJson)\n        } catch (er) {}\n      }\n      modelConfigList.value = res.JsonList\n      Object.keys(json).forEach(key => {\n        pageOpts.config && (pageOpts.config[key] = json[key])\n      })\n      pageOpts.cruise.points = json.cruise || []\n      pageOpts.roamPoints = json.roamPoints || []\n\n      setTimeout(() => {\n        //  组装场景\n        assemblyScenario().then(() => {\n          // 创建人物\n          createPerson()\n          // 绘制画布纹理\n          Emitter.emit('SCREEN:WELCOM', dialog.content)\n          // 添加视频材质\n          scene.addVideoMaterial(\n            res.JsonList.filter(it => it.type === KEYS.M_VIDEO_SWITCH).map(it => it.bind)\n          )\n          // 添加画布纹理\n          scene.addCanvasMaterial(\n            res.JsonList.filter(it => it.type === KEYS.M_SCREEN_EDIT).map(it => it.bind)\n          )\n          // 添加空调材质\n          scene.addAirWindMaterial(\n            res.JsonList.filter(it => it.type === KEYS.M_AIR_SWITCH).map(it => it.bind)\n          )\n        })\n      }, 100)\n    })\n  })\n}\n\n// 创建人物\nconst createPerson = () => {\n  const model = getModel(KEYS.M_PERSON)\n  model.traverse(el => {\n    if (el.isMesh) {\n      el.castShadow = true\n    }\n  })\n  const { x, y, z } = {\n    x: 14.4,\n    y: 184.6,\n    z: 37.6\n  }\n  model.position.set(x, y, z)\n  model.scale.setScalar(0.75)\n\n  // 手臂问题，暂隐藏\n  const l = model.getObjectByName('HandL')\n  const r = model.getObjectByName('HandR')\n  l.visible = false\n  r.visible = false\n  scene.addPerson(model)\n}\n\n// 楼层移动至\nconst onFloorMoveTo = item => {\n  floorOpts.active = item.key\n  const liftName = item.bind\n  console.log(item)\n\n  const opts = {\n    data: {\n      bind: liftName,\n      to: { y: item.y },\n      target: floorOpts.targetName\n    }\n  }\n  scene?.waitLift(opts, true)\n}\n\n// 初始化界面\nconst initPage = () => {\n  load()\n\n  onListen(scene)\n}\n\n// 编辑弹窗确认\nconst onEditDialogConfirm = text => {\n  dialog.content = text\n  setStorage(welcomKey, dialog.content || '')\n  Emitter.emit('SCREEN:WELCOM', dialog.content)\n}\n\nconst onClickLeft = object => {\n  const data = object.data\n  switch (data?.type) {\n    case KEYS.M_ANCHOR_POS: // 定位\n      scene.cameraTransition(object)\n      break\n    case KEYS.M_WAIT_LIFT: // 等电梯\n      floorOpts.targetName = object.data.target\n      scene.waitLift(object)\n      break\n    case KEYS.M_LIGHT_SWITCH: // 开关灯\n      Emitter.emit('LIGHT:AUTO', object)\n      break\n    case KEYS.M_LIGHT_MAIN_SWITCH: // 灯总开关\n      object.__close__ = !object.__close__\n      Emitter.emit('LIGHT:CLOSE', !object.__close__)\n      break\n    case KEYS.M_GATE_SWITCH: // 闸机\n      scene.openGate(object)\n      break\n    case KEYS.M_DOUBLE_HORIZONTAL_SWITCH: // 双开横推门\n      scene.dubleHorizontalDoor(object, 5.4)\n      break\n    case KEYS.M_ODD_ROTATE_SWITCH: // 单旋转开门\n      scene.oddRotateDoor(object)\n      break\n    case KEYS.M_DOUBLE_ROTATE_SWITCH: // 双旋转开门\n      scene.dubleRotateDoor(object)\n      break\n    case KEYS.M_CURTAIN_SWITCH: // 窗帘动画\n      Emitter.emit('CURTAIN:TOGGLE')\n      break\n    case KEYS.M_VIDEO_SWITCH: // 视频播放\n      scene.videoPlay(object)\n      break\n    case KEYS.M_SCREEN_EDIT: // 大屏欢迎词编辑\n      dialog.show = true\n      break\n    case KEYS.M_AIR_SWITCH: // 空调\n      Emitter.emit('AIR:ODD', object)\n      break\n    case KEYS.M_MODE_SWITCH: // 模式\n      console.log(toRaw(object.data))\n      break\n  }\n}\n\nonMounted(() => {\n  options.container = containerRef.value\n  scene = new OfficeScene(options, {\n    canvas: canvasTextureRef.value,\n    // 悬浮提示\n    onHoverAnchor: (object, style) => {\n      const isShow = !!object && object.object._isAnchor_\n      tipOpts.show = isShow\n      if (isShow) {\n        tipOpts.style.top = style.top\n        tipOpts.style.left = style.left\n        const data = object.object.data\n        tipOpts.msg = `\n          <p>${data.name}</p>\n          <p>类型：${data.type}</p>\n          <p>绑定：${data.bind || '无'}</p>\n        `\n      }\n    },\n\n    // 点击左键\n    onClickLeft: (object, _intersct) => {\n      if (object && object.data) {\n        onClickLeft(object)\n      }\n    },\n\n    // 点击地面\n    onClickGround: (_object, intersct) => {\n      scene\n        .personMove(intersct)\n        .then(_obj => {\n          floorOpts.show = DEFAULTCONFIG.liftGroundMeshName.includes(intersct.object.name)\n        })\n        .catch(() => {})\n    }\n  }).run()\n\n  useResize(scene).resize()\n\n  initPage()\n})\n</script>\n\n<style lang=\"scss\" module>\n@import './style.scss';\n</style>\n","import KEYS from './keys'\n\nimport models from './models'\n\n/**\n * 获取页面配置\n * @returns\n */\nexport const getPageOpts = (): {\n  /**\n   * 锚点类型\n   */\n  anchorType: string[]\n  /**\n   * 动画模型类型\n   */\n  animationModelType: string[]\n  /**\n   * 配置\n   */\n  config: Partial<import('./index').Config>\n  /**\n   * 巡航\n   */\n  cruise: Partial<import('three-scene/types/options').Cruise>\n  /**\n   * 漫游\n   */\n  roamPoints: number[][]\n  /**\n   * 模型列表\n   */\n  models: import('three-scene/types/model').ModelItem[]\n} => ({\n  anchorType: [\n    KEYS.M_ANCHOR_POS,\n    KEYS.M_ANCHOR_TARGET,\n    KEYS.M_WAIT_LIFT,\n    KEYS.M_LIGHT_SWITCH,\n    KEYS.M_LIGHT_MAIN_SWITCH,\n    KEYS.M_AIR_SWITCH,\n    KEYS.M_GATE_SWITCH,\n    KEYS.M_VIDEO_SWITCH,\n    KEYS.M_SCREEN_EDIT,\n    KEYS.M_DOUBLE_HORIZONTAL_SWITCH,\n    KEYS.M_ODD_ROTATE_SWITCH,\n    KEYS.M_DOUBLE_ROTATE_SWITCH,\n    KEYS.M_CURTAIN_SWITCH,\n    KEYS.M_MODE_SWITCH\n  ],\n  animationModelType: [KEYS.M_MAIN_SCENE, KEYS.M_CONPANT_FLOOR, KEYS.M_CURTAIN],\n\n  config: {},\n  cruise: {\n    color: 0x1fe4ec,\n    visible: true,\n    auto: false,\n    // alway: true,\n    mapUrl: '/oss/textures/cruise/line2.png', // 1-18\n    repeat: [0.2, 1],\n    width: 2,\n    segment: 100,\n    tension: 0.01,\n    speed: 20,\n    mapSpeed: 0.02,\n    points: [],\n    close: true,\n    offset: 5.2,\n    bloomIntensity: 0.5\n  },\n  roamPoints: [],\n\n  models\n})\n\n/**\n * 获取提示配置\n * @returns\n */\nexport const getTipOpts = () => ({\n  show: false,\n  style: {\n    left: 0,\n    top: 0\n  },\n  msg: ''\n})\n\n/**\n * 电梯楼层配置\n * @returns\n */\nexport const getFloorOpts = () => ({\n  active: 2,\n  show: false,\n  targetName: '',\n  list: [\n    {\n      target: '电梯-2',\n      items: [\n        // key 值需要与 配置的等电梯点位 bing 字段尾数相同\n        { name: '一楼', key: 1, y: 0.1, bind: '_一楼电梯门-2_grp' },\n        { name: '公司', key: 2, y: 184.7, bind: '_电梯外门_2_grp' }\n      ]\n    },\n    {\n      target: '电梯-1',\n      items: [\n        // key 值需要与 配置的等电梯点位 bing 字段尾数相同\n        { name: '一楼', key: 1, y: 0.1, bind: '_一楼电梯门-1_grp' },\n        { name: '公司', key: 2, y: 184.7, bind: '_电梯外门_1_grp' }\n      ]\n    }\n  ]\n})\n","import { Axios, Api } from '@/config'\n\nexport const getConfig = () => {\n  return Axios.get(Api.d3.office)\n}\n\n// 模式\nexport const getModes = () => {\n  return Axios.get(Api.d3.office_mode)\n}\n"],"names":["visible","_useModel","__props","props","content","emits","__emit","onConfirm","trim","value","ElMessage","warning","message","errMessage","grouping","DEFAULTCONFIG","baseUrl","sky","day","evening","night","indexDB","cache","dbName","tbName","version","clickIntervalTime","personSightHeight","personSightClass","personKeys","code","desc","liftGroundMeshName","groundMeshName","companyModelName","collisionSpace","moveFactor","styleTimes","fleetings","streetLamps","residentLights","airWinds","name","list","width","height","position","x","y","z","rotation","items","DEFAULRCONFIG","KEYS","M_MAIN_SCENE","M_CURTAIN","M_CONPANT_FLOOR","M_PERSON","M_ROBOT","M_MODE_SWITCH","M_ANCHOR_POS","M_ANCHOR_TARGET","M_WAIT_LIFT","M_DOUBLE_HORIZONTAL_SWITCH","M_DOUBLE_ROTATE_SWITCH","M_ODD_ROTATE_SWITCH","M_VIDEO_SWITCH","M_SCREEN_EDIT","M_CURTAIN_SWITCH","M_GATE_SWITCH","M_LIGHT_MAIN_SWITCH","M_LIGHT_SWITCH","M_AIR_SWITCH","DOT","models","key","size","url","type","intensity","color","castShadow","distance","penumbra","angle","Math","PI","range","mapUrl","map","item","indexOf","eventNames","Emitter","constructor","__publicField","this","reduce","obj","Set","on","eventName","listtener","listteners","forEach","it","toString","delete","add","emit","args","Hooks","ThreeScene.Hooks","Utils","ThreeScene.Utils","initCSS2DRender","createCSS2DDom","useCSS2D","createFleeting","fleetingAnimate","useFleeting","raycaster","pointer","update","raycasterUpdate","style","useRaycaster","createStripSmoke","useSmoke","pass","mrt","output","emissive","float","uniform","THREE.TSL","createPostProcessing","scene","camera","renderer","isEnv","scenePass","setMRT","bloomIntensity","outputPass","getTextureNode","bloomPass","emissivePass","bloom","bloomIntensityPass","mul","toneMapping","THREE.NeutralToneMapping","postProcessing","THREE.PostProcessing","outputNode","outputColorTransform","renderOutput","dotUpdateObjectCall","_group","val","random","show","Number","toFixed","font","substring","updateDotVisible","target","dotShowStrict","data","res","buildingGroup","Object","keys","dom","_a","element","getElementsByClassName","fontSize","textContent","unit","createCSS2DRender","options","container","createDotCSS2DDom","clickBack","pos","label","className","onClick","_position_","createLightGroup","hasHelper","group","THREE.Group","to","isRectAreaLight","set","rectLightHelper","RectAreaLightHelper","helper","THREE.SpotLightHelper","createFleetingGroup","pointList","i","length","points","line","tubularSegments","radius","repeat","fleetingGroupAnimate","createStreetLampGroup","spotLight","THREE.SpotLight","light","clone","createModelAnimate","model","animations","play","timeScale","mixer","THREE.AnimationMixer","ob","cur","clipAction","__action__","__mixer__","toggleCurtainAnimate","isClose","__close__","loop","THREE.LoopOnce","clampWhenFinished","stopAllAction","getIntersectObjects","e","scale","objects","deepCheck","setFromCamera","intersectObjects","hoverAnchor","interscts","callback","anchorGroup","object","cursor","_isAnchor_","children","el","__change_color__","mat","material","__mat_color__","THREE.Color","uuid","restoreAnchorMaterial","findParentIsBuilding","_find","_isBuilding_","parent","drawBdCanvas","canvas","text","w","offsetWidth","h","offsetHeight","ctx","getContext","clearRect","fillStyle","len","rlen","ceil","index","end","push","textAlign","textBaseline","tl","tx","fillText","createVideoDom","src","document","createElement","videoCoverTexture","THREE.TextureLoader","load","windTexture","addVideoMaterial","dbObj","videoDom2","videoTexture2","THREE.VideoTexture","__video_texture__","__cover_texture__","THREE.MeshPhongMaterial","__video__","videoMaterilPlay","vobj","isPlay","paused","pause","clearVideo","videos","remove","dispose","getModelAction","actions","clip","action","liftMove","liftName","from","duration","success","TWEEN.Tween","delay","start","createAirGroup","speed","getObjectByName","clear","subGroup","j","mesh","twistNums","floor","twistRange","offset","segment","sp","MS","createRoam","executeRoam","roamPause","roamPlay","getStatus","getRoamStatus","useRoam","dubleHorizontal","dubleRotate","oddRotate","useOpenTheDoor","keyboardPressed","destroyEvent","insertEvent","useKeyboardState","createMove","moveAnimate","useMoveAnimate","checkCollide","useCollide","virtualization","closeVirtualization","useModelLoader","createDiffusion","updateDiffusion","useDiffusion2","SIGHT_MAP","GROUND_MESH_NAMES","concat","OfficeScene","ThreeScene.Scene","extend","super","THREE.AmbientLight","THREE.DirectionalLight","THREE.Vector3","THREE.Mesh","createClock","console","log","MS.createPostProcessing","addBuildingGroup","addAnchorGroup","css2DRender","MS.createCSS2DRender","addDotGroup","addLightGroup","addFleeting","addStreetLamp","findLight","bindEvent","addDiffusion","setEnv","texture","environment","background","createRender","THREE.WebGPURenderer","render","renderAsync","run","setAnimationLoop","animate","modelAnimate","delta","clock","getDelta","_b","autoChangeStyle","anchorAnimateUpdate","_c","fleetingGroup","MS.fleetingGroupAnimate","modelAnimateUpdate","controls","MS.restoreAnchorMaterial","persionAnimate","diffusionAnimate","amb","getObjectByProperty","ambientLight","dire","directionalLight","toByday","setStyleOptions","toEvening","toNight","ambIntensity","dirIntensity","hdr","streetLampGroup","residentLightGroup","toggleCruiseBloom","loadEnvTexture","_texture","times","hour","Date","getHours","findIndex","ar","addObject","addBuilding","addAnchor","createSpriteAnimate","domElement","dotGroup","addDot","MS.createDotCSS2DDom","lightGroup","addLight","MS.createLightGroup","lightSwitch","isOpen","max","getObjectsByProperty","bind","closeLightGroup","traverse","isSpotLight","MS.createFleetingGroup","toggleFleeting","MS.createStreetLampGroup","toggleCurtain","dobj","animateModels","find","MS.toggleCurtainAnimate","dubleHorizontalDoor","axle","dubleRotateDoor","left","right","internal","autoClose","leftMatch","rightMatch","oddRotateDoor","openGate","waitLift","personIsFllow","box","error","cpos","bpos","abs","bindLift","__bind_lift__","opt","then","onUpdate","person","setControlTarget","onComplete","openDoorByLift","names","videoModels","MS.addVideoMaterial","MS.clearVideo","videoPlay","MS.videoMaterilPlay","drawCanvas","canvasTextures","needsUpdate","addCanvasMaterial","THREE.CanvasTexture","side","THREE.DoubleSide","addPerson","MS.getModelAction","runging","extra","addPersonEvent","personModel","toUpperCase","charCodeAt","__runing__","includes","keyCode","isPersonSight","personSpeed","stop","factor","steep","keyboardToMove","keyboardToTotation","isS","dir","getWorldDirection","dis","multiplyScalar","newPos","checkCharacterCollide","copy","ds","mds","maxDistance","setY","togglePersonSight","judgeCruise","judgeAndStopRoam","sight","currentSight","controlsLimitSet","togglePersonView","cameraChangeByPerson","isPersonFirst","isPerson","screenSpacePanning","enablePan","parentNode","querySelector","isCharacter","display","clearCharacterSight","up","join","historyTarget","historyCameraPosition","lookAt","personMove","intersct","Promise","reject","liftMeshName","point","diffusion","resolve","intersects","toggleBridCompany","__isFocus__","toggleCompanyFocus","wireframe","hidden","opacity","filter","isFocus","distanceTo","cameraLinkageControlsAnimate","addAirWindMaterial","_names","MS.createAirGroup","airSpeed","airGroup","toggleAir","__open__","changeAirWindSpeed","cameraLookatMoveTo","cameraLookatAnimate","cameraTransition","isCameraMove","addModelAnimate","controlReset","maxPolarAngle","toggleRoam","roamPoints","tension","close","setRoamPoint","toggleCruise","cruise","runing","onPointerMove","checkIntersectObjects","onPointerUp","isClick","timeStamp","tsp","button","onClickRight","t","MS.getIntersectObjects","MS.hoverAnchor","onHoverAnchor","MS.findParentIsBuilding","some","onClickGround","_d","onClickLeft","_e","disposeObj","welcomKey","pageOpts","reactive","anchorType","animationModelType","config","auto","mapSpeed","tipOpts","top","msg","floorOpts","active","targetName","dialog","useDialog","title","getStorage","progress","loadModels","initModels","getModel","canvasTextureRef","ref","containerRef","enableDamping","dampingFactor","axes","near","fov","light2","floorItems","computed","loadSceneModel","modelConfigList","MS.updateDotVisible","createDotObject","modelDeepClone","POS","SCA","ROT","get_P_S_R_param","getPageOptions","Axios","get","Api","d3","office","office_mode","JsonList","cameraPositionList","json","ConfigJson","JSON","parse","er","setTimeout","async","percentage","nextTick","setCruisePoint","getValidTargetPosition","cameraInSceneAnimate","controlSave","createPerson","isMesh","setScalar","l","r","initPage","status","getPosition","onListen","onEditDialogConfirm","setStorage","onMounted","isShow","_intersct","toRaw","_object","_obj","catch","useResize","resize","opts"],"mappings":"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"}