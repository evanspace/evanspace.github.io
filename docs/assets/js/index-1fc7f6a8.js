var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{bz as a,bJ as s,bx as r,bD as o,f3 as i,e as n,i as c,l as d,af as l,o as h,g as p,h as u,n as y}from"./vendor-d7bf715b.js";import{p as m,i as f,E as g,u as b}from"./scene-resize-b06d5078.js";import{E as w}from"./index-2c637517.js";import{_ as x}from"./index-09682213.js";const{initCSS3DRender:D,createCSS3DDom:S}=m.useCSS3D(),E=(e,t)=>D(e,t),_=(e,t,i)=>{const n=e.position,{x:c=0,y:d=0,z:l=0}=n||{},h=S({name:'<div class="echarts-wrap"></div>',className:"dot-echarts-box",sprite:i,onClick:t}),p=new a;p.position.set(c,d,l),p.add(h);const u=new s(1),y=new r(u,new o({color:1376236,transparent:!0,opacity:.2}));p.add(y),p.scale.setScalar(.02);const{rotation:m}=f.get_P_S_R_param(p,e),[g,b,w]=m;p.rotation.set(g,b,w),p.name=e.name+"_Echarts_Dot",p.userData.data=e,p.userData.position={x:c,y:d,z:l};const x=h.element.getElementsByClassName("echarts-wrap")[0];return p.userData.echartElement=x,p},k=Object.freeze(Object.defineProperty({__proto__:null,Hooks:m,Scene:g,THREE:i,Utils:f,createCSS3DRender:E,createDotCSS3DEchartsDom:_},Symbol.toStringTag,{value:"Module"})),{Utils:C,THREE:v}=k;class z extends g{constructor(e,a){super(e,a),t(this,"group",new v.Group),t(this,"css3DRender"),t(this,"dot3EchartsGroup"),this.css3DRender=E(this.options,this.container),this.addObject(this.group),this.addDot3EchartsGroup()}createRender(){return new v.WebGPURenderer(this.options.render)}createScene(){return new v.Scene}createDirectionalLight(e,t){return new v.DirectionalLight(e,t)}createAmbientLight(e,t){return new v.AmbientLight(e,t)}render(){this.renderer.renderAsync(this.scene,this.camera)}modelAnimate(){var e;null==(e=this.css3DRender)||e.render(this.scene,this.camera)}addEchartPlane(e,t){const a=this.group.children.find((e=>e.userData.data.key===t.key));a&&this.group.remove(a);const{width:s,height:r}=t,o=new v.PlaneGeometry(s,r),i=new v.MeshPhongMaterial({map:new v.CanvasTexture(e),side:v.DoubleSide}),n=new v.Mesh(o,i),{position:c,rotation:d}=C.get_P_S_R_param(n,t);n.position.set(c[0],c[1],c[2]),n.rotation.set(d[0],d[1],d[2]),n.scale.setScalar(.08),n.userData.domElement=e,n.userData.data=t,this.group.add(n),console.log(this)}addDot3EchartsGroup(){if(!this.css3DRender)return;this.css3DRender.domElement.className="three-scene__dot-wrap";const e=new v.Group;e.name="点位组3",this.dot3EchartsGroup=e,this.scene.add(e)}addDot3Echarts(e,t,a){if(!this.dot3EchartsGroup)return new v.Mesh;const s=_(e,t,a);return this.dot3EchartsGroup.add(s),s}resize(){var e;super.resize();const{width:t,height:a}=this.options;null==(e=this.css3DRender)||e.setSize(t,a)}dispose(){this.disposeObj(this.dot3EchartsGroup),this.dot3EchartsGroup=void 0,this.css3DRender=void 0,super.dispose()}}const R=[[[28604,77,17096869,"Australia",1990],[31163,77.4,27662440,"Canada",1990],[1516,68,1154605773,"China",1990],[13670,74.7,10582082,"Cuba",1990],[28599,75,4986705,"Finland",1990],[29476,77.1,56943299,"France",1990],[31476,75.4,78958237,"Germany",1990],[28666,78.1,254830,"Iceland",1990],[1777,57.7,870601776,"India",1990],[29550,79.1,122249285,"Japan",1990],[2076,67.9,20194354,"North Korea",1990],[12087,72,42972254,"South Korea",1990],[24021,75.4,3397534,"New Zealand",1990],[43296,76.8,4240375,"Norway",1990],[10088,70.8,38195258,"Poland",1990],[19349,69.6,147568552,"Russia",1990],[10670,67.3,53994605,"Turkey",1990],[26424,75.7,57110117,"United Kingdom",1990],[37062,75.4,252847810,"United States",1990]],[[44056,81.8,23968973,"Australia",2015],[43294,81.7,35939927,"Canada",2015],[13334,76.9,1376048943,"China",2015],[21291,78.5,11389562,"Cuba",2015],[38923,80.8,5503457,"Finland",2015],[37599,81.9,64395345,"France",2015],[44053,81.1,80688545,"Germany",2015],[42182,82.8,329425,"Iceland",2015],[5903,66.8,1311050527,"India",2015],[36162,83.5,126573481,"Japan",2015],[1390,71.4,25155317,"North Korea",2015],[34644,80.7,50293439,"South Korea",2015],[34186,80.6,4528526,"New Zealand",2015],[64304,81.6,5210967,"Norway",2015],[24787,77.3,38611794,"Poland",2015],[23038,73.13,143456918,"Russia",2015],[19360,76.5,78665830,"Turkey",2015],[38225,81.4,64715810,"United Kingdom",2015],[53354,79.1,321773631,"United States",2015]]],A={title:{text:"散点图"},backgroundColor:{type:"radial",x:.3,y:.3,r:.8,colorStops:[{offset:0,color:"#f7f8fa"},{offset:1,color:"#cdd0d5"}]},grid:{left:10,containLabel:!0,bottom:10,top:10,right:30},tooltip:{show:!0,trigger:"axis",axisPointer:{type:"cross"}},xAxis:{splitLine:{show:!1}},yAxis:{splitLine:{show:!1},scale:!0},series:[{name:"1990",data:R[0],type:"scatter",symbolSize:function(e){return Math.sqrt(e[2])/500},emphasis:{focus:"series",label:{show:!0,formatter:function(e){return(e.data||[])[3]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:{type:"radial",x:.4,y:.3,r:1,colorStops:[{offset:0,color:"rgb(251, 118, 123)"},{offset:1,color:"rgb(204, 46, 72)"}]}}},{name:"2015",data:R[1],type:"scatter",symbolSize:function(e){return Math.sqrt(e[2])/500},emphasis:{focus:"series",label:{show:!0,formatter:function(e){return(e.data||[])[3]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(25, 100, 150, 0.5)",shadowOffsetY:5,color:{type:"radial",x:.4,y:.3,r:1,colorStops:[{offset:0,color:"rgb(129, 227, 238)"},{offset:1,color:"rgb(25, 183, 207)"}]}}}]},G={title:{text:"基础柱状图"},legend:{},tooltip:{},backgroundColor:"rgb(51, 51, 51)",dataset:{source:[["product","2015","2016","2017"],["Matcha Latte",43.3,85.8,93.7],["Milk Tea",83.1,73.4,55.1],["Cheese Cocoa",86.4,65.2,82.5],["Walnut Brownie",72.4,53.9,39.1]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"},{type:"bar"}]},P=[900,345,393,-108,-154,135,178,286,-119,-361,-203],L=[],M=[],N=[];for(let U=0,K=0;U<P.length;++U){const e=Number(P[U]);e>=0?(M.push(e),N.push("-")):(M.push("-"),N.push(-e)),0===U?L.push(0):(K+=P[U-1],e<0?L.push(K+e):L.push(K))}const j={title:{text:"阶梯瀑布图"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{},xAxis:{type:"category",splitLine:{show:!1},data:function(){const e=[];for(let t=1;t<=11;t++)e.push("Oct/"+t);return e}()},yAxis:{type:"value"},series:[{type:"bar",stack:"all",itemStyle:{borderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{itemStyle:{borderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},data:L},{name:"positive",type:"bar",stack:"all",data:M},{name:"negative",type:"bar",stack:"all",data:N,itemStyle:{color:"#f33"}}]},O={title:{text:"堆叠折线图"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{data:["A","B","C","D","E"]},backgroundColor:"#fff",yAxis:{},series:[{data:[10,22,28,43,49],type:"line",stack:"x"},{data:[5,4,3,5,10],type:"line",stack:"x"}]},T=x(n({__name:"index",setup(e){const t=c(),a={axes:{visible:!0},grid:{visible:!0,fork:!0},ambientLight:{intensity:2},directionalLight:{intensity:.1},camera:{near:1e-10,position:[0,5,50]}};let s;const r=c();let o=[];const i=(e,t,a,r)=>{const i=r||document.createElement("div"),n=new w(i,e,t,{width:4*a.width,height:4*a.height});r||n.on("finished",(()=>{s.addEchartPlane(n.domElement,a)})),o.push(n)};return d((()=>{s=new z(a,t.value).run(),b(s).resize(),(()=>{i(G,"essos",{key:"---1",width:300,height:100,position:{x:-12,y:4,z:0},rotation:{x:0,y:30,z:0}}),i(A,"dark",{key:"---2",width:300,height:100,position:{x:12,y:4,z:0},rotation:{x:0,y:-30,z:0}});const e={name:"",type:"",key:"---3",width:300,height:100,position:{x:12,y:9,z:0},rotation:{x:0,y:-30,z:0}};i(j,"chalk",e,s.addDot3Echarts(e,(e=>{}),!1).userData.echartElement);const t={name:"",type:"",key:"---4",width:300,height:100,position:{x:-12,y:9,z:0},rotation:{x:0,y:30,z:0}};i(O,"wonderland",t,s.addDot3Echarts(t,(e=>{}),!0).userData.echartElement)})()})),l((()=>{o.forEach((e=>{e.dispose()}))})),(e,a)=>(h(),p("div",{class:y(["three-page",e.$style.page])},[u("div",{class:"h-100",ref_key:"containerRef",ref:t},null,512),u("div",{class:y(e.$style.echarts),id:"echarts",ref_key:"echartsRef",ref:r},null,2)],2))}}),[["__cssModules",{$style:{echarts:"_echarts_1fu4c_2",page:"_page_1fu4c_10"}}]]);export{T as default};
