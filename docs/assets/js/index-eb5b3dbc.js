var e=Object.defineProperty,s=(s,a,t)=>(((s,a,t)=>{a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t})(s,"symbol"!=typeof a?a+"":a,t),t);import{D as a,u as t}from"./scene-resize-83c18528.js";import{bb as n,d4 as o,bd as i,be as d,bf as r,bg as l,d0 as c,af as h,e as w,i as m,l as b,o as u,g as p,h as v}from"./vendor-08e99294.js";import"./index-a5d3af4f.js";class f extends a{constructor(e){super(e),s(this,"clock"),s(this,"gui"),s(this,"transformControls"),this.clock=new n,this.addControls(),this.initModel(),this.gui=new o,this.addGui()}init(){this.initLight(),this.initGrid(),this.initAxes()}addControls(){const e=this.camera,s=new i(e,this.renderer.domElement);s.addEventListener("dragging-changed",(e=>{this.controls&&(this.controls.enabled=!e.value)})),this.transformControls=s,this.addObject(s.getHelper())}addGui(){var e;const s=this.gui,a=this.transformControls;if(!a)return;const t={w:()=>{a.setMode("translate")},e:()=>{a.setMode("rotate")},r:()=>{a.setMode("scale")},x:!1,y:!1,z:!1,add:()=>{a.setSize(a.size+.1)},sub:()=>{a.setSize(Math.max(a.size-.1,.1))},space:!1},n=s.addFolder("键盘快捷键");n.add(t,"w").name("“W”切换坐标辅助)"),n.add(t,"e").name("“E”切换旋转辅助)"),n.add(t,"r").name("“R”切换缩放辅助)"),n.add(a,"showX").name("“X”坐标系 x 轴隐显)"),n.add(a,"showY").name("“Y”坐标系 y 轴隐显)"),n.add(a,"showZ").name("“Z”坐标系 z 轴隐显)"),n.add(t,"add").name('“+”,"="坐标系放大)'),n.add(t,"sub").name('“-”,"_"坐标系缩小)'),n.add(a,"enabled").name("“空格”坐标系禁/启用)"),s.domElement.style="position: absolute; top: 0px; right: 0px",null==(e=this.container.parentNode)||e.appendChild(s.domElement)}initModel(){var e;const s=new d(300,300),a=new r({color:11721691}),t=new l(s,a);t.name="ground",t.rotation.x=1.5*Math.PI,t.receiveShadow=!0,this.addObject(t);const n=new c(50,50,50),o=new r({color:1276674}),i=new l(n,o);i.position.y=25,i.castShadow=!0,this.addObject(i),null==(e=this.transformControls)||e.attach(i);const w=e=>this.onKeydown(e),m=e=>this.onKeyup(e);window.addEventListener("keydown",w,!1),window.addEventListener("keyup",m,!1),h((()=>{window.removeEventListener("keydown",w),window.removeEventListener("keyup",m)}))}modelAnimate(){}onKeydown(e){console.log(e,this);const s=this.transformControls;if(s)switch(e.key){case"w":s.setMode("translate");break;case"e":s.setMode("rotate");break;case"r":s.setMode("scale");break;case"+":case"=":s.setSize(s.size+.1);break;case"-":case"_":s.setSize(Math.max(s.size-.1,.1));break;case"x":s.showX=!s.showX;break;case"y":s.showY=!s.showY;break;case"z":s.showZ=!s.showZ;break;case" ":s.enabled=!s.enabled;break;case"Escape":s.reset()}}onKeyup(e){console.log(e)}}const g={class:"three-page"},y=w({__name:"index",setup(e){const s=m(),a={axes:{visible:!0},render:{alpha:!0},grid:{visible:!0}};let n;return b((()=>{a.container=s.value,n=new f(a),n.run(),t(n).resize()})),(e,a)=>(u(),p("div",g,[v("div",{class:"h-100",ref_key:"containerRef",ref:s},null,512)]))}});export{y as default};
//# sourceMappingURL=index-eb5b3dbc.js.map
