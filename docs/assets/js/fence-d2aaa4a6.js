import{b6 as e,bV as t,bs as n,cj as a,c0 as s,ch as o,bo as r,cl as p,bp as c,bc as f}from"./vendor-16889df9.js";import{g as w}from"./asssets-c6facb32.js";const l=()=>{const l=[1,.8],i=.2,d=(new e).load(w("fenceMap0.png"),(e=>{e.wrapT=t,e.repeat.x=l[0],e.repeat.y=l[1],e.offset.y=i})),y=(new e).load(w("fenceMap1.png"),(e=>{e.wrapT=t,e.repeat.x=l[0],e.repeat.y=l[1],e.offset.x=i})),b=(new e).load(w("fenceMap2.png"),(e=>{e.wrapS=t,e.wrapT=t})),u=(e,t,a)=>{const w=[];for(let n=0;n<t.length;n++){const a=t[n];w.push(...e[a])}const l=new s,i=new Float32Array(w);l.setAttribute("position",new o(i,3));const u=t.length,g=new o(new Float32Array(3*u),3);l.setAttribute("normal",g);for(let n=0;n<u;n++)g.setXYZ(n,0,0,0);const m=new o(new Float32Array([1,1,0,1,0,0,0,0,1,0,1,1]),2);l.setAttribute("uv",m);const A=new r({color:a,map:d,transparent:!0,blending:p,side:c}),h=new r({color:a,map:y,transparent:!0,blending:p,side:c});var v=new r({color:a,map:b,opacity:.5,transparent:!0,side:c});const x=new f(l,A),F=new n,j=new f(l,h),M=new f(l,v);return F.add(x,j,M),F};return{createFence:(e,t=11009923)=>{const s=new n;var o=new a(e,t);o.update();const r=o.geometry.getAttribute("position").array,p=[];for(let n=0;n<r.length;n+=3){const e=r[n],t=r[n+1],a=r[n+2];p.push([e,t,a])}const c=u(p,[0,1,2,2,3,0],t),f=u(p,[4,5,6,6,7,4],t),w=u(p,[4,0,3,3,7,4],t),l=u(p,[1,5,6,6,2,1],t);return s.add(c,f,w,l),s},fenceAnimate:(e=1)=>{const t=.008*e;if(d){let e=d.offset.y-t;e<0&&(e=i),d.offset.y=e}if(y){let e=y.offset.y-t;e<0&&(e=i),y.offset.y=e}}}};export{l as u};
