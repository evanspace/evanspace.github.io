import{j as e,c8 as t,o as a,g as n,K as s,a9 as l,h as o,t as i,e as c,n as u,u as d,c7 as r,G as v,x as p}from"./vendor-ab6a925e.js";import{_ as m}from"./common-bfb5a874.js";const g={type:"text"},h={type:"checkbox"};const _=m({directives:{myModel:{mounted(e,t,a){var n;if(void 0===t.value)return;let s=t.instance;const l=null==(n=a.props)?void 0:n.type;let o="",i="";switch(l){case"text":case"textarea":o="input",i="value";break;case"checkbox":case"radio":o="change",i="checked";break;case"select":o="change",i="value"}e.value=t.value,e.addEventListener(o,(e=>{s[t.arg||""]=e.target[i]}))}}},setup:()=>({value:e("11"),checked:e(!1)})},[["render",function(e,c,u,d,r,v){const p=t("myModel");return a(),n("div",null,[s(" vue3.x "),l(o("input",g,null,512),[[p,d.value,"value"]]),s(" "+i(d.value)+" ",1),l(o("input",h,null,512),[[p,d.checked,"checked"]]),s(" "+i(d.checked),1)])}]]),y=o("span",null,"自定义 v-mymodel：",-1),x={type:"text"},k=o("span",null,"内置 v-model：",-1),E=m(c({__name:"index",setup(t,{expose:s}){const c=e("---"),m={mounted(e,t,a){if(void 0===t.value)return;let n=t.instance;e.value=t.value,e.addEventListener("input",(e=>{e.target.composing||(n[t.arg]=e.target.value)})),e.addEventListener("compositionstart",(e=>{e.target.composing=!0})),e.addEventListener("compositionend",(e=>{const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}))},beforeUnmount(e){e.removeEventListener("input",(()=>{})),e.removeEventListener("compositionstart",(()=>{})),e.removeEventListener("compositionend",(()=>{}))},updated(e,t){e.value=t.value}};return s({modelVal:c}),(e,t)=>(a(),n("div",{class:u(e.$style.page)},[o("div",{class:u(e.$style.item)},[o("div",{class:u(e.$style.title)},"v-model",2),o("div",{class:u(e.$style.content)},[y,l(o("input",x,null,512),[[m,d(c),"modelVal"]]),o("p",null,"结果："+i(d(c)),1),k,l(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>v(c)?c.value=e:null),placeholder:"v-model"},null,512),[[r,d(c)]]),p(_)],2)],2)],2))}}),[["__cssModules",{$style:{page:"_page_1ohz8_2",item:"_item_1ohz8_6",title:"_title_1ohz8_9"}}]]);export{E as default};
