var e=Object.defineProperty,a=(a,s,n)=>(((a,s,n)=>{s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[s]=n})(a,"symbol"!=typeof s?s+"":s,n),n);import{bq as s,bc as n,d9 as t,eT as o,br as r,eY as c,d0 as i,bg as l,eE as d,eF as u,e as p,i as m,l as h,o as g,g as w,h as b}from"./vendor-08e99294.js";import{p as _,D as y,u as v}from"./scene-resize-83c18528.js";import"./index-a5d3af4f.js";const{uniform:f,texture:j,parallaxUV:G,uv:P,blendOverlay:x}=u,S=(new s).setPath("/oss/textures/gpu/"),A=f(.3),{backgroundLoad:I}=_.useBackground();class J extends y{constructor(e){super(e),a(this,"gui"),I(this.scene,"501"),this.scene.environment=this.scene.background,this.gui=new n,this.addGui()}async initModel(){const e=await S.loadAsync("Ice002_1K-JPG_Color.jpg");e.colorSpace=t;const a=await S.loadAsync("Ice002_1K-JPG_Roughness.jpg");a.colorSpace=o;const s=await S.loadAsync("Ice002_1K-JPG_NormalGL.jpg");s.colorSpace=o;const n=await S.loadAsync("Ice002_1K-JPG_Displacement.jpg");n.colorSpace=o;const d=await S.loadAsync("Ice003_1K-JPG_Color.jpg");d.colorSpace=t,d.wrapS=r,d.wrapT=r;const u=j(n).mul(A),p=G(P(),u),m=j(d,p),h=x(j(e),m),g=new c({colorNode:h.mul(5),normalMap:s,metalness:0});g.roughnessNode=j(a);const w=new i(10,10,10),b=new l(w,g);b.rotateX(-Math.PI/2),b.scale.setScalar(40),this.addObject(b)}render(){this.renderer.renderAsync(this.scene,this.camera)}createRender(){return new d(this.options.render)}addGui(){var e;const a=this.gui;a.add(this.controls,"autoRotate").name("自动旋转"),a.add(A,"value",0,1).name("视差大小"),a.domElement.className+=" gui-wrap",null==(e=this.container.parentNode)||e.appendChild(a.domElement)}}const K={class:"three-page"},N=p({__name:"index",setup(e){const a=m(),s={grid:{},controls:{autoRotate:!0}};let n;return h((()=>{s.container=a.value,n=new J(s).run(),v(n).resize()})),(e,s)=>(g(),w("div",K,[b("div",{class:"h-100",ref_key:"containerRef",ref:a},null,512)]))}});export{N as default};
//# sourceMappingURL=index-5988ab9e.js.map
