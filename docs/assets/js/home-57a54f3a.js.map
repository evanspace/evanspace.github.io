{"version":3,"file":"home-57a54f3a.js","sources":["../../../code/src/views/home.vue"],"sourcesContent":["<template>\n  <div class=\"h-100\">\n\n    <svg style=\"display: none;\">\n      <defs>\n        <filter id=\"blob\">\n          <feGaussianBlur\n            in=\"SourceGraphic\"\n            stdDeviation=\"10\"\n            result=\"blur\"\n          ></feGaussianBlur>\n          <feColorMatrix\n            in=\"blur\"\n            mode=\"matrix\"\n            values=\"\n            1 0 0 0 0\n            0 1 0 0 0\n            0 0 1 0 0\n            0 0 0 20 -10\n            \"\n          ></feColorMatrix>\n        </filter>\n      </defs>\n    </svg>\n\n    <div class=\"home-container\">\n\n      <div class=\"inner\">\n        <div class=\"svg\">\n          <svg-icon name=\"lg-vue\" color=\"#f00\"></svg-icon>\n          <span>+</span>\n          <svg-icon name=\"lg-vite\"></svg-icon>\n          <span>+</span>\n          <svg-icon name=\"lg-typescript\"></svg-icon>\n          <span>+</span>\n          <svg-icon name=\"lg-pinia\"></svg-icon>\n        </div>\n  \n        <h1>Welcome to system.</h1>\n      </div>\n\n\n      <div class=\"bg\">\n        <div class=\"bubbles\" ref=\"bubblesRef\" @animationend=\"animationed\">\n          <div class=\"bubble\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useAuthStore, useAppStore, useUserStore } from '@/stores'\nconst bubblesRef: any = ref( null )\nconst n = 10\n\nconst createBubbles = () => {\n  const dom = bubblesRef.value\n  const w = dom.clientWidth\n  for ( let i = 0; i < n; i ++ ) {\n    const bubble = document.createElement( 'dev' )\n    bubble.className = 'bubble'\n    const s = Math.random() * 100 + 50\n    const x = Math.random() * ( w - s )\n    const d = Math.random() * 4 + 2\n    bubble.style.setProperty( '--s', `${ s }px` )\n    bubble.style.setProperty( '--x', `${ x }px` )\n    bubble.style.setProperty( '--d', `${ d }s` )\n    dom.appendChild( bubble )\n  }\n}\n\n// 动画结束\nconst animationed = ( e ) => {\n  e.target.remove()\n}\n\nlet timer: any = null\nonMounted( () => {\n  createBubbles()\n  timer = setInterval( createBubbles, 1000 )\n} )\n\nonBeforeUnmount( () => {\n  clearInterval( timer )\n} )\n\n\nconst router = useRouter()\nconst authStore = useAuthStore()\nconst appStore = useAppStore()\nconst useStore = useUserStore()\n\n// 查找第一个路由\nconst findFirstRoute = ( routes: any[] ) => {\n  let route = routes[ 0 ]\n  if ( route.children && route.children.length ) {\n    route = findFirstRoute( route.children )\n  }\n  return route\n}\n\n// 初始化跳转可查看权限的第一个界面\nconst initJumpAuthFirstRoute = () => {\n  if ( !appStore.isAutoJump ) return\n  // 过滤\n  let routes = authStore.addRoutes/* .filter(it => it.path != '/') */\n  // 查找第一个有效的路由\n  let route = findFirstRoute(routes)  \n  // 非正式环境\n  if ( !appStore.ISPROD ) {\n    route.query = {\n      TOKEN: useStore.token\n    }\n  }\n  router.push( route )\n}\ninitJumpAuthFirstRoute()\n\n\n</script>\n\n<style lang=\"scss\">\n.home-container {\n  --bubble-color: var(--logo-bg-color);\n  color: #606266;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  position: relative;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n\n  .inner {\n    z-index: 1;\n    font-size: 70px;\n    position: relative;\n    text-align: center;\n  }\n  h1 {\n    font-size: 36px;\n    font-weight: 500;\n  }\n\n  .bg {\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    height: 30vh;\n    position: absolute;\n    background-color: var(--bubble-color);\n\n    .bubbles {\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 1em;\n      filter: url(#blob);\n      background-color: inherit;\n      .bubble {\n        --x: 100px;\n        --s: 50px;\n        --d: 2s;\n        top: 100px;\n        left: var(--x);\n        width: var(--s);\n        height: var(--s);\n        border-radius: 50%;\n        position: absolute;\n        animation: bubbling var(--d) ease-in forwards;\n        background-color: inherit;\n      }\n      @keyframes bubbling {\n        75% {\n          transform: scale(1);\n        }\n        to {\n          top: -40vh;\n          transform: scale(0);\n        }\n      }\n    }\n  }\n}\n</style>\n\n"],"names":["bubblesRef","ref","createBubbles","dom","value","w","clientWidth","i","bubble","document","createElement","className","s","Math","random","x","d","style","setProperty","appendChild","animationed","e","target","remove","timer","onMounted","setInterval","onBeforeUnmount","clearInterval","router","useRouter","authStore","useAuthStore","appStore","useAppStore","useStore","useUserStore","findFirstRoute","routes","route","children","length","isAutoJump","addRoutes","ISPROD","query","TOKEN","token","push"],"mappings":"0TAqDA,MAAAA,EAAAC,EAAA,MAGAC,EAAA,KACE,MAAAC,EAAAH,EAAAI,MACAC,EAAAF,EAAAG,YACA,IAAA,IAAAC,EAAA,EAAAA,EALF,GAKEA,IAAA,CACE,MAAAC,EAAAC,SAAAC,cAAA,OACAF,EAAAG,UAAA,SACA,MAAAC,EAAA,IAAAC,KAAAC,SAAA,GACAC,EAAAF,KAAAC,UAAAT,EAAAO,GACAI,EAAA,EAAAH,KAAAC,SAAA,EACAN,EAAAS,MAAAC,YAAA,MAAA,GAAAN,OACAJ,EAAAS,MAAAC,YAAA,MAAA,GAAAH,OACAP,EAAAS,MAAAC,YAAA,MAAA,GAAAF,MACAb,EAAAgB,YAAAX,EAAwB,GAK5BY,EAAAC,IACEA,EAAAC,OAAAC,UAGF,IAAAC,EAAA,KACAC,GAAA,SAEED,EAAAE,YAAAxB,EAAA,IAAA,IAGFyB,GAAA,KACEC,cAAAJ,EAAA,IAIF,MAAAK,EAAAC,IACAC,EAAAC,IACAC,EAAAC,IACAC,EAAAC,IAGAC,EAAAC,IACE,IAAAC,EAAAD,EAAA,GAIA,OAHAC,EAAAC,UAAAD,EAAAC,SAAAC,SACEF,EAAAF,EAAAE,EAAAC,WAEFD,CAAA,QAIF,MACE,IAAAN,EAAAS,WAA4B,OAE5B,IAAAJ,EAAAP,EAAAY,UAEAJ,EAAAF,EAAAC,GAEAL,EAAAW,SACEL,EAAAM,MAAA,CAAcC,MAAAX,EAAAY,QAIhBlB,EAAAmB,KAAAT,EAAA"}