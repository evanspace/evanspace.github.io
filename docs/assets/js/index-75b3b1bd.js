var e=Object.defineProperty,s=(s,t,a)=>(((s,t,a)=>{t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a})(s,"symbol"!=typeof t?t+"":t,a),a);import{b6 as t,b5 as a,bd as o,bz as i,bb as r,bl as n,bm as l,b8 as d,bq as h,bA as c,b7 as p,b9 as u,bB as b,be as m,bs as f,bp as w,e as y,i as v,l as g,o as O,g as S,h as x,n as _}from"./vendor-fdf0d3de.js";import{u as j}from"./scene-resize-c9309c3a.js";import{_ as I}from"./common-9bcd4cdd.js";const M={operation:h,useGroups:!0,wireframe:!1};let G;class B extends t{constructor(e){super(e),s(this,"evaluator"),s(this,"baseBrush"),s(this,"brush"),s(this,"wireframe"),this.evaluator=new a,this.baseBrush=(()=>{const e=new c(20,3),s=new p({flatShading:!0,polygonOffset:!0,polygonOffsetUnits:1,polygonOffsetFactor:1});return new u(e,s)})(),this.brush=(()=>{const e=new b(10,10,50,45,1),s=new p({flatShading:!0,color:16750592,emissive:16750592,emissiveIntensity:.35,polygonOffset:!0,polygonOffsetUnits:10,polygonOffsetFactor:10});return new u(e,s)})(),this.wireframe=new o(new i(1,1,1),new r({color:38536,wireframe:!0})),this.addModel()}initModel(){const e=new o(new n(1e3,1e3),new l({color:16442329,transparent:!0,opacity:.35,side:d}));e.rotation.x=-Math.PI/2,e.scale.setScalar(10),e.receiveShadow=!0,this.addObject(e),(e=>{const s=new m;s.add(M,"operation",{SUBTRACTION:h,INTERSECTION:f,ADDITION:w}).name("布尔类型"),s.add(M,"wireframe").name("线框材质"),s.add(M,"useGroups").name("使用组合"),s.domElement.style="position: absolute; top: 10px; right: 10px",null==e||e.appendChild(s.domElement)})(this.container)}addModel(){const e=this.wireframe;e.position.set(0,50,0),this.addObject(e)}updateCSG(){this.evaluator.useGroups=M.useGroups,G=this.evaluator.evaluate(this.baseBrush,this.brush,M.operation,G),G.castShadow=!0,G.position.set(0,50,0),G.receiveShadow=!0,this.addObject(G)}modelAnimate(){const e=window.performance.now()+9e3,s=this.brush;s.rotation.x=-2e-4*e,s.rotation.y=-5e-4*e,s.rotation.z=-.001*e;const t=.5+.5*(1+Math.sin(.001*e));s.scale.set(t,1,t),s.updateMatrixWorld(),this.updateCSG(),this.wireframe.geometry=G.geometry,this.wireframe.visible=M.wireframe}}const C=I(y({__name:"index",setup(e){const s=v(),t={camera:{position:[0,100,260]},grid:{visible:!0},axes:{visible:!0}};let a;return g((()=>{t.container=s.value,a=new B(t),a.run(),j(a).resize()})),(e,t)=>(O(),S("div",{class:_([e.$style.page,"h-100 o-h"])},[x("div",{ref_key:"containerRef",ref:s,class:"h-100"},null,512)],2))}}),[["__cssModules",{$style:{page:"_page_12f6y_2"}}]]);export{C as default};
