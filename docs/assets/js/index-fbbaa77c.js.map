{"version":3,"file":"index-fbbaa77c.js","sources":["../../../code/src/pages/monitor/ele-intersection/index.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n    \n    <div class=\"container\">\n      <div class=\"item\" v-for=\"( src, index ) in list\" :key=\"index\">\n        <img :src=\"src\" alt=\"\">\n      </div>\n    </div>\n\n\n    <div class=\"loading\" ref=\"loading\"></div>\n\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n\nconst list = ref<Array<string>>( [] )\nconst loading = ref()\n\nconst init = () => {\n  const ob = new IntersectionObserver( list => {\n    console.log(list)\n    const $loading = list[ 0 ]\n    if ( $loading.isIntersecting ) {\n      add()\n    }\n  }, {\n    root: null,\n    // rootMargin: 0,\n    threshold: 1\n  } )\n\n  ob.observe( loading.value )\n}\n\nconst add = () => {\n  const data = [\n    'https://cdn.seovx.com/?mom=302',\n    'https://cdn.seovx.com/d/?mom=302',\n    'https://cdn.seovx.com/ha/?mom=302',\n    'https://api.btstu.cn/sjbz/api.php',\n    'https://bing.ioliu.cn/v1/rand?w=900&h=600',\n    'https://api.r10086.com/PPT/PPT.php?PPT=赛马娘',\n    'https://bing.ioliu.cn/v1/rand?w=800&h=600',\n    // 'https://api.isoyu.com/bing_images.php',\n    // 'https://api.isoyu.com/beibei_images.php',\n    // 'https://api.isoyu.com/mm_images.php',\n    // 'https://api.r10086.com/樱道随机图片api接口.php?图片系列=CG系列3'\n  ]\n  let arr: any = [], index = 0\n  for( let i = 0; i < 9; i++ ) {\n    if ( Math.random() > .3 ) {\n      arr.push( data[ index ] )\n      index ++\n      if ( index >= data.length ) index = 0\n    } else {\n      const w = Math.floor( Math.random() * 70 + 30 )\n      const h = Math.floor( Math.random() * 70 + 10 )\n      const url = `https://loremflickr.com/${ w }0/${ h }0`\n      arr.push( url )\n    }\n  }\n  list.value = list.value.concat( arr )\n}\n\n\nonMounted( () => {\n  init()\n} )\n</script>\n  \n<style lang=\"scss\" scoped>\n\n.page {\n  padding-bottom: 10px;\n}\n.container {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.item {\n  width: 33.33%;\n  overflow: hidden;\n}\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: all .3s;\n}\nimg:hover {\n  transform: scale(1.2);\n}\n\n.loading {\n  width: 50px;\n  height: 50px;\n  border: 5px dotted #000;\n  margin: 0 auto;\n  position: relative;\n  border-radius: 50%;\n  animation: circle 2s linear infinite;\n}\n@keyframes circle {\n  0% {\n    transform: rotate(0);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>"],"names":["list","ref","loading","add","data","arr","index","i","Math","random","push","length","url","floor","value","concat","onMounted","IntersectionObserver","list2","console","log","isIntersecting","root","threshold","observe"],"mappings":"0NAiBA,MAAAA,EAAAC,EAAA,IACAC,EAAAD,IAkBAE,EAAA,KACE,MAAAC,EAAA,CAAa,iCACX,mCACA,oCACA,oCACA,4CACA,6CACA,6CAOF,IAAAC,EAAA,GAAAC,EAAA,EACA,IAAA,IAAAC,EAAA,EAAAA,EAAA,EAAAA,IACE,GAAAC,KAAAC,SAAA,GACEJ,EAAAK,KAAAN,EAAAE,IACAA,IACAA,GAAAF,EAAAO,SAA4BL,EAAA,OAAQ,CAEpC,MAEAM,EAAA,2BAFAJ,KAAAK,MAAA,GAAAL,KAAAC,SAAA,QACAD,KAAAK,MAAA,GAAAL,KAAAC,SAAA,OAEAJ,EAAAK,KAAAE,EAAc,CAGlBZ,EAAAc,MAAAd,EAAAc,MAAAC,OAAAV,EAAA,SAIFW,GAAA,KA9CE,IAAAC,sBAAAC,IACEC,QAAAC,IAAAF,GACAA,EAAA,GACAG,mBACM,GACN,CACCC,KAAA,KACKC,UAAA,IAKRC,QAAAtB,EAAAY"}