var e=Object.defineProperty,t=(t,s,a)=>(((t,s,a)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a})(t,"symbol"!=typeof s?s+"":s,a),a);import{m as s,u as a}from"./scene-resize-5a2a1962.js";import{bq as i,el as o,bc as n,em as d,bg as r,cU as h,bf as c,bs as l,e as p,i as m,l as u,o as g,g as w,h as b}from"./vendor-fc8ec027.js";import"./index-e400c806.js";const f=(new i).setPath("/oss/textures/").load("disturb.jpg");class j extends s{constructor(e){super(e),t(this,"spotLight"),t(this,"lightHelper"),t(this,"gui");const s=this.createSpolight();this.spotLight=s,this.addObject(this.spotLight);const a=new o(s);this.lightHelper=a,this.addObject(a);const i=this.createGround(16777215);this.addObject(i),this.addModel(),this.createClock(),this.gui=new n,this.addGui()}createSpolight(){const e=new d(16777215,1);return e.position.set(200,500,200),e.angle=Math.PI/6,e.penumbra=1,e.decay=0,e.distance=1500,e.map=f,e.castShadow=!0,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.camera.near=1,e.shadow.camera.far=10,e.shadow.focus=1,e.shadow.bias=-.003,e}addModel(){const e=new r(new h(100,100,100),new c({color:16777215}));e.position.set(-60,50,0);const t=new r(new l(50,32,32),new c({color:16777215}));t.position.set(60,50,0),this.addObject(e,t)}addGui(){var e;const t=this.gui,s=this.spotLight;t.add(s,"intensity",0,10).name("光照强度"),t.addColor({color:s.color.getHex()},"color").name("光照颜色").onChange((e=>{s.color.set(e)})),t.add(s,"angle",0,Math.PI/3).name("角度"),t.add(s,"penumbra",0,1).name("半影"),t.add(s,"decay",0,2).name("衰减"),t.add(s,"distance",0,2e3).name("距离"),t.domElement.className+=" gui-wrap",null==(e=this.container.parentNode)||e.appendChild(t.domElement)}modelAnimate(){const e=performance.now()/3e3,t=this.spotLight;t.position.x=300*Math.cos(e),t.position.z=300*Math.sin(e),this.lightHelper.update()}}const y={class:"three-page"},v=p({__name:"index",setup(e){const t=m(),s={ambientLight:{intensity:.15},directionalLight:{visible:!1}};let i;return u((()=>{s.container=t.value,i=new j(s),i.run(),a(i).resize()})),(e,s)=>(g(),w("div",y,[b("div",{class:"h-100",ref_key:"containerRef",ref:t},null,512)]))}});export{v as default};
