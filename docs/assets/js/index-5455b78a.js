var e=Object.defineProperty,t=(t,s,a)=>(((t,s,a)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a})(t,"symbol"!=typeof s?s+"":s,a),a);import{t as s}from"./index-8f0bfc78.js";import{du as a,dv as n,bE as o,dd as d,e3 as r,em as i,dr as l,en as c,eo as m,ep as b,eq as h,er as w,bz as u,dT as p,es as x,dU as v,et as y,bv as g,eu as z,ev as j,ew as O,bA as G,ex as T,ey as f,ez as C,e1 as S,eA as B,eB as E,eC as _,bC as M,dG as P,dc as k,eD as D,c as N,X as R,h as U,k as H,o as I,f as V,g as A,p as F,u as L}from"./vendor-0648fc2e.js";import{S as X,u as q,i as K}from"./scene-resize-0e15fce9.js";import"./index-6003684c.js";const W=new a({color:15856113,specular:16777215,flatShading:!0,side:n,wireframe:!1});let Y;const J=(e,t,s={x:0,y:0,z:0},a=M)=>{const n=new k,o=new a(t,W);o.castShadow=!0,n.add(o);const d=(e=>{let t=new f(e||"",{font:Y,size:5,depth:0,curveSegments:12,bevelThickness:.5,bevelSize:.1,bevelEnabled:!0,bevelSegments:1});t.computeBoundingBox(),t.computeVertexNormals();let s=.5*(t.boundingBox.max.x-t.boundingBox.min.x),a=.5*(t.boundingBox.max.z-t.boundingBox.min.z),n=new M(t,W);return n.castShadow=!0,n.position.set(-s,30,-a),n.name="text",n._isText_=!0,n})(e);n.add(d);const{x:r,y:i,z:l}=s;return n.position.set(r,i,l),n};class Q extends X{constructor(e){super(e),t(this,"gui"),this.gui=new o,this.addGui()}addModel(e){Y=e;const t=50,s=125,a={x:0,y:25,z:0};let n=J("立方缓冲几何体(BoxBufferGeometry)",new d(t,t,t),a);this.addObject(n),a.x+=s,n=J("圆形几何体(CircleGeometry)",new r(25),a),this.addObject(n),a.z-=s,n=J("圆锥几何体(ConeGeometry)",new i(t,t),a),this.addObject(n),a.x-=s,n=J("圆柱几何体（(CylinderGeometry)",new l(25,t/3,t),a),this.addObject(n),a.x-=s,n=J("十二面几何体(DodecahedronGeometry)",new c(25),a),this.addObject(n),a.z+=s,n=J("边缘几何体(EdgesGeometry)",new m(new d(t,t,t)),a,D),this.addObject(n);{a.z+=s;const e=10,o=new b;o.moveTo(-e,-e),o.lineTo(-e,e),o.lineTo(e,e),o.lineTo(e,-e),o.lineTo(-e,-e),n=J("挤压几何体(ExtrudeGeometry)",new h(o,{steps:100,depth:16,bevelEnabled:!0,bevelThickness:1,bevelSize:1,bevelSegments:1,extrudePath:new w([new u(-50,-50,-50),new u(25,10,25),new u(-25,t/3,-25)])}),a)}this.addObject(n),a.x+=s,n=J("二十面几何体(IcosahedronGeometry)",new p(25,0),a),this.addObject(n),a.x+=s,n=J("八面几何体(OctahedronGeometry)",new x(25,0),a),this.addObject(n),a.x+=s;let o=[];for(let d=0;d<10;d++)o.push(new v(10*Math.sin(.2*d)+5,2*(d-5)));n=J("车削几何体(LatheGeometry)",new y(o,10,0,1.5*Math.PI),a),this.addObject(n),a.z-=s,n=J("平面几何体(PlaneGeometry)",new g(t,t),a),this.addObject(n),a.z-=s,n=J("多面几何体(PolyhedronGeometry)",new z([-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1],[2,1,0,0,3,2,0,4,7,7,3,0,0,1,5,5,4,0,1,2,6,6,5,1,2,3,7,7,6,2,4,5,6,6,7,4],25,2),a),this.addObject(n),a.z-=s,n=J("圆环几何体(RingGeometry)",new j(10,25),a),this.addObject(n);{a.x-=s;let e=0,t=0;const o=new b;o.moveTo(e+5,t+5),o.bezierCurveTo(e+5,t+5,e+4,t,e,t),o.bezierCurveTo(e-6,t,e-6,t+7,e-6,t+7),o.bezierCurveTo(e-6,t+11,e-3,t+15.4,e+5,t+19),o.bezierCurveTo(e+12,t+15.4,e+16,t+11,e+16,t+7),o.bezierCurveTo(e+16,t+7,e+16,t,e+10,t),o.bezierCurveTo(e+7,t,e+5,t+5,e+5,t+5),n=J("形状几何体(ShapeGeometry)",new O(o),a)}this.addObject(n),a.x-=s,n=J("球几何体(SphereGeometry)",new G(25,32,16),a),this.addObject(n),a.x-=s,n=J("四面几何体(TetrahedronGeometry)",new T(25,1),a),this.addObject(n),a.x-=s,n=J("文本几何体(TextGeometry)",new f("Hello three.js!",{font:e,size:5,depth:.5,curveSegments:3,bevelEnabled:!0,bevelThickness:.2,bevelSize:.5,bevelSegments:1}),a),this.addObject(n),a.z+=s,n=J("圆环几何体(TorusGeometry)",new C(t/3,5,12,48),a),this.addObject(n),a.z+=s,n=J("圆环纽结几何体(TorusKnotGeometry)",new S(t/3,5,64,16,2,3),a),this.addObject(n),a.z+=s,n=J("管道几何体(TubeGeometry)",new B(new w([new u(-50,-50,-50),new u(25,10,25),new u(-25,t/3,-25)]),64,5,16,!1),a),this.addObject(n),a.z+=s,n=J("线框几何体(WireframeGeometry)",new E(new B(new w([new u(-50,-50,-50),new u(25,10,25),new u(-25,t/3,-25)]),64,5,16,!1)),a,D),this.addObject(n),a.x+=s,n=J("胶囊几何体(RoundedBoxGeometry)",new _(25,t,25,6,25),a),this.addObject(n);const k=new M(new g(5e3,5e3),new P({color:10592673}));k.receiveShadow=!0,k.rotateX(-Math.PI/2),this.addObject(k)}addGui(){var e;const t=this.gui,s={color:15856113,specular:16777215};t.addColor(s,"color").name("颜色").onChange((e=>{W.color.set(e)})),t.addColor(s,"specular").name("高光").onChange((e=>{W.specular.set(e)})),t.add(W,"wireframe").name("线框"),t.domElement.className+=" gui-wrap",null==(e=this.container.parentNode)||e.appendChild(t.domElement)}}const Z={class:"three-page"},$=N({__name:"index",setup(e){const t=K,a=R({baseUrl:"https://ye6.atomgit.net/3d-demo-data",models:[{key:"",type:"font",name:"字体",size:27.6,url:"/fonts/YaHei_Regular.json"}]}),{progress:n,loadModels:o,getModel:d,MODEL_MAP:r}=t.useModelLoader({baseUrl:a.baseUrl,indexDB:{cache:!0,dbName:"THREE__OFFICE__DB",tbName:"TB",version:40}}),i=U(),l={grid:{visible:!0},axes:{visible:!0},camera:{position:[-200,300,300]},render:{alpha:!0}};let c;return H((()=>{l.container=i.value,c=new Q(l),c.run(),q(c).resize(),o(a.models,(()=>{n.percentage=100,n.show=!1;const e=d(r.font);c.addModel(e)}))})),(e,t)=>(I(),V("div",Z,[A("div",{class:"h-100",ref_key:"containerRef",ref:i},null,512),F(s,{modelValue:L(n).show,"onUpdate:modelValue":t[0]||(t[0]=e=>L(n).show=e),progress:L(n).percentage},null,8,["modelValue","progress"])]))}});export{$ as default};
