var e=Object.defineProperty,s=(s,t,o)=>(((s,t,o)=>{t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o})(s,"symbol"!=typeof t?t+"":t,o),o);import{w as t,E as o,u as a}from"./scene-resize-bd4c29f6.js";import{bb as n,d2 as i,d3 as r,be as d,bf as l,bg as c,c_ as m,e as h,i as u,l as p,o as b,g,h as w}from"./vendor-f4cca9b5.js";import{u as v}from"./sky-57f34c03.js";import"./index-dfaab5bf.js";const{skys:f}=v(),{backgroundLoad:y}=t.useBackground("/oss/sky/",f);class k extends o{constructor(e){super(e),s(this,"clock"),s(this,"gui"),this.clock=new n,this.addControls(),this.gui=new i,this.addGui()}addControls(){const e=this.camera,s=new r(e,this.renderer.domElement);s.addEventListener("change",(()=>{})),this.controls=s}addGui(){var e;const s=this.gui,t=this.controls;s.add(t,"movementSpeed",.1,1e3).name("移动速度(方向按键、鼠标左右)"),s.add(t,"autoForward").name("自动向前"),s.add(t,"rollSpeed",.001,Math.PI).name("旋转速度"),s.add(t,"dragToLook").name("拖拽控制视角"),s.domElement.style.position="absolute",s.domElement.style.top="opx",s.domElement.style.right="opx",null==(e=this.container.parentNode)||e.appendChild(s.domElement)}initModel(){const e=new d(300,300),s=new l({color:11721691}),t=new c(e,s);t.name="ground",t.rotation.x=1.5*Math.PI,t.receiveShadow=!0,this.addObject(t);const o=new m(50,50,50),a=new l({color:1276674}),n=new c(o,a);n.position.y=25,n.castShadow=!0,this.addObject(n),y(this,"102")}modelAnimate(){var e;const s=this.clock.getDelta();null==(e=this.controls)||e.update(s)}}const x={class:"three-page"},j=h({__name:"index",setup(e){const s=u(),t={axes:{visible:!0},render:{alpha:!0},grid:{visible:!0},controls:{visible:!1}};let o;return p((()=>{t.container=s.value,o=new k(t),o.run(),a(o).resize()})),(e,t)=>(b(),g("div",x,[w("div",{class:"h-100",ref_key:"containerRef",ref:s},null,512)]))}});export{j as default};
