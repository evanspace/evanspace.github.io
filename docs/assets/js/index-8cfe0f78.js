var e=Object.defineProperty,a=(a,s,t)=>(((a,s,t)=>{s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t})(a,"symbol"!=typeof s?s+"":s,t),t);import{bq as s,bc as t,d5 as n,eP as r,br as o,eV as c,cY as i,bg as l,dU as d,dS as u,eA as p,eB as m,e as h,i as g,l as w,o as b,g as _,h as v}from"./vendor-ccff1e05.js";import{u as y,v as f,a as j}from"./scene-resize-38d80f1f.js";import"./index-ced05997.js";const{uniform:P,texture:A,parallaxUV:G,uv:S,blendOverlay:x}=m,I=(new s).setPath("/oss/textures/gpu/"),J=P(.3),{backgroundLoad:K}=y.useBackground();class N extends f{constructor(e){super(e),a(this,"gui"),K(this.scene,"501"),this.scene.environment=this.scene.background,this.gui=new t,this.addGui()}async initModel(){const e=await I.loadAsync("Ice002_1K-JPG_Color.jpg");e.colorSpace=n;const a=await I.loadAsync("Ice002_1K-JPG_Roughness.jpg");a.colorSpace=r;const s=await I.loadAsync("Ice002_1K-JPG_NormalGL.jpg");s.colorSpace=r;const t=await I.loadAsync("Ice002_1K-JPG_Displacement.jpg");t.colorSpace=r;const d=await I.loadAsync("Ice003_1K-JPG_Color.jpg");d.colorSpace=n,d.wrapS=o,d.wrapT=o;const u=A(t).mul(J),p=G(S(),u),m=A(d,p),h=x(A(e),m),g=new c({colorNode:h.mul(5),normalMap:s,metalness:0});g.roughnessNode=A(a);const w=new i(10,10,10),b=new l(w,g);b.rotateX(-Math.PI/2),b.scale.setScalar(40),this.addObject(b)}render(){this.renderer.renderAsync(this.scene,this.camera)}createAmbientLight(e,a){return new d(e,a)}createDirectionalLight(e,a){return new u(e,a)}createRender(){return new p(this.options.render)}addGui(){var e;const a=this.gui;a.add(this.controls,"autoRotate").name("自动旋转"),a.add(J,"value",0,1).name("视差大小"),a.domElement.className+=" gui-wrap",null==(e=this.container.parentNode)||e.appendChild(a.domElement)}}const R={class:"three-page"},k=h({__name:"index",setup(e){const a=g(),s={grid:{},controls:{autoRotate:!0}};let t;return w((()=>{s.container=a.value,t=new N(s).run(),j(t).resize()})),(e,s)=>(b(),_("div",R,[v("div",{class:"h-100",ref_key:"containerRef",ref:a},null,512)]))}});export{k as default};
//# sourceMappingURL=index-8cfe0f78.js.map
