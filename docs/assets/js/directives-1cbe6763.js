import{r as e,bM as t,a,c as n,i as s,x as l,b as o,t as i,d as c,h as r,u,bk as d,S as v,M as p}from"./vendor-59c65e9f.js";import{_ as m}from"./api-4fe51afc.js";const _={title:"directives",order:10},g={type:"text"},h={type:"checkbox"};const y=m({directives:{myModel:{mounted(e,t,a){var n;if(void 0===t.value)return;let s=t.instance;const l=null==(n=a.props)?void 0:n.type;let o="",i="";switch(l){case"text":case"textarea":o="input",i="value";break;case"checkbox":case"radio":o="change",i="checked";break;case"select":o="change",i="value"}e.value=t.value,e.addEventListener(o,(e=>{s[t.arg||""]=e.target[i]}))}}},setup:()=>({value:e("11"),checked:e(!1)})},[["render",function(e,c,r,u,d,v){const p=t("myModel");return a(),n("div",null,[s(" vue3.x "),l(o("input",g,null,512),[[p,u.value,"value"]]),s(" "+i(u.value)+" ",1),l(o("input",h,null,512),[[p,u.checked,"checked"]]),s(" "+i(u.checked),1)])}]]),x=o("span",null,"自定义 v-mymodel：",-1),b={type:"text"},k=o("span",null,"内置 v-model：",-1),f=m(c({__name:"index",setup(t,{expose:s}){const c=e("---"),m={mounted(e,t,a){if(void 0===t.value)return;let n=t.instance;e.value=t.value,e.addEventListener("input",(e=>{e.target.composing||(n[t.arg]=e.target.value)})),e.addEventListener("compositionstart",(e=>{e.target.composing=!0})),e.addEventListener("compositionend",(e=>{const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}))},beforeUnmount(e){e.removeEventListener("input",(()=>{})),e.removeEventListener("compositionstart",(()=>{})),e.removeEventListener("compositionend",(()=>{}))},updated(e,t){e.value=t.value}};return s({modelVal:c}),(e,t)=>(a(),n("div",{class:r(e.$style.page)},[o("div",{class:r(e.$style.item)},[o("div",{class:r(e.$style.title)},"v-model",2),o("div",{class:r(e.$style.content)},[x,l(o("input",b,null,512),[[m,u(c),"modelVal"]]),o("p",null,"结果："+i(u(c)),1),k,l(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>v(c)?c.value=e:null),placeholder:"v-model"},null,512),[[d,u(c)]]),p(y)],2)],2)],2))}}),[["__cssModules",{$style:{page:"_page_1ohz8_2",item:"_item_1ohz8_6",title:"_title_1ohz8_9"}}]]),E=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));export{_,E as i};
