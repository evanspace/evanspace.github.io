var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{S as a,u as s}from"./scene-resize-407aeb45.js";import{bx as i,eO as o,bI as n,eP as d,bC as r,dh as h,dp as c,bA as l,c as p,h as m,k as u,o as g,f as w,g as b}from"./vendor-e4ee7844.js";import"./index-1d839e62.js";const f=(new i).setPath("https://ye6.atomgit.net/3d-demo-data/textures/").load("disturb.jpg");class j extends a{constructor(e){super(e),t(this,"spotLight"),t(this,"lightHelper"),t(this,"gui");const a=this.createSpolight();this.spotLight=a,this.addObject(this.spotLight);const s=new o(a);this.lightHelper=s,this.addObject(s);const i=this.createGround(16777215);this.addObject(i),this.addModel(),this.createClock(),this.gui=new n,this.addGui()}createSpolight(){const e=new d(16777215,1);return e.position.set(200,500,200),e.angle=Math.PI/6,e.penumbra=1,e.decay=0,e.distance=1500,e.map=f,e.castShadow=!0,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.camera.near=1,e.shadow.camera.far=10,e.shadow.focus=1,e.shadow.bias=-.003,e}addModel(){const e=new r(new h(100,100,100),new c({color:16777215}));e.position.set(-60,50,0);const t=new r(new l(50,32,32),new c({color:16777215}));t.position.set(60,50,0),this.addObject(e,t)}addGui(){var e;const t=this.gui,a=this.spotLight;t.add(a,"intensity",0,10).name("光照强度"),t.addColor({color:a.color.getHex()},"color").name("光照颜色").onChange((e=>{a.color.set(e)})),t.add(a,"angle",0,Math.PI/3).name("角度"),t.add(a,"penumbra",0,1).name("半影"),t.add(a,"decay",0,2).name("衰减"),t.add(a,"distance",0,2e3).name("距离"),t.domElement.className+=" gui-wrap",null==(e=this.container.parentNode)||e.appendChild(t.domElement)}modelAnimate(){const e=performance.now()/3e3,t=this.spotLight;t.position.x=300*Math.cos(e),t.position.z=300*Math.sin(e),this.lightHelper.update()}}const y={class:"three-page"},v=p({__name:"index",setup(e){const t=m(),a={ambientLight:{intensity:.15},directionalLight:{visible:!1}};let i;return u((()=>{a.container=t.value,i=new j(a),i.run(),s(i).resize()})),(e,a)=>(g(),w("div",y,[b("div",{class:"h-100",ref_key:"containerRef",ref:t},null,512)]))}});export{v as default};
