var e=Object.defineProperty,s=(s,t,a)=>(((s,t,a)=>{t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a})(s,"symbol"!=typeof t?t+"":t,a),a);import{b7 as t,b8 as a,bu as n,ba as i,bb as o,bc as d,bd as r,af as h,e as c,i as l,l as w,o as b,g as m,h as u}from"./vendor-e7f34225.js";import{T as p,u as y}from"./scene-resize-5d485f13.js";import"./index-60228787.js";class v extends p{constructor(e){super(e),s(this,"clock"),s(this,"gui"),s(this,"transformControls"),this.clock=new t,this.addControls(),this.initModel(),this.gui=new a,this.addGui()}init(){this.initLight(),this.initGrid(),this.initAxes()}addControls(){const e=this.camera,s=new n(e,this.renderer.domElement);s.addEventListener("dragging-changed",(e=>{this.controls.enabled=!e.value})),this.transformControls=s,this.addObject(s)}addGui(){var e;const s=this.gui,t=this.transformControls,a={w:()=>{t.setMode("translate")},e:()=>{t.setMode("rotate")},r:()=>{t.setMode("scale")},x:!1,y:!1,z:!1,add:()=>{t.setSize(t.size+.1)},sub:()=>{t.setSize(Math.max(t.size-.1,.1))},space:!1},n=s.addFolder("键盘快捷键");n.add(a,"w").name("“W”切换坐标辅助)"),n.add(a,"e").name("“E”切换旋转辅助)"),n.add(a,"r").name("“R”切换缩放辅助)"),n.add(t,"showX").name("“X”坐标系 x 轴隐显)"),n.add(t,"showY").name("“Y”坐标系 y 轴隐显)"),n.add(t,"showZ").name("“Z”坐标系 z 轴隐显)"),n.add(a,"add").name('“+”,"="坐标系放大)'),n.add(a,"sub").name('“-”,"_"坐标系缩小)'),n.add(t,"enabled").name("“空格”坐标系禁/启用)"),s.domElement.style="position: absolute; top: 0px; right: 0px",null==(e=this.container.parentNode)||e.appendChild(s.domElement)}initModel(){const e=new i(300,300),s=new o({color:11721691,shininess:10}),t=new d(e,s);t.name="ground",t.rotation.x=1.5*Math.PI,t.receiveShadow=!0,this.addObject(t);const a=new r(50,50,50),n=new o({color:1276674,shininess:10}),c=new d(a,n);c.position.y=25,c.castShadow=!0,this.addObject(c),this.transformControls.attach(c),window.addEventListener("keydown",this.onKeydown.bind(this)),window.addEventListener("keyup",this.onKeyup.bind(this)),h((()=>{window.removeEventListener("keydown",this.onKeydown.bind(this)),window.removeEventListener("keyup",this.onKeyup.bind(this))}))}modelAnimate(){}onKeydown(e){const s=this.transformControls;switch(e.key){case"w":s.setMode("translate");break;case"e":s.setMode("rotate");break;case"r":s.setMode("scale");break;case"+":case"=":s.setSize(s.size+.1);break;case"-":case"_":s.setSize(Math.max(s.size-.1,.1));break;case"x":s.showX=!s.showX;break;case"y":s.showY=!s.showY;break;case"z":s.showZ=!s.showZ;break;case" ":s.enabled=!s.enabled;break;case"Escape":s.reset()}}onKeyup(e){}}const k={class:"three-page"},f=c({__name:"index",setup(e){const s=l(),t={axes:{visible:!0},grid:{visible:!0}};let a;return w((()=>{t.container=s.value,a=new v(t),a.run(),y(a).resize()})),(e,t)=>(b(),m("div",k,[u("div",{class:"h-100",ref_key:"containerRef",ref:s},null,512)]))}});export{f as default};
