import{e,i as t,l as a,o as s,g as n,h as o,c as i}from"./vendor-fc8ec027.js";const l=e({__name:"index",setup(e){const l=t(),r=t(),f=e=>{const t=document.createElement("div");t.classList.add("ripple"),t.style.left=`${e.offsetX}px`,t.style.top=`${e.offsetY}px`,l.value.appendChild(t),t.addEventListener("animationend",(e=>{t.remove()})),d(e.offsetX,e.offsetY)},d=(e,t)=>{const a=r.value,s=l.value.getBoundingClientRect(),n=a.getBoundingClientRect(),o=n.width/2+n.left-s.left,f=n.height/2+n.top-s.top,d=180*Math.atan2(t-f,e-o)/Math.PI;a.getAnimations().forEach((e=>e.cancel()));a.animate([{transform:`translate(${o}px, ${f}px) rotate(${d}deg)`,easing:"ease-out"},{transform:`translate(${o}px, ${f}px) rotate(${d}deg) scaleX(1.5)`,offset:.6},{transform:`translate(${e}px, ${t}px) rotate(${d}deg) scaleX(1.5)`,offset:.8,easing:"ease-in"},{transform:`translate(${e}px, ${t}px) rotate(${d}deg)`}],{duration:800,fill:"forwards"}).onfinish=e=>{i.success({message:"动画结束",grouping:!0})}};return a((()=>{const e=l.value,t=e.clientWidth,a=e.clientHeight;d(t/2,a/2)})),(e,t)=>(s(),n("div",{class:"page js-animation-api",ref_key:"pageRef",ref:l,onClick:f},[o("div",{class:"ball",ref_key:"ballRef",ref:r},null,512)],512))}});export{l as default};
