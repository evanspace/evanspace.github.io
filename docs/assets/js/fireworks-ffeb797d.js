import{d as e,r as t,o as a,z as o,a as r,c as s,M as i,k as n,i as l,b as c,aJ as d}from"./vendor-59c65e9f.js";import{_ as f}from"./api-4fe51afc.js";const h={title:"fireworks"},p=f(e({__name:"index",setup(e){const f=t([]),h=t(),p=t(),u=()=>{const e=p.value;v.clearRect(0,0,e.width,e.height),f.value=[]},m=e=>{const{offsetX:t,offsetY:a}=e,o=2*Math.PI/80;for(let r=0;r<80;r++)f.value.push({step:0,max:50*Math.random()+50,x:t,y:a,dirx:Math.cos(o*r)*Math.random()*3,diry:Math.sin(o*r)*Math.random()*3,color:`hsl( ${360*Math.random()}, 70%, 50% )`})};let v;const y=()=>{const e=h.value,t=e.clientWidth,a=e.clientHeight,o=p.value;o.width=t,o.height=a,v=o.getContext("2d")};let x;const _=()=>{x=window.requestAnimationFrame(_),f.value.forEach(((e,t)=>{M(e,t)}))},M=(e,t)=>{e.step+=1,e.dirx*=.99,e.diry*=.99,e.diry+=.05,e.x+=e.dirx,e.y+=e.diry,g(e),e.step>=e.max&&f.value.splice(t,1)},g=({x:e,y:t,color:a})=>{v&&(v.beginPath(),v.fillStyle=a,v.arc(e,t,2,0,2*Math.PI),v.fill(),v.closePath())};return a((()=>{y(),window.addEventListener("resize",y),_()})),o((()=>{window.removeEventListener("resize",y),cancelAnimationFrame(x)})),(e,t)=>{const a=d;return r(),s("div",{class:"page",ref_key:"pageRef",ref:h},[i(a,{style:{position:"absolute","z-index":"11",top:"10px",left:"10px"},type:"primary",onClick:u},{default:n((()=>[l("Clear")])),_:1}),c("canvas",{ref_key:"canvas",ref:p,onClick:m},null,512)],512)}}}),[["__scopeId","data-v-ae6e94c3"]]),u=Object.freeze(Object.defineProperty({__proto__:null,default:p},Symbol.toStringTag,{value:"Module"}));export{h as _,u as i};
