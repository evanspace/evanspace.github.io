var e=Object.defineProperty,s=(s,a,t)=>(((s,a,t)=>{a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t})(s,"symbol"!=typeof a?a+"":a,t),t);import{cF as a,bc as t,bd as o,bk as r,ba as i,cK as n,bp as l,cO as c,cS as d,bb as h,cG as p,bl as u,b8 as f,cQ as m,cN as w,e as b,i as y,l as v,o as g,g as O,h as S,n as x}from"./vendor-f77cf917.js";import{E as _,u as j}from"./scene-resize-4be6e6ab.js";import{_ as G}from"./index-95248e06.js";const I={operation:c,useGroups:!0,wireframe:!1};let M;class C extends _{constructor(e){super(e),s(this,"evaluator"),s(this,"baseBrush"),s(this,"brush"),s(this,"wireframe"),this.evaluator=new a,this.baseBrush=(()=>{const e=new d(20,3),s=new h({flatShading:!0,polygonOffset:!0,polygonOffsetUnits:1,polygonOffsetFactor:1});return new p(e,s)})(),this.brush=(()=>{const e=new u(10,10,50,45,1),s=new h({flatShading:!0,color:16750592,emissive:16750592,emissiveIntensity:.35,polygonOffset:!0,polygonOffsetUnits:10,polygonOffsetFactor:10});return new p(e,s)})(),this.wireframe=new t(new o(1,1,1),new r({color:38536,wireframe:!0})),this.addModel()}initModel(){const e=new t(new i(1e3,1e3),new n({color:16442329,transparent:!0,opacity:.35,side:l}));e.rotation.x=-Math.PI/2,e.scale.setScalar(10),e.receiveShadow=!0,this.addObject(e),(e=>{const s=new f;s.add(I,"operation",{SUBTRACTION:c,INTERSECTION:m,ADDITION:w}).name("布尔类型"),s.add(I,"wireframe").name("线框材质"),s.add(I,"useGroups").name("使用组合"),s.domElement.style="position: absolute; top: 10px; right: 10px",null==e||e.appendChild(s.domElement)})(this.container)}addModel(){const e=this.wireframe;e.position.set(0,50,0),this.addObject(e)}updateCSG(){this.evaluator.useGroups=I.useGroups,M=this.evaluator.evaluate(this.baseBrush,this.brush,I.operation,M),M.castShadow=!0,M.position.set(0,50,0),M.receiveShadow=!0,this.addObject(M)}modelAnimate(){const e=window.performance.now()+9e3,s=this.brush;s.rotation.x=-2e-4*e,s.rotation.y=-5e-4*e,s.rotation.z=-.001*e;const a=.5+.5*(1+Math.sin(.001*e));s.scale.set(a,1,a),s.updateMatrixWorld(),this.updateCSG(),this.wireframe.geometry=M.geometry,this.wireframe.visible=I.wireframe}}const E=G(b({__name:"index",setup(e){const s=y(),a={camera:{position:[0,100,260]},render:{alpha:!0},grid:{visible:!0},axes:{visible:!0}};let t;return v((()=>{a.container=s.value,t=new C(a),t.run(),j(t).resize()})),(e,a)=>(g(),O("div",{class:x([e.$style.page,"h-100 o-h"])},[S("div",{ref_key:"containerRef",ref:s,class:"h-100"},null,512)],2))}}),[["__cssModules",{$style:{page:"_page_12f6y_2"}}]]);export{E as default};
