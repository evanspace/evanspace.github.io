import{_ as e,D as t,e as s,P as a,c as n,f as l,g as y,h as i}from"./index-efec42cd.js";import{o as d,g as o,h as p,e as x,n as c,s as r,B as m,a9 as u,w as C,i as h,Y as v,l as f,F as L,r as g,a7 as W,a8 as H,m as _,u as b,aP as k,aa as P,f as V,af as w,A as T,q as D,t as Q,p as O,I as $,ak as z,b5 as M,au as B,av as G,aE as X,ay as S,az as I,b6 as j,b7 as E}from"./vendor-46b9e856.js";const F={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},J=[p("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"},null,-1)];const U={name:"ep-delete",render:function(e,t){return d(),o("svg",F,[...J])}},A={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Y=[p("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"},null,-1)];const N={name:"ep-plus",render:function(e,t){return d(),o("svg",A,[...Y])}},R={name:"5-3-5-5",id:"5-3-5-5",devices:[{name:"分集水器",type:"JSQ",style:{x:173.71683135097686,y:47.8655025998552}},{name:"分集水器",type:"JSQ",style:{x:623.7160924526664,y:48.98920883101867}},{name:"1#冷冻泵",type:"LDB",deviceCode:"CHWP1",style:{x:100.36049026676278,y:199.2790282675063}},{name:"2#冷冻泵",type:"LDB",deviceCode:"CHWP2",style:{x:250.90122566690698,y:199.27902826750628}},{name:"3#冷冻泵",type:"LDB",deviceCode:"CHWP3",style:{x:401.4993419790782,y:197.49129407501778}},{name:"4#冷冻泵",type:"LDB",deviceCode:"CHWP4",style:{x:548.5219899062724,y:199.27902826750628}},{name:"5#冷冻泵",type:"LDB",deviceCode:"CHWP5",style:{x:700.793078586878,y:198.41385162727556}},{name:"1#离心机",type:"LXJ",deviceCode:"CHL1",style:{x:165.75212866603596,y:396.59414589123105}},{name:"2#离心机",type:"LXJ",deviceCode:"CHL2",style:{x:399.62157048249765,y:396.59414589123105}},{name:"3#离心机",type:"LXJ",deviceCode:"CHL3",style:{x:628.9498580889309,y:397.72943444373817}},{name:"1#冷却泵",type:"LQB",deviceCode:"CWP1",style:{x:99.15751035254021,y:572.9596503008339}},{name:"2#冷却泵",type:"LQB",deviceCode:"CWP2",style:{x:247.94383149448345,y:573.247718742164}},{name:"3#冷却泵",type:"LQB",deviceCode:"CWP3",style:{x:398.80240722166496,y:572.8404970771691}},{name:"4#冷却泵",type:"LQB",deviceCode:"CWP4",style:{x:548.8465396188566,y:573.247718742164}},{name:"5#冷却泵",type:"LQB",deviceCode:"CWP5",style:{x:698.5015045135406,y:573.4513295746615}},{name:"1#冷却塔",type:"LQT",deviceCode:"COT1",style:{x:697.8662604345353,y:747.5683448662304}},{name:"1#阀门(冷冻)",type:"LDFM",deviceCode:"CHWV1",style:{x:248.74254742547427,y:361.2357723577236},rotate:90},{name:"1#阀门(冷却)",type:"LQFM",deviceCode:"CWV1",style:{x:250.29058391379672,y:465.99498968464485},rotate:90},{name:"2#阀门(冷冻)",type:"LDFM",deviceCode:"CHWV2",style:{x:485.7425474254743,y:361.2357723577236},rotate:90},{name:"3#阀门(冷冻)",type:"LDFM",deviceCode:"CHWV3",style:{x:714.7425474254743,y:361.2357723577236},rotate:90},{name:"2#冷却塔",type:"LQT",deviceCode:"COT2",style:{x:548.4971099191288,y:747.0377326213325}},{name:"3#冷却塔",type:"LQT",deviceCode:"COT3",style:{x:398.1432498857984,y:748.4502427403049}},{name:"4#冷却塔",type:"LQT",deviceCode:"COT4",style:{x:248.85678162428923,y:747.2156868597556}},{name:"5#冷却塔",type:"LQT",deviceCode:"COT5",style:{x:98.17487180975786,y:747.7009632014001}},{name:"2#阀门(冷却)",type:"LQFM",deviceCode:"CWV2",style:{x:486.2905839137967,y:465.99498968464485},rotate:90},{name:"3#阀门(冷却)",type:"LQFM",deviceCode:"CWV3",style:{x:716.2905839137967,y:465.99498968464485},rotate:90},{name:"分水器压力",type:"DOT",unit:"kPa",deviceCode:"SYS_CHW_SP",style:{x:768.5201462561238,y:50.26536399073092}},{name:"水流量",type:"DOT",unit:"m³/h",style:{x:806.1468037663858,y:114.38106644708931}},{name:"冷冻供水温度",type:"DOT",unit:"℃",deviceCode:"SYS_CHW_ST",style:{x:627.190332326284,y:51.83383685800604}},{name:"集水器压力",type:"DOT",unit:"kPa",deviceCode:"SYS_CHW_RP",style:{x:54.330636949863475,y:48.91172608886967}},{name:"冷冻回水温度",type:"DOT",unit:"℃",deviceCode:"SYS_CHW_RT",style:{x:172.19730941704026,y:49.40209267563525}}],pipes:[{name:"冷冻回",type:"LDH",style:{x:5.1468713285025665,y:119.743904130075},bind:["CHWP2","CHWP3","CHWP5","CHWP4"],paths:[{x:5,y:5},{x:181.43334978906609,y:5}]},{name:"冷冻回",type:"LDH",style:{x:5.176112015520282,y:41.56947412716088},bind:["CHWP1","CHWP3","CHWP5","CHWP4","CHWP2"],paths:[{x:121.78163250171538,y:5},{x:5,y:5},{x:5,y:83.73139170559142}]},{name:"冷冻回",type:"LDH",style:{x:5.4890825472675395,y:118.57888049498001},bind:["CHWP1"],paths:[{x:5,y:5},{x:5,y:80.56866048862682},{x:61.183048600273366,y:80.56866048862682}]},{name:"冷冻回",type:"LDH",style:{x:180.69706491466138,y:120.32899777762339},bind:["CHWP2"],paths:[{x:5,y:5},{x:5,y:77.36875746530085},{x:40.086366504276874,y:77.36875746530085}]},{name:"冷冻回",type:"LDH",style:{x:181.08153093334235,y:119.84528353228083},bind:["CHWP3","CHWP4","CHWP5"],paths:[{x:5,y:5},{x:156.6006950607715,y:5}]},{name:"冷冻回",type:"LDH",style:{x:71.30101523260038,y:145.1144481926092},bind:["CHWP1"],paths:[{x:5,y:32.52867570385822},{x:5,y:5},{x:92.33585982761926,y:5},{x:92.33585982761926,y:105.75901328273231}]},{name:"冷冻回",type:"LDH",style:{x:220.785319932254,y:144.8291277979827},bind:["CHWP2"],paths:[{x:5,y:40.026151718524005},{x:5,y:5},{x:96.12568617852551,y:5},{x:96.12568617852551,y:104.99646682523225}]},{name:"冷冻回",type:"LDH",style:{x:93.23327466902668,y:288.43252970621137},bind:[[["CHWP1","CHWP2","CHWP3"],["CHWV1"]]],paths:[{x:5,y:5},{x:5,y:112.7787220842742},{x:37.17173510582402,y:112.7787220842742}]},{name:"冷冻回",type:"LDH",style:{x:93.02647889259275,y:292.3478155090287},bind:[[["CHWP1","CHWP2","CHWP3"],["CHWV2"]]],paths:[{x:5,y:5},{x:238.94962714723272,y:5},{x:238.94962714723272,y:108.77566818376444},{x:269.4623463761736,y:108.77566818376444}]},{name:"冷冻回",type:"LDH",style:{x:553.3288315260517,y:246.25046381346257},bind:[[["CHWP4","CHWP5"],["CHWV3"]]],paths:[{x:61.285859533609546,y:5},{x:5,y:5},{x:5,y:155.17543923416935},{x:36.27692922658564,y:155.17543923416935}]},{name:"冷冻供",type:"LDG",style:{x:199.19120710555012,y:324.0564903455582},bind:[[["CHL1"],["CHWV1"]]],paths:[{x:5,y:76.46171693735494},{x:45.621193647481185,y:76.46171693735494},{x:45.621193647481185,y:5},{x:282.00202373523354,y:5}]},{name:"冷冻供",type:"LDG",style:{x:434.9992945066391,y:324.1318736695971},bind:[[["CHL2"],["CHWV2"]]],paths:[{x:5,y:77.34106783965899},{x:46.7927711568358,y:77.34106783965899},{x:46.7927711568358,y:5}]},{name:"冷冻供",type:"LDG",style:{x:662.4871977324457,y:324.1318736695971},bind:[[["CHL3"],["CHWV3"]]],paths:[{x:5,y:77.64348719449768},{x:48.30486793102934,y:77.64348719449768},{x:48.30486793102934,y:5}]},{name:"冷冻供",type:"LDG",style:{x:475.915393654524,y:323.7943595769682},bind:[[["CHL1","CHL2"],["CHWV1","CHWV2"]]],paths:[{x:5,y:5},{x:234.6569122098892,y:5}]},{name:"冷冻供",type:"LDG",style:{x:658.9120373187887,y:43.628009620656144},bind:[[["CHL3","CHL2","CHL1"],["CHWV1","CHWV2","CHWV3"]]],paths:[{x:51.78744908635388,y:285.3372715017677},{x:145.94829460962507,y:285.3372715017677},{x:145.94829460962507,y:5},{x:5,y:5}]},{name:"冷冻供",type:"LDG",style:{x:404.22505307855675,y:44.16135881104034},paths:[{x:178.2696390658173,y:5},{x:5,y:5}]},{name:"冷冻回",type:"LDH",style:{x:210.62121052804295,y:43.673269144891414},paths:[{x:198.30726818918956,y:5},{x:5,y:5}]},{name:"冷却供",type:"LQG",style:{x:327.3562841506394,y:411.13828473348724},bind:[[["CHL3"],["CWV3"]]],paths:[{x:266.3260918845066,y:5},{x:230.18715847431795,y:5},{x:230.18715847431795,y:36.93595544710095},{x:5,y:36.93595544710095}]},{name:"冷却供",type:"LQG",style:{x:326.823950870011,y:410.3983225998629},bind:[[["CHL2"],["CWV2"]]],paths:[{x:42.76867963152509,y:5},{x:5,y:5},{x:5,y:38.02303378573207}]},{name:"冷却供",type:"LQG",style:{x:92.823950870011,y:410.0959032450242},bind:[[["CHL1"],["CWV1"]]],paths:[{x:42.76867963152509,y:5},{x:5,y:5},{x:5,y:38.32545314057078}]},{name:"冷却供",type:"LQG",style:{x:92.47980353740024,y:443.28273159352307},bind:[[["CHL3","CHL2"],["CWV2","CWV3"]]],paths:[{x:239.98340427063522,y:5},{x:5,y:5}]},{name:"冷却供",type:"LQG",style:{x:5.02571697480915,y:442.8169476052989},bind:[[["COT1","COT4","COT5","COT2","COT3"],["CWV1","CWV3","CWV2"]]],paths:[{x:92.35414572541963,y:5},{x:5,y:5},{x:5,y:245.11480061613295},{x:95.75633236350072,y:245.11480061613295}]},{name:"冷却供",type:"LQG",style:{x:94.60864141000266,y:682.5961543146217},bind:[[["COT5"],["CWV1","CWV3","CWV2"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:95.44513137557956,y:683.2349681824767},bind:[[["COT2","COT3","COT4","COT1"],["CWV1","CWV3","CWV2"]]],paths:[{x:5,y:5},{x:154.59498553519785,y:5}]},{name:"冷却供",type:"LQG",style:{x:245.04258547943388,y:682.3637531574375},bind:[[["COT4"],["CWV1","CWV3","CWV2"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:395.7306588739294,y:682.6343953592724},bind:[[["COT3"],["CWV1","CWV3","CWV2"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:545.1200754275252,y:682.1662813836957},bind:[[["COT2"],["CWV1","CWV3","CWV2"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:695.7306588739295,y:681.9098363362059},bind:[[["COT1"],["CWV2","CWV1","CWV3"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:245.35147578645567,y:682.6246962791535},bind:[[["COT3","COT1","COT2"],["CWV2","CWV1","CWV3"]]],paths:[{x:5,y:5},{x:154.59498553519785,y:5}]},{name:"冷却供",type:"LQG",style:{x:394.0516655397763,y:683.0857968484133},bind:[[["COT2","COT1"],["CWV1","CWV3","CWV2"]]],paths:[{x:5,y:5},{x:154.59498553519785,y:5}]},{name:"冷却供",type:"LQG",style:{x:543.7670355587516,y:683.1412996947131},bind:[[["COT1"],["CWV2","CWV1","CWV3"]]],paths:[{x:5,y:5},{x:161.55063069648824,y:5}]},{name:"冷却回",type:"LQH",style:{x:95.05491990846676,y:760.2974828375284},bind:["COT5"],paths:[{x:5,y:5},{x:5,y:45.503432494279146},{x:154.5026489965244,y:45.503432494279146}]},{name:"冷却回",type:"LQH",style:{x:245.3017902813296,y:749.0000000000003},bind:["COT4"],paths:[{x:5,y:5},{x:5,y:57.173913043478294}]},{name:"冷却回",type:"LQH",style:{x:396.3017902813296,y:749.0000000000003},bind:["COT3"],paths:[{x:5,y:5},{x:5,y:57.173913043478294}]},{name:"冷却回",type:"LQH",style:{x:545.3017902813297,y:749.0000000000003},bind:["COT2"],paths:[{x:5,y:5},{x:5,y:57.173913043478294}]},{name:"冷却回",type:"LQH",style:{x:696.3017902813297,y:749.0000000000003},bind:["COT1"],paths:[{x:5,y:5},{x:5,y:57.173913043478294}]},{name:"冷却回",type:"LQH",style:{x:244.19537959054514,y:800.5343300954929},bind:["COT4","COT5"],paths:[{x:5,y:5},{x:156.7356279751008,y:5}]},{name:"冷却回",type:"LQH",style:{x:395.19537959054514,y:800.5343300954929},bind:["COT3","COT4","COT5"],paths:[{x:5,y:5},{x:156.7356279751008,y:5}]},{name:"冷却回",type:"LQH",style:{x:545.4505006333757,y:800.7894511383234},bind:["COT2","COT3","COT4","COT5"],paths:[{x:5,y:5},{x:156.7356279751008,y:5}]},{name:"冷却回",type:"LQH",style:{x:621.935924679972,y:639.6098457640825},bind:["COT2","COT1","COT3","COT4","COT5"],paths:[{x:80.17104391893645,y:166.35703552144815},{x:182.8023433836652,y:166.35703552144815},{x:182.8023433836652,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:623.4399649430319,y:568.3172655565289},bind:["CWP5"],paths:[{x:5,y:77.04206836108682},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:27.439964943031896,y:568.3172655565289},bind:["CWP1"],paths:[{x:147.12548015364916,y:76.74774327527875},{x:5,y:76.74774327527875},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:170.77395938968004,y:567.6512600031771},bind:["CWP2"],paths:[{x:5,y:77.04206836108682},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:327.4399649430319,y:568.3172655565289},bind:["CWP3"],paths:[{x:5,y:77.04206836108682},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:474.4399649430319,y:568.3172655565289},bind:["CWP4"],paths:[{x:5,y:77.04206836108682},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:168.56789069171631,y:639.6384777085682},bind:["CWP1","CWP2"],paths:[{x:164.91768554582214,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:326.56789069171634,y:639.6384777085682},bind:["CWP1","CWP2","CWP3"],paths:[{x:153.67222000773245,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:474.56789069171634,y:639.6384777085682},bind:["CWP1","CWP2","CWP3","CWP4"],paths:[{x:153.67222000773245,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:69.311315582179,y:523.761340449448},bind:["CWP1"],paths:[{x:5,y:43.738427821212454},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:216.88088883195564,y:525.0918367346961},bind:["CWP2"],paths:[{x:5,y:40.204081632653015},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:217.1662565050762,y:524.5532370937624},bind:["CWP3"],paths:[{x:157.9728422624275,y:40.742681273586584},{x:157.9728422624275,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:519.098807698555,y:525.0918367346961},bind:["CWP4"],paths:[{x:5,y:34.58227584048946},{x:5,y:5},{x:154.6026526916489,y:5}]},{name:"冷却回",type:"LQH",style:{x:668.7295451261565,y:525.0918367346961},bind:["CWP5"],paths:[{x:5.00007473692602,y:40.204081632653015},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:665.4834412192785,y:411.5870923736879},bind:[[["CWP4","CWP5"],["CWV3"]]],paths:[{x:7.549129277015011,y:118.30074365537237},{x:45.39646100979569,y:118.30074365537237},{x:45.39646100979569,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:239.7619481770813,y:409.99168462102205},bind:[[["CWP1","CWP4","CWP2","CWP5","CWP3"],["CWV2"]]],paths:[{x:5,y:75.4896017248002},{x:242.01494889316112,y:75.4896017248002},{x:242.01494889316112,y:5},{x:201.92090723820417,y:5}]},{name:"冷却回",type:"LQH",style:{x:200.71608804368435,y:410.14243747162135},bind:[[["CWP1","CWP4","CWP5","CWP2","CWP3"],["CWV1"]]],paths:[{x:45.396461009795686,y:74.46164413950592},{x:45.396461009795686,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:68.55817496082885,y:480.0055720524886},bind:[[["CWP1","CWP2","CWP3"],["CWV1","CWV2"]]],paths:[{x:5,y:48.687108148666475},{x:5,y:5},{x:176.9197525982724,y:5}]},{name:"冷冻回",type:"LDH",style:{x:331.6970649146614,y:120.32899777762339},bind:["CHWP3"],paths:[{x:5,y:5},{x:5,y:77.36875746530085},{x:40.086366504276874,y:77.36875746530085}]},{name:"冷冻回",type:"LDH",style:{x:332.0815309333424,y:119.84528353228083},bind:["CHWP4","CHWP5"],paths:[{x:5,y:5},{x:153.6073469454721,y:5}]},{name:"冷冻回",type:"LDH",style:{x:311.59716169553894,y:144.8291277979827},bind:["CHWP3"],paths:[{x:65.18815823671473,y:40.026151718524005},{x:65.18815823671473,y:5},{x:156.85244405617362,y:5},{x:156.85244405617362,y:106.15187245081323},{x:5,y:106.15187245081323}]},{name:"冷冻回",type:"LDH",style:{x:479.6970649146614,y:120.32899777762339},bind:["CHWP4"],paths:[{x:5,y:5},{x:5,y:77.36875746530085},{x:40.086366504276874,y:77.36875746530085}]},{name:"冷冻回",type:"LDH",style:{x:632.6970649146614,y:120.32899777762339},bind:["CHWP5"],paths:[{x:5,y:5},{x:5,y:77.36875746530085},{x:40.086366504276874,y:77.36875746530085}]},{name:"冷冻回",type:"LDH",style:{x:480.0815309333424,y:119.84528353228083},bind:["CHWP5"],paths:[{x:5,y:5},{x:163.25257976143683,y:5}]},{name:"冷冻回",type:"LDH",style:{x:518.7853199322537,y:144.8291277979827},bind:["CHWP4"],paths:[{x:5,y:40.026151718524005},{x:5,y:5},{x:96.664285819459,y:5},{x:95.74509279370972,y:106.15187245081323}]},{name:"冷冻回",type:"LDH",style:{x:608.6967350805852,y:144.8291277979827},bind:["CHWP5"],paths:[{x:68.08858485166864,y:40.026151718524005},{x:68.08858485166864,y:5},{x:159.7528706711276,y:5},{x:159.7528706711276,y:106.15187245081323},{x:5,y:106.15187245081323}]},{name:"冷冻回",type:"LDH",style:{x:158.17991604211105,y:246.242774566474},bind:["CHWP2","CHWP3"],paths:[{x:160.3229741312994,y:5},{x:5,y:5}]},{name:"冷冻回",type:"LDH",style:{x:92.64023144378301,y:246.30411826821563},bind:["CHWP1","CHWP2","CHWP3"],paths:[{x:71.38827964386239,y:5},{x:5,y:5},{x:5,y:47.63275991024684}]},{name:"冷却回",type:"LQH",style:{x:67.84299319129771,y:524.6437768240348},bind:["CWP2","CWP3"],paths:[{x:153.82224286020445,y:5},{x:5,y:5}]}]},K=Object.assign({"./json/5-3-5-5/index.ts":R}),q=Object.keys(K).map((e=>K[e])),Z=e(x({__name:"line-point",props:{x:{},y:{},isEnd:{type:Boolean},isStart:{type:Boolean},isX:{type:Boolean}},emits:["mousedown","direction"],setup(e,{emit:t}){const s=t;return(e,t)=>(d(),o("div",{class:c({[e.$style.point]:!0,[e.$style["is-end"]]:e.isEnd,[e.$style["is-x"]]:!e.isEnd&&e.isX,[e.$style["is-y"]]:!e.isEnd&&!e.isX}),style:u({left:`${e.x}px`,top:`${e.y}px`}),onMousedown:t[1]||(t[1]=r((e=>s("mousedown",e)),["stop"]))},[e.isEnd?(d(),o("div",{key:0,class:c({[e.$style["point-direction"]]:!0,[e.$style["d-x"]]:e.isX,[e.$style["d-y"]]:!e.isX,[e.$style["is-start"]]:e.isStart}),onMousedown:t[0]||(t[0]=r((e=>s("direction",e)),["stop"]))},null,34)):m("",!0)],38))}}),[["__cssModules",{$style:{point:"_point_nafi7_2","is-end":"_is-end_nafi7_12","is-x":"_is-x_nafi7_16","is-y":"_is-y_nafi7_19","point-direction":"_point-direction_nafi7_22","d-x":"_d-x_nafi7_26","d-y":"_d-y_nafi7_33"}}]]),ee=["width","height"],te=["stroke","stroke-width","d"],se={key:0,attributeName:"stroke-dashoffset",values:"0;-120",dur:"2s",repeatCount:"indefinite"},ae=e(x({__name:"pipe",props:{list:{},active:{},type:{},width:{default:6},scale:{},gap:{default:2},display:{type:Boolean},hideType:{},locked:{type:Boolean},animate:{type:Boolean}},emits:["click","mousedown","mouseup","change"],setup(e,{expose:t,emit:s}){const a=e,n=s;C((()=>a.list),(async()=>{N(),await P(),U()}),{deep:!0});const l=h([]),y=h(),i=v({isPointer:!1,isMove:!1,list:[]}),x=e=>{const t=y.value.parentNode.parentNode.parentNode.getBoundingClientRect(),s=a.scale??1,n=(e.clientX-t.x)/s,d=(e.clientY-t.y)/s,o=l.value;let p=!1,x=-1;for(let a=0;a<o.length;a++){const e=o[a],t=i.list[a];if(!t)break;const s=t.style||{},l=e.getContext("2d"),y=n-(s.x??0),c=d-(s.y??0);if(p=l.isPointInStroke(y,c),p){x=a;break}}return{isInside:p,index:x}},r=e=>{const t=x(e).isInside;i.isPointer=t},V=e=>{const{isInside:t,index:s}=x(e);t&&(e.stopPropagation(),e.preventDefault(),n("mousedown",e,s,i.list[s],a.type))},w=e=>{var t;return!a.display||!(null==(t=a.hideType)?void 0:t.includes(e.type))},T=()=>(a.width??6)+2*(a.gap??0),D=e=>{const t=G.i,s=i.list[e],a=s.paths.length;return a==s.points.length?t:t==a?a-1:0==t?0:t-1};let Q=.5;const O=e=>{if(e>i.list.length-1)return;const t=i.list[e],s=T()/2,a=t.paths,n=a.length;let l=0,y=0,d=a[0].x,o=a[0].y;for(let i=n-1;i>=0;i--){const t=a[i];if(!t)break;const{x:s,y:p}=t;s>l&&(l=s),p>y&&(y=p),d>s&&(d=s),o>p&&(o=p);const x=a[i-1];if(!x)break;const{x:c,y:r}=x;if(c!=s&&r!=p&&n<=2){const t=(s-c)/2+c,n={x:t,y:r},l={x:t,y:p};i==D(e)&&(G.i+=2),a.splice(i,0,n,l)}a.length>2&&(s==c&&p==r||Math.abs(s-c)<=Q&&Math.abs(p-r)<=Q&&(t.moved||R))&&(i<=G.i&&(G.i-=1),a[i].moved=!0,a.splice(i-1,1));const m=a[i+1];m&&((m.x==t.x&&t.x==x.x&&(m.y>t.y&&t.y>x.y||m.y<t.y&&t.y<x.y)||m.y==t.y&&t.y==x.y&&(m.x>t.x&&t.x>x.x||m.x<t.x&&t.x<x.x))&&(console.log(i,G.i),(G.i-i>2||R)&&(G.i-=1,a.splice(i,1))))}d>s&&z(e,d-s),o>s&&M(e,o-s),(e=>{const t=i.list[e].paths;if(t.length<=2)return;const s=D(e),a=t[s],n=0==s?1:-1,l=t[s+n];if(!l)return;let{x:y,y:d}=l,{x:o,y:p}=a;o!==y&&(d=p),t[s+n].y=d})(e),t.width=l+s,t.height=y+s},$=(e,t)=>{const{x:s,y:a}=e,n=i.list[t],l=D(t),y=T()/2,d=n.paths,o=d.length;if(0==l||l==o-1){const e=0==l?l:o-1;let{x:p,y:x}=d[e];p+=s,x+=a,x<y&&(M(t,x-y),x=y),p<y&&(z(t,p-y),p=y);n.paths[e].moved&&!G.isDire?((e,t)=>{const s=i.list[e].paths,a=s.length,n=D(e),{x:l,y:y,moved:d}=s[n];if(!d)return;const o=s[n+1];if(0==n&&o)if(o.moved){const e=(t.y-y)/2+y,a={x:t.x,y:t.y},i={x:l,y:e};s.splice(n+1,0,a,i)}else s[n].x=t.x,s[n].y=t.y;if(n==a-1){const a={x:l,y:(t.y-y)/2+y},i={x:l,y:t.y};n==D(e)&&(G.i+=2),s.splice(n+1,0,a,i)}})(t,{x:p,y:x}):(n.paths[e].x=p,n.paths[e].y=x)}O(t)},z=(e,t)=>{const s=i.list[e];s.style.x+=t;const a=s.paths;for(let n=0;n<a.length;n++)a[n].x-=t},M=(e,t)=>{const s=i.list[e];s.style.y+=t;const a=s.paths;for(let n=0;n<a.length;n++)a[n].y-=t},B=e=>{const{index:t,i:s}=G;let{x:n,y:l}=e;const y=a.scale??1;n/=y,l/=y;const d=i.list[t].points;0==s||s==d.length-1?$({x:n,y:l},t):(e=>{const{index:t,i:s}=G,a=i.list[t].paths,n=a[s],l=a[s-1];if(!n||!l)return;const y=T()/2;if(Y(n,l)){let l=n.y+e.y;l<y&&(M(t,l-y),l=y),a[s].y=l,a[s-1].y=l}else{let l=n.x+e.x;l<y&&(z(t,l-y),l=y),a[s].x=l,a[s-1].x=l}a[s].moved=!0,a[s-1].moved=!0,O(t)})({x:n,y:l})},G={x:0,y:0,index:-1,i:-1,isDire:!1,isX:!1},X=e=>{let t=!Boolean(e.changedTouches);const s=t?e:e.changedTouches[0];return{x:s[t?"clientX":"pageX"],y:s[t?"clientY":"pageY"]}},S=e=>{const t=G.isDire,s=G.isX,{x:a,y:n}=X(e),l={x:a-G.x,y:n-G.y};t&&(s?l.y=0:l.x=0),B(l),G.x=a,G.y=n},I=()=>{G.i=-1},j=(e,t,s)=>{G.isDire=!1;const{x:a,y:n}=X(e);G.x=a,G.y=n,G.i=s,G.index=t,document.body.onmousemove=e=>{S(e)},document.body.onmouseleave=E,document.body.onmouseup=E},E=e=>{G.i<0||(S(e),document.body.onmousemove=null,document.body.onmouseup=null,document.body.onmouseleave=null,n("change"))},F=(e,t)=>{const s=Number(`0x${e.substring(1)}`);return`rgba(${s>>16&255}, ${s>>8&255}, ${255&s}, ${t})`},J=(e,t)=>{const s=window.devicePixelRatio??1,{x:a,y:n}=t;e.lineTo(a*s,n*s)},U=()=>{l.value.forEach(((e,t)=>{(e=>{const t=window.devicePixelRatio??1,s=l.value[e];if(!s)return;const a=i.list[e];s.width=a.width*t,s.height=a.height*t;const n=s.getContext("2d");if(!s.getContext)return;a.paths.forEach(((e,s)=>{if(0==s){const{x:s,y:a}=e;n.moveTo(s*t,a*t)}else J(n,e)})),n.lineWidth=T()*t,n.strokeStyle=F(a.color,.4),n.stroke()})(t)}))},A=(e,t)=>{const s=i.list[e].paths,a=s.length;let n=-1;0==t?n=1:t>=a&&(t=a-1);const l=s[t],y=s[t+n];return Y(l,y)},Y=(e,t)=>e.y==t.y,N=()=>{i.list=a.list.map((e=>{const t=k(e);return t.points=(e=>{let t=[];for(let s=0;s<e.length;s++){const a=e[s];if((0==s||s==e.length-1)&&(t.push([a.x,a.y]),s==e.length-1))break;const{x:n,y:l}=a,y=e[s+1],{x:i,y:d}=y;Y(a,y)?t.push([(i-n)/2+n,d]):t.push([i,(d-l)/2+l])}return t})(t.paths),t}))};let R=!1;return N(),f(U),t({optimize:()=>{const e=Q;Q=2,R=!0,G.i=0,l.value.forEach(((e,t)=>{O(t)})),Q=e,R=!1}}),(e,t)=>(d(),o("div",{ref_key:"pipeRef",ref:y,class:c({[e.$style.pipes]:!0,[e.$style["is-locked"]]:e.locked,[e.$style["is-pointer"]]:b(i).isPointer}),onMousemove:r,onMousedown:V},[(d(!0),o(L,null,g(b(i).list,((s,a)=>{return W((d(),o("div",{key:a,style:u({left:`${s.style.x}px`,top:`${s.style.y}px`,marginTop:`${s.my}px`,marginLeft:`${s.mx}px`,zIndex:s.zIndex}),class:c({[e.$style.item]:!0,[e.$style["is-active"]]:e.active==a})},[p("div",{class:c(e.$style["item-wrap"]),style:u({width:`${s.width}px`,height:`${s.height}px`}),onMousedown:I,onMouseup:E},[p("canvas",{ref_for:!0,ref:e=>((e,t)=>{l.value[t]=e})(e,a)},t[0]||(t[0]=[p("span",null,"你的浏览器不支持 canvas，请升级你的浏览器。",-1)]),512),(d(),o("svg",{width:s.width,height:s.height},[p("path",{stroke:F(s.color,.8),"stroke-width":e.width,"stroke-dasharray":"20,20",fill:"transparent",d:(n=s.paths,n.map(((e,t)=>`${0==t?"M":"L"}${e.x} ${e.y}`)).join(" "))},[e.animate?(d(),o("animate",se)):m("",!0)],8,te)],8,ee)),e.active==a?(d(!0),o(L,{key:0},g(s.points,((e,t)=>(d(),_(Z,{x:e[0],y:e[1],"is-start":0==t,"is-end":0==t||t==s.points.length-1,"is-x":A(a,t),onMousedown:e=>j(e,a,t),onDirection:e=>((e,t,s)=>{const a=A(t,s);G.isX=a,j(e,t,s),G.isDire=!0})(e,a,t)},null,8,["x","y","is-start","is-end","is-x","onMousedown","onDirection"])))),256)):m("",!0)],38)],6)),[[H,w(s)]]);var n})),128))],34))}}),[["__cssModules",{$style:{pipes:"_pipes_jc6ti_2","is-locked":"_is-locked_jc6ti_2","is-pointer":"_is-pointer_jc6ti_7",item:"_item_jc6ti_10","is-active":"_is-active_jc6ti_13","item-wrap":"_item-wrap_jc6ti_23",dash:"_dash_jc6ti_1"}}]]),ne=[{name:"冷冻回",type:a.LDH,color:"#2263E7"},{name:"冷冻供",type:a.LDG,color:"#2A19CC"},{name:"冷却供",type:a.LQG,color:"#CA691B"},{name:"冷却回",type:a.LQH,color:"#1F6C28"}],le=[{name:"冷冻泵",type:t.LDB,key:s.CHWP},{name:"冷却泵",type:t.LQB,key:s.CWP},{name:"阀门(冷冻)",type:t.LDFM,key:s.CHWV},{name:"阀门(冷却)",type:t.LQFM,key:s.CWV},{name:"冷却塔",type:t.LQT,key:s.COT},{name:"离心机",type:t.LXJ,key:s.CHL},{name:"分集水器",type:t.JSQ},{name:"监测点",type:t.DOT}],ye=["data-index"],ie=["data-index"],de=["src"],oe={class:"flex flex-ac"},pe={class:"pl-xs"},xe={class:"pl-xs pr-xs"},ce={key:0,class:"flex"},re={class:"flex"},me={key:1,class:"flex"},ue={key:2,class:"flex"},Ce={key:3,class:"flex"},he={class:"flex"},ve={class:"flex"},fe={key:4,class:"flex"},Le={class:"pl-xs"},ge={class:"e-drag__dot-content"},We=e(x({__name:"index",setup(e){const s=n(),x=l();C((()=>s.sidebar.opened),(()=>{setTimeout((()=>{var e;null==(e=W.value)||e.resize()}),300)}));const f=h(),W=h(),H=v({filters:{},forms:{template:{label:"模板",type:"select",clearable:!0,items:[]},animate:{label:"管路动画",type:"switch",value:!1,cols:.5},lockeDev:{label:"锁定设备",type:"switch",value:!1,cols:.5},lockePipe:{label:"锁定管路",type:"switch",value:!1,cols:.5},display:{label:"隐藏",type:"switch",value:!1,cols:.5},type:{label:"隐藏元素",type:"checkbox",hide:!0,custom:{label:"name",value:"type"},items:ne.concat(le)}},pipes:ne,devices:le,drag:{width:1200,height:900,key:"",index:-1,zIndex:0},edit:{scale:1,type:"",index:-1,devices:[],pipes:[],text:""}}),P="devices",F="pipes",J=v({width:2,gap:4}),A=V((()=>{let e={};return H.edit.index<0||(e=H.edit[H.edit.type][H.edit.index]),e})),Y=V((()=>{const e=A.value.type;if(!e)return[];const s=H.edit.devices;let n=[];switch(e){case a.LDG:case a.LDH:n=[t.LDB,t.LXJ,t.LDFM];break;case a.LQG:n=[t.LQT,t.LXJ,t.LQFM];break;case a.LQH:n=[t.LQB,t.LXJ,t.LQT,t.LQFM]}return s.filter((e=>n.includes(e.type)))})),R=V((()=>{const e=A.value.type;if(!e)return[];const s=H.edit.devices;let n=[];switch(e){case a.LDG:case a.LDH:n=[t.LDFM];break;case a.LQG:case a.LQH:n=[t.LQFM]}return s.filter((e=>n.includes(e.type)))})),K=V((()=>{const e=A.value.type;if(!e)return[];const s=H.edit.devices;let n=[];switch(e){case a.LDG:case a.LDH:n=[t.LDB,t.LXJ];break;case a.LQG:n=[t.LQT,t.LXJ];break;case a.LQH:n=[t.LQB,t.LXJ,t.LQT]}return s.filter((e=>n.includes(e.type)))})),Z=e=>{const t=H.edit[e].map((e=>{let{name:t,type:s,unit:a,deviceCode:n,style:l,rotate:y,bind:i,parallel:d,paths:o}=e;return o&&(o=o.map((({x:e,y:t})=>({x:e,y:t})))),d&&d.length&&d[0][0].length>0&&(i=d),{name:t,type:s,unit:a,deviceCode:n,style:l,rotate:y,bind:i,paths:o}})),s=JSON.stringify(t,((e,t)=>{if(!(""===t||void 0===t||t instanceof Array&&0==t.length))return t}),2);H.edit.text=s,y(s),console.log(t)},ee=()=>{H.edit.index=-1,H.edit.devices=[],H.edit.pipes=[],je()},te=h(),se=()=>{var e;null==(e=te.value)||e.optimize(),je()},We=()=>{console.log(k(H.edit[H.edit.type][H.edit.index]))},He=()=>{je()},_e=(e,t="")=>Number(t.replace(e,"")),be=e=>{let t=0;const s=H.edit.devices.filter((t=>t.key==e)).sort(((t,s)=>_e(e,t.deviceCode)-_e(e,s.deviceCode)));for(let a=0;a<s.length;a++){const n=s[a],l=_e(e,n.deviceCode);if(l-t>1)break;l>0&&(t=l)}return t},ke=e=>{const t=e.key;if(e.name.indexOf("#")>-1&&(e.name=e.name.split("#")[1]),!t)return e.name;return`${be(t)+1}#${e.name}`},Pe=e=>{const t=e.key;if(!t)return"";return`${t}${be(t)+1}`},Ve=(e,t,s)=>{},we={isMove:!1,x:0,y:0,tsp:0,time:10},Te=(e,t,s,a)=>{we.isMove=!0,we.tsp=Date.now(),((e,t)=>{const s=H.edit;if(s.type=e,s.index==t)return;s.index=t;const a=H.drag;s[e][t].zIndex=a.zIndex,a.zIndex++})(a,t);const n=!Boolean(e.changedTouches),l=n?e:e.changedTouches[0];we.x=l[n?"clientX":"pageX"],we.y=l[n?"clientY":"pageY"]},De=e=>{var t;if(!we.isMove||H.edit.index<0)return;if(Date.now()-we.tsp<we.time)return void(we.isMove=!1);const s=!Boolean(e.changedTouches),a=s?e:e.changedTouches[0],n=a[s?"clientX":"pageX"]-we.x,l=a[s?"clientY":"pageY"]-we.y,y=null==(t=W.value)?void 0:t.getSize(),i=H.edit[H.edit.type][H.edit.index];i.mx=n/y.scale,i.my=l/y.scale},Qe=e=>{if(!we.isMove)return;if(we.isMove=!1,H.edit.index<0)return;const t=H.edit[H.edit.type][H.edit.index];let s=t.mx??0,a=t.my??0;0!=s&&(s+=t.style.x,t.style.x=s),0!=a&&(a+=t.style.y,t.style.y=a),t.mx=0,t.my=0,je()},Oe=e=>x.getDeviceSrc(e),$e=e=>{const t=e.target.dataset;e.dataTransfer.effectAllowed=null==t?void 0:t.effect;const s=H.drag;s.key=null==t?void 0:t.key,s.index=null==t?void 0:t.index,s.zIndex++},ze=e=>{e.preventDefault()},Me=e=>{Ge();const t=Xe(e.target);t&&t.dataset.drop==e.dataTransfer.effectAllowed&&t.classList.add("drop-over")},Be=e=>{Ge();const t=Xe(e.target);if(t&&t.dataset.drop==e.dataTransfer.effectAllowed){const{key:t,index:s}=H.drag;if(t){const a=H[t][s];"devices"==t?((e,t)=>{var s;const{x:a,y:n}=null==(s=W.value)?void 0:s.displace(e);H.edit.devices.push({...t,zIndex:H.drag.zIndex,name:ke(t),deviceCode:Pe(t),status:0,error:0,style:{x:a,y:n}})})(e,a):((e,t)=>{var s;const{x:a,y:n}=null==(s=W.value)?void 0:s.displace(e),l=J.width+2*J.gap,y=l/2;H.edit.pipes.push({...t,style:{x:a,y:n},width:100,height:l,zIndex:H.drag.zIndex,paths:[{x:y,y:y},{x:100-y,y:y}],bind:[],parallel:[[[],[]]]})})(e,a),H.edit.type=H.drag.key,H.edit.index=H.edit[t].length-1,je()}}},Ge=()=>{document.querySelectorAll(".drop-over").forEach((e=>{e.classList.remove("drop-over")}))},Xe=e=>{for(;e;){if(e.dataset&&e.dataset.drop)return e;e=e.parentNode}},Se=e=>{let t=e;return e instanceof Array?t=e.map((e=>Se(e))):"[object Object]"==Object.prototype.toString.call(e)&&(t={},Object.keys(e).forEach((s=>{let a=e[s];(a instanceof Array||"[object Object]"==Object.prototype.toString.call(e))&&(a=Se(a)),t[s]=a}))),t},Ie={max:50,list:[],tsp:0,time:500},je=()=>{const e=Date.now();if(e-Ie.tsp<Ie.time)return;Ie.tsp=e;const t=Ie.list;t.length>=Ie.max&&t.splice(0,1);const s=Se(H.edit);t.push(s)},Ee=e=>{const s=e.keyCode;if(e.ctrlKey&&90==s)return void(()=>{const e=Ie.list,t=e.length;if(console.log("回退",t),0==t)return;const s=e[t-2];if(s){const e=Se(s);Object.keys(e).forEach((e=>{H.edit[e]=Se(s[e])}))}t>1&&e.splice(t-1,1)})();const{index:a,type:n}=H.edit;return a<0||!n?void 0:46==s?(H.edit[n].splice(a,1),H.edit.index=-1,void je()):void(e.ctrlKey&&86==s&&((e,s)=>{const a=Se(H.edit[e][s]);"devices"==e&&a.type!==t.DOT&&(a.name=ke(a),a.deviceCode=Pe(a)),a.style.x+=50,H.drag.zIndex++,a.zIndex=H.drag.zIndex,H.edit.index=H.edit[e].length,H.edit[e].push(a),je()})(n,a))},Fe=e=>{const t=e.keyCode,{index:s,type:a}=H.edit;if(s<0||!a||we.isMove)return;const n={x:0,y:0};switch(t){case 38:case 87:n.y-=1;break;case 40:case 83:n.y+=1;break;case 37:case 65:n.x-=1;break;case 39:case 68:n.x+=1}0==n.x&&0==n.y||Je(n)},Je=e=>{const t=H.edit[H.edit.type][H.edit.index];0!=e.x&&(t.style.x+=e.x),0!=e.y&&(t.style.y+=e.y),je()},Ue=()=>{const e=H.edit;e[e.type][e.index].parallel.push([[],[]])},Ae=e=>{if(!e)return;const t=q.find((t=>t.id==e));let s=0;const a=null==t?void 0:t.pipes.map((e=>{var t;const a=Se(e);a.bind||(a.bind=[]),a.bind[0]instanceof Array?(a.parallel=a.bind,a.bind=[]):a.parallel=[[[],[]]];const{width:n,height:l}=(e=>{let t=0,s=0;for(let n=0;n<e.length;n++){const{x:a,y:l}=e[n];e[n].moved=!0,a>t&&(t=a),l>s&&(s=l)}const a=J.width/2+J.gap;return{width:t+a,height:s+a}})(a.paths);return a.width=n,a.height=l,a.zIndex=s++,a.color=(null==(t=H.pipes.find((e=>e.type==a.type)))?void 0:t.color)||"#000",a})),n=null==t?void 0:t.devices.map((e=>{var t;const a=Se(e);return a.key=null==(t=a.deviceCode)?void 0:t.replace(/[^a-zA-Z]/g,""),a.zIndex=s++,a}));H.drag.zIndex=s,H.edit.devices=n,H.edit.pipes=a,je()},Ye=(e,t)=>{if(H.filters[e]=t,"display"==e){H.forms.type.hide=!t}else"template"==e&&Ae(t)};return(()=>{const e=H.forms;e.template.items=q.map((e=>({label:e.name,value:e.id}))),e.template.onChange=e=>Ye("template",e),e.animate.onChange=e=>Ye("animate",e),e.lockeDev.onChange=e=>Ye("lockeDev",e),e.lockePipe.onChange=e=>Ye("lockePipe",e),e.display.onChange=e=>Ye("display",e),e.type.onChange=e=>Ye("type",e)})(),je(),window.addEventListener("keydown",Fe,!1),window.addEventListener("keyup",Ee,!1),w((()=>{window.removeEventListener("keydown",Fe),window.removeEventListener("keyup",Ee)})),(e,s)=>{const a=T("e-form"),n=z,l=M,y=B,x=G,C=X,h=S,v=I,k=N,V=U,w=j,q=E,ne=i,le=T("e-drag");return d(),o("div",{class:c([e.$style.page,"flex"]),ref_key:"pageRef",ref:f,style:u({"--scale":b(H).edit.scale}),onDragstart:$e,onDragover:r(ze,["prevent"]),onDragenter:Me,onDrop:r(Be,["prevent"])},[p("div",{class:c([e.$style.tools,"p-sm o-a"])},[p("div",{class:c(e.$style.group)},[p("div",{class:c(e.$style.wrap)},[D(a,{forms:b(H).forms,size:"small",inline:!0,cols:1},null,8,["forms"])],2)],2),p("div",{class:c([e.$style.group,e.$style.line])},[p("div",{class:c(e.$style.title)},"管路",2),p("div",{class:c(e.$style.wrap)},[(d(!0),o(L,null,g(b(H).pipes,((t,s)=>(d(),o("div",{class:c(e.$style.item),style:u({"--color":t.color}),"data-effect":"copy","data-key":"pipes","data-index":s,draggable:!0},[p("div",{class:c(e.$style.name)},Q(t.name)+"：",3),p("div",{class:c(e.$style.pipe)},null,2)],14,ye)))),256))],2)],2),p("div",{class:c([e.$style.group,e.$style.device])},[p("div",{class:c(e.$style.title)},"设备",2),p("div",{class:c(e.$style.wrap)},[(d(!0),o(L,null,g(b(H).devices,((s,a)=>(d(),o("div",{class:c({[e.$style.item]:!0,[e.$style["is-dot"]]:s.type==b(t).DOT}),"data-effect":"copy","data-key":"devices","data-index":a,draggable:!0},[s.type!=b(t).DOT?(d(),o("img",{key:0,src:Oe(s),draggable:"false"},null,8,de)):(d(),o("div",{key:1,class:c(e.$style.dot)},null,2)),p("div",{class:c(e.$style.name)},Q(s.name),3)],10,ie)))),256))],2)],2),D(l,null,{default:O((()=>[D(n,{type:"primary",size:"small",onClick:s[0]||(s[0]=e=>Z("devices"))},{default:O((()=>s[17]||(s[17]=[$("设备")]))),_:1}),D(n,{type:"primary",size:"small",onClick:s[1]||(s[1]=e=>Z("pipes"))},{default:O((()=>s[18]||(s[18]=[$("管路")]))),_:1}),D(n,{type:"danger",size:"small",onClick:ee},{default:O((()=>s[19]||(s[19]=[$("清空")]))),_:1}),D(n,{type:"warning",size:"small",onClick:se},{default:O((()=>s[20]||(s[20]=[$("优化")]))),_:1}),D(n,{type:"primary",size:"small",onClick:We},{default:O((()=>s[21]||(s[21]=[$("log")]))),_:1})])),_:1}),D(y,{class:"mt-xs",type:"textarea",modelValue:b(H).edit.text,"onUpdate:modelValue":s[2]||(s[2]=e=>b(H).edit.text=e),placeholder:"JSON 数据"},null,8,["modelValue"])],2),p("div",{class:c([e.$style.wrapper,"f-x o-h"])},[p("div",{class:c(e.$style["drag-info"])},[p("div",oe,[s[22]||(s[22]=p("span",null,"画布大小：",-1)),D(x,{size:"small",modelValue:b(H).drag.width,"onUpdate:modelValue":s[3]||(s[3]=e=>b(H).drag.width=e),onKeyup:s[4]||(s[4]=r((()=>{}),["stop"]))},null,8,["modelValue"]),s[23]||(s[23]=p("span",{class:"pl-xs pr-xs"}," X ",-1)),D(x,{size:"small",modelValue:b(H).drag.height,"onUpdate:modelValue":s[5]||(s[5]=e=>b(H).drag.height=e),onKeyup:s[6]||(s[6]=r((()=>{}),["stop"]))},null,8,["modelValue"])])],2),D(q,{class:c(e.$style["device-info"]),accordion:""},{default:O((()=>[D(w,{name:"1"},{title:O((()=>[p("span",pe,Q(b(A).name),1)])),default:O((()=>{var a,l;return[p("div",xe,[b(A).type==b(t).DOT?(d(),o("div",ce,[s[24]||(s[24]=p("span",null,"名称：",-1)),p("span",null,[D(y,{size:"small",modelValue:b(A).name,"onUpdate:modelValue":s[7]||(s[7]=e=>b(A).name=e),placeholder:"请输入",onChange:je,onKeyup:s[8]||(s[8]=r((()=>{}),["stop"]))},null,8,["modelValue"])])])):m("",!0),p("div",re,[s[25]||(s[25]=p("span",null,"类型：",-1)),p("span",null,Q(b(A).type),1)]),b(A).type==b(t).DOT?(d(),o("div",me,[s[26]||(s[26]=p("span",null,"编号：",-1)),p("span",null,[D(y,{size:"small",modelValue:b(A).deviceCode,"onUpdate:modelValue":s[9]||(s[9]=e=>b(A).deviceCode=e),placeholder:"请输入",onChange:je,onKeyup:s[10]||(s[10]=r((()=>{}),["stop"]))},null,8,["modelValue"])])])):b(A).deviceCode?(d(),o("div",ue,[s[27]||(s[27]=p("span",null,"编号：",-1)),p("span",null,Q(b(A).deviceCode),1)])):m("",!0),b(A).type==b(t).DOT?(d(),o("div",Ce,[s[28]||(s[28]=p("span",null,"单位：",-1)),p("span",null,[D(y,{size:"small",modelValue:b(A).unit,"onUpdate:modelValue":s[11]||(s[11]=e=>b(A).unit=e),placeholder:"请输入",onChange:je,onKeyup:s[12]||(s[12]=r((()=>{}),["stop"]))},null,8,["modelValue"])])])):m("",!0),p("div",he,[s[29]||(s[29]=p("span",null,"坐标：",-1)),p("span",null,"x: "+Q(null==(a=b(A).style)?void 0:a.x.toFixed(2))+", y: "+Q(null==(l=b(A).style)?void 0:l.y.toFixed(2)),1)]),p("div",ve,[s[30]||(s[30]=p("span",null,"角度：",-1)),D(C,{class:"f-x",modelValue:b(A).rotate,"onUpdate:modelValue":s[13]||(s[13]=e=>b(A).rotate=e),min:0,max:360,"show-input":"",size:"small",onChange:je,onKeyup:s[14]||(s[14]=r((()=>{}),["stop"]))},null,8,["modelValue"])]),b(A).bind?(d(),o("div",fe,[s[31]||(s[31]=p("span",{class:"pt-xs"},"关联：",-1)),D(v,{class:"f-x",modelValue:b(A).bind,"onUpdate:modelValue":s[15]||(s[15]=e=>b(A).bind=e),onChange:je},{default:O((()=>[(d(!0),o(L,null,g(b(Y),(e=>(d(),_(h,{value:e.deviceCode},{default:O((()=>[$(Q(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])):m("",!0),b(A).parallel?(d(),_(q,{key:5,accordion:"",class:c(e.$style.parallel)},{default:O((()=>[D(w,{name:"2"},{title:O((()=>[s[32]||(s[32]=p("span",{class:"pl-xs"},"并联：",-1)),D(n,{size:"small",circle:"",plain:"",onClick:r(Ue,["stop"])},{default:O((()=>[D(k)])),_:1})])),default:O((()=>[p("div",Le,[(d(!0),o(L,null,g(b(A).parallel,((t,a)=>(d(),o("div",{class:c(e.$style.item)},[s[33]||(s[33]=p("span",null,"设备：",-1)),D(n,{size:"small",circle:"",plain:"",onClick:e=>(e=>{const t=H.edit;t[t.type][t.index].parallel.splice(e,1)})(a)},{default:O((()=>[D(V)])),_:2},1032,["onClick"]),D(v,{class:"f-x",modelValue:t[0],"onUpdate:modelValue":e=>t[0]=e,onChange:je},{default:O((()=>[(d(!0),o(L,null,g(b(K),(e=>(d(),_(h,{value:e.deviceCode},{default:O((()=>[$(Q(e.name),1)])),_:2},1032,["value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"]),s[34]||(s[34]=p("span",null,"阀门：",-1)),D(v,{class:"f-x",modelValue:t[1],"onUpdate:modelValue":e=>t[1]=e},{default:O((()=>[(d(!0),o(L,null,g(b(R),(e=>(d(),_(h,{value:e.deviceCode},{default:O((()=>[$(Q(e.name),1)])),_:2},1032,["value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])],2)))),256))])])),_:1})])),_:1},8,["class"])):m("",!0),D(y,{type:"textarea",value:JSON.stringify(b(A),void 0,2)},null,8,["value"])])]})),_:1})])),_:1},8,["class"]),D(le,{ref_key:"dragRef",ref:W,width:b(H).drag.width,height:b(H).drag.height,"data-drop":"copy",zoom:b(H).edit.scale,"onUpdate:zoom":s[16]||(s[16]=e=>b(H).edit.scale=e),onMousemove:De,onMouseup:Qe},{default:O((()=>[p("div",ge,[D(ne,{list:b(H).edit.devices,type:P,locked:b(H).filters.lockeDev,display:b(H).filters.display,"hide-type":b(H).filters.type,"show-name":!0,active:b(H).edit.type===P?b(H).edit.index:-1,onClick:Ve,onMousedown:r(Te,["stop"]),onMouseup:r(Qe,["stop"])},null,8,["list","type","locked","display","hide-type","active"]),D(ae,{ref_key:"pipeRef",ref:te,list:b(H).edit.pipes,type:F,locked:b(H).filters.lockePipe,animate:b(H).filters.animate,display:b(H).filters.display,"hide-type":b(H).filters.type,width:b(J).width,gap:b(J).gap,scale:b(H).edit.scale,active:b(H).edit.type===F?b(H).edit.index:-1,onClick:Ve,onMousedown:r(Te,["stop"]),onMouseup:Qe,onChange:He},null,8,["list","type","locked","animate","display","hide-type","width","gap","scale","active"])])])),_:1},8,["width","height","zoom"])],2)],38)}}}),[["__cssModules",{$style:{page:"_page_1vxkv_2",tools:"_tools_1vxkv_10",group:"_group_1vxkv_17",title:"_title_1vxkv_20",wrap:"_wrap_1vxkv_23",item:"_item_1vxkv_26",name:"_name_1vxkv_29",line:"_line_1vxkv_33",pipe:"_pipe_1vxkv_38",device:"_device_1vxkv_45",dot:"_dot_1vxkv_53",wrapper:"_wrapper_1vxkv_67","drag-info":"_drag-info_1vxkv_70","device-info":"_device-info_1vxkv_71",parallel:"_parallel_1vxkv_88"}}]]);export{We as default};
