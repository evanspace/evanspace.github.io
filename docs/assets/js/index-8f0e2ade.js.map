{"version":3,"file":"index-8f0e2ade.js","sources":["../../../code/src/pages/skill/debounce/debounce.ts","../../../code/src/pages/skill/debounce/index.vue"],"sourcesContent":["\nexport const debounceRef = ( value: any, duration: number = 300 ) => {\n  let timer: NodeJS.Timeout\n  return customRef( ( track, trigger ) => {\n    return {\n      // 依赖收集\n      get() {\n        // 告知 value 值需要被追踪\n        track()\n        return value\n      },\n      // 派发更新\n      set( newVal ) {\n        clearTimeout( timer )\n        timer = setTimeout( () => {\n          value = newVal\n          // 告知 vue 更新界面\n          trigger()\n        }, duration )\n      }\n    }\n  } )\n}","<template>\n  <div class=\"page\">\n    <div :class=\"$style.wrap\">\n      <input :class=\"$style.input\" type=\"text\" v-model=\"text\" />\n      <p>{{ text }}</p>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { debounceRef } from './debounce'\nconst text = debounceRef('', 500)\n</script>\n\n<style lang=\"scss\" module>\n.wrap {\n  margin: 5px;\n  border: 1px solid #ddd;\n  height: 300px;\n  text-align: center;\n  padding-top: 100px;\n  border-radius: 6px;\n  background-color: #efefef;\n  p {\n    font-size: 20px;\n  }\n}\n.input {\n  outline: none;\n  line-height: 2;\n  border-color: #ddd;\n  border-width: 1px;\n  border-radius: 3px;\n}\n</style>\n"],"names":["text","value","duration","timer","customRef","track","trigger","get","set","newVal","clearTimeout","setTimeout","debounceRef"],"mappings":"qJACO,sDCUP,MAAAA,EDV2B,EAAEC,EAAYC,EAAmB,OACtD,IAAAC,EACG,OAAAC,GAAW,CAAEC,EAAOC,KAClB,CAELC,IAAM,SAGGN,GAGT,GAAAO,CAAKC,GACHC,aAAcP,GACdA,EAAQQ,YAAY,KACVV,EAAAQ,QAGPP,EACL,KAEF,ECVJU,CAAA,GAAA"}