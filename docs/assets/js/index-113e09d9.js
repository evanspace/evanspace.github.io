var e=Object.defineProperty,s=(s,t,a)=>(((s,t,a)=>{t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a})(s,"symbol"!=typeof t?t+"":t,a),a);import{S as t,i as a,u as i}from"./scene-resize-c2d24791.js";import{bE as o,bA as n,du as r,dB as d,bC as l,e1 as c,bv as u,e2 as h,dv as p,c as m,h as w,k as b,o as g,f,g as y}from"./vendor-0648fc2e.js";import{u as v}from"./sky-8d6b28da.js";import"./index-c2112bff.js";class k extends t{constructor(e){super(e),s(this,"gui"),s(this,"material"),s(this,"outLineMaterial"),this.addModel(),this.gui=new o,this.addGui()}addModel(){const e=20,s=new n(10,32,32),t=new r({color:1276674,shininess:2,specular:3204042,side:d}),a=new l(s,t);a.position.y=e,a.position.x=-20,a.castShadow=!0;const i=new c(10,3,100,16),o=new l(i,t);o.position.x=e,o.position.y=e,o.castShadow=!0;const h=new r({color:16768637,side:d});this.outLineMaterial=h;const p=new l(i,h);p.scale.setScalar(1.05),p.position.copy(o.position);const m=new u(20,20),w=new l(m,t);w.position.x=-60,w.position.y=e,w.castShadow=!0,this.addObject(a,o,p,w),this.material=t}addGui(){var e;const s=this.gui;if(s.add(this.material,"side",{FrontSide:h,BackSide:d,DoubleSide:p}).onChange((e=>{this.material&&(this.material.side=Number(e))})),!this.outLineMaterial)return;const t={color:this.outLineMaterial.color.getHex()};s.addColor(t,"color").name("轮廓颜色").onChange((e=>{this.outLineMaterial&&this.outLineMaterial.color.set(e)})),s.domElement.className+=" gui-wrap",null==(e=this.container.parentNode)||e.appendChild(s.domElement)}}const x={class:"three-page"},M=m({__name:"index",setup(e){const{skys:s}=v(),t=w(),o={grid:{visible:!0}};let n;const{backgroundLoad:r}=a.useBackground("https://ye6.atomgit.net/3d-demo-data/sky/",s);return b((()=>{o.container=t.value,n=new k(o),n.run(),i(n).resize(),r(n,"501")})),(e,s)=>(g(),f("div",x,[y("div",{class:"h-100",ref_key:"containerRef",ref:t},null,512)]))}});export{M as default};
