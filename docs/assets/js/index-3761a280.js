var e=Object.defineProperty,s=(s,n,t)=>(((s,n,t)=>{n in s?e(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t})(s,"symbol"!=typeof n?n+"":n,t),t);import{m as n,u as t}from"./scene-resize-4f97c21c.js";import{i as o,b5 as a,b6 as r,b7 as i,b8 as d,b9 as l,ba as c,bb as u,bc as g,bd as h,e as p,l as m,o as b,g as v,h as w}from"./vendor-254dc7cc.js";import"./index-01fe4df5.js";const{backgroundLoad:f}=((e="")=>{const s=["216","217","218","219","220","221","222","223","224","225"],n=s.findIndex((s=>s==e)),t=o(n<0?0:n),i=e=>{const n=s[t.value];n&&(l(e,n),t.value++,t.value>=s.length&&(t.value=0))},d=e=>["posX.jpeg","negX.jpeg","posY.jpeg","negY.jpeg","posZ.jpeg","negZ.jpeg"].map((s=>((e,s)=>new URL(Object.assign({})[`/node_modules/three-scene/assets/imgs/sky/${e}/${s}`],self.location).href)(e,s))),l=(e={},s)=>{const n=d(s);if("function"==typeof e.setBgTexture)e.setBgTexture(n);else if(Array.isArray(n)){const s=(new a).load(n);e.background=s}else e.background=(new r).load(n)};return{skys:s,index:t,change:i,changeBackground:i,load:l,getBgGroup:d,backgroundLoad:l}})();class j extends n{constructor(e){super(e),s(this,"clock"),s(this,"gui"),this.clock=new i,this.addControls(),this.gui=new d,this.addGui()}addControls(){const e=this.camera,s=new l(e,this.renderer.domElement);s.addEventListener("change",(()=>{})),this.controls=s}addGui(){var e;const s=this.gui,n=this.controls;s.add(n,"movementSpeed",.1,1e3).name("移动速度(方向按键、鼠标左右)"),s.add(n,"autoForward").name("自动向前"),s.add(n,"rollSpeed",.001,Math.PI).name("旋转速度"),s.add(n,"dragToLook").name("拖拽控制视角"),s.domElement.style.position="absolute",s.domElement.style.top="opx",s.domElement.style.right="opx",null==(e=this.container.parentNode)||e.appendChild(s.domElement)}initModel(){const e=new c(300,300),s=new u({color:11721691}),n=new g(e,s);n.name="ground",n.rotation.x=1.5*Math.PI,n.receiveShadow=!0,this.addObject(n);const t=new h(50,50,50),o=new u({color:1276674}),a=new g(t,o);a.position.y=25,a.castShadow=!0,this.addObject(a),f(this.scene,"217")}modelAnimate(){var e;const s=this.clock.getDelta();null==(e=this.controls)||e.update(s)}}const y={class:"three-page"},k=p({__name:"index",setup(e){const s=o(),n={axes:{visible:!0},render:{alpha:!0},grid:{visible:!0},controls:{visible:!1}};let a;return m((()=>{n.container=s.value,a=new j(n),a.run(),t(a).resize()})),(e,n)=>(b(),v("div",y,[w("div",{class:"h-100",ref_key:"containerRef",ref:s},null,512)]))}});export{k as default};
