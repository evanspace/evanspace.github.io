import{i as e,dj as t,o as a,g as n,I as s,a7 as l,h as o,t as i,e as u,n as c,u as d,df as r,C as v,q as p}from"./vendor-4ee42cfe.js";import{_ as m}from"./index-0c9e2fa0.js";const g={type:"text"},h={type:"checkbox"};const _=m({directives:{myModel:{mounted(e,t,a){var n;if(void 0===t.value)return;let s=t.instance;const l=null==(n=a.props)?void 0:n.type;let o="",i="";switch(l){case"text":case"textarea":o="input",i="value";break;case"checkbox":case"radio":o="change",i="checked";break;case"select":o="change",i="value"}e.value=t.value,e.addEventListener(o,(e=>{s[t.arg||""]=e.target[i]}))}}},setup:()=>({value:e("11"),checked:e(!1)})},[["render",function(e,u,c,d,r,v){const p=t("myModel");return a(),n("div",null,[u[0]||(u[0]=s(" vue3.x ")),l(o("input",g,null,512),[[p,d.value,"value"]]),s(" "+i(d.value)+" ",1),l(o("input",h,null,512),[[p,d.checked,"checked"]]),s(" "+i(d.checked),1)])}]]),y={type:"text"},x=m(u({__name:"index",setup(t,{expose:s}){const u=e("---"),m={mounted(e,t,a){if(void 0===t.value)return;let n=t.instance;e.value=t.value,e.addEventListener("input",(e=>{e.target.composing||(n[t.arg]=e.target.value)})),e.addEventListener("compositionstart",(e=>{e.target.composing=!0})),e.addEventListener("compositionend",(e=>{const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}))},beforeUnmount(e){e.removeEventListener("input",(()=>{})),e.removeEventListener("compositionstart",(()=>{})),e.removeEventListener("compositionend",(()=>{}))},updated(e,t){e.value=t.value}};return s({modelVal:u}),(e,t)=>(a(),n("div",{class:c(e.$style.page)},[o("div",{class:c(e.$style.item)},[o("div",{class:c(e.$style.title)},"v-model",2),o("div",{class:c(e.$style.content)},[t[1]||(t[1]=o("span",null,"自定义 v-mymodel：",-1)),l(o("input",y,null,512),[[m,d(u),"modelVal"]]),o("p",null,"结果："+i(d(u)),1),t[2]||(t[2]=o("span",null,"内置 v-model：",-1)),l(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>v(u)?u.value=e:null),placeholder:"v-model"},null,512),[[r,d(u)]]),p(_)],2)],2)],2))}}),[["__cssModules",{$style:{page:"_page_1ohz8_2",item:"_item_1ohz8_6",title:"_title_1ohz8_9"}}]]);export{x as default};
