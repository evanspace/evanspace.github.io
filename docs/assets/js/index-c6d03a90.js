var e=Object.defineProperty,s=(s,o,t)=>(((s,o,t)=>{o in s?e(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t})(s,"symbol"!=typeof o?o+"":o,t),t);import{w as o,E as t,u as a}from"./scene-resize-c0f4ee08.js";import{br as n,di as i,dj as r,bu as d,bv as l,bw as c,de as m,e as h,i as u,l as p,o as b,g as w,h as g}from"./vendor-ac537de4.js";import{u as v}from"./sky-fe3b81ff.js";import"./index-3fa78c62.js";const{skys:y}=v(),{backgroundLoad:f}=o.useBackground("/oss/sky/",y);class k extends t{constructor(e){super(e),s(this,"clock"),s(this,"gui"),this.clock=new n,this.addControls(),this.gui=new i,this.addGui()}addControls(){const e=this.camera,s=new r(e,this.renderer.domElement);s.addEventListener("change",(()=>{})),this.controls=s}addGui(){var e;const s=this.gui,o=this.controls;console.log(o),s.add(o,"movementSpeed",.1,1e3).name("移动速度(方向按键、鼠标左右)"),s.add(o,"autoForward").name("自动向前"),s.add(o,"rollSpeed",.001,Math.PI).name("旋转速度"),s.add(o,"dragToLook").name("拖拽控制视角"),s.domElement.style.position="absolute",s.domElement.style.top="opx",s.domElement.style.right="opx",null==(e=this.container.parentNode)||e.appendChild(s.domElement)}initModel(){const e=new d(300,300),s=new l({color:11721691}),o=new c(e,s);o.name="ground",o.rotation.x=1.5*Math.PI,o.receiveShadow=!0,this.addObject(o);const t=new m(50,50,50),a=new l({color:1276674}),n=new c(t,a);n.position.y=25,n.castShadow=!0,this.addObject(n),f(this,"102")}modelAnimate(){var e;const s=this.clock.getDelta();null==(e=this.controls)||e.update(s)}}const j={class:"three-page"},x=h({__name:"index",setup(e){const s=u(),o={axes:{visible:!0},render:{alpha:!0},grid:{visible:!0},controls:{visible:!1}};let t;return p((()=>{o.container=s.value,t=new k(o),t.run(),a(t).resize()})),(e,o)=>(b(),w("div",j,[g("div",{class:"h-100",ref_key:"containerRef",ref:s},null,512)]))}});export{x as default};
