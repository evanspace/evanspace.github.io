var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{bq as a,br as s,bg as r,bs as n,bm as i,dg as o,dJ as l,bp as d,bn as c,e as m,i as u,l as w,o as h,g as p,h as b}from"./vendor-5431a8ac.js";import{v as f,a as x}from"./scene-resize-ef21d22a.js";import"./index-8c37d8b7.js";const g=(new a).load("/oss/textures/effect/sky.jpg",(e=>{const t=[1,1];e.wrapT=s,e.wrapS=s,e.repeat.x=t[0],e.repeat.y=t[1]}));class v extends f{constructor(e){super(e),t(this,"water"),this.addModel()}addModel(){this.water=(()=>{const e=new l(500,128),t=new d(e,{textureWidth:512,textureHeight:512,waterNormals:(new a).load("/oss/textures/waternormals.jpg",(e=>{e.wrapS=e.wrapT=s})),sunDirection:new c,sunColor:15732480,waterColor:92299,distortionScale:3.5});return t.rotation.x=-Math.PI/2,t.rotation.z=.05*Math.PI,t.material.uniforms.size.value=.5,t})(),this.addObject(this.water);const e=new r(new n(5e3,168,168,0,2*Math.PI,0,1*Math.PI),new i({map:g,side:o}));this.addObject(e)}modelAnimate(){g&&(g.offset.x+=2e-4),this.water&&(this.water.material.uniforms.time.value+=1/60)}}const j={class:"three-page"},y=m({__name:"index",setup(e){const t=u(),a={grid:{},controls:{enablePan:!1,minDistance:50,maxDistance:200,maxPolarAngle:.45*Math.PI},ambientLight:{intensity:.5},directionalLight:{intensity:.5},camera:{position:[0,10,100]}};let s;return w((()=>{a.container=t.value,s=new v(a),s.run(),x(s).resize()})),(e,a)=>(h(),p("div",j,[b("div",{class:"h-100",ref_key:"containerRef",ref:t},null,512)]))}});export{y as default};
