var e=Object.defineProperty,s=(s,n,t)=>(((s,n,t)=>{n in s?e(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t})(s,"symbol"!=typeof n?n+"":n,t),t);import{i as n,b5 as t,b6 as o,b7 as a,b8 as r,b9 as d,ba as i,bb as l,bc as c,bd as u,e as g,l as h,o as p,g as m,h as b}from"./vendor-9803c2f7.js";import{v,u as w}from"./scene-resize-2c62bd39.js";import"./index-f912fb9a.js";const{backgroundLoad:f}=((e="")=>{const s=["216","217","218","219","220","221","222","223","224","225"],a=s.findIndex((s=>s==e)),r=n(a<0?0:a),d=e=>{const n=s[r.value];n&&(l(e,n),r.value++,r.value>=s.length&&(r.value=0))},i=e=>["posX.jpeg","negX.jpeg","posY.jpeg","negY.jpeg","posZ.jpeg","negZ.jpeg"].map((s=>((e,s)=>new URL(Object.assign({})[`/node_modules/three-scene/assets/imgs/sky/${e}/${s}`],self.location).href)(e,s))),l=(e={},s)=>{const n=i(s);if("function"==typeof e.setBgTexture)e.setBgTexture(n);else if(Array.isArray(n)){const s=(new t).load(n);e.background=s}else e.background=(new o).load(n)};return{skys:s,index:r,change:d,changeBackground:d,load:l,getBgGroup:i,backgroundLoad:l}})();class j extends v{constructor(e){super(e),s(this,"clock"),s(this,"gui"),this.clock=new a,this.addControls(),this.gui=new r,this.addGui()}addControls(){const e=this.camera,s=new d(e,this.renderer.domElement);s.addEventListener("change",(()=>{})),this.controls=s}addGui(){var e;const s=this.gui,n=this.controls;s.add(n,"movementSpeed",.1,1e3).name("移动速度(方向按键、鼠标左右)"),s.add(n,"autoForward").name("自动向前"),s.add(n,"rollSpeed",.001,Math.PI).name("旋转速度"),s.add(n,"dragToLook").name("拖拽控制视角"),s.domElement.style.position="absolute",s.domElement.style.top="opx",s.domElement.style.right="opx",null==(e=this.container.parentNode)||e.appendChild(s.domElement)}initModel(){const e=new i(300,300),s=new l({color:11721691}),n=new c(e,s);n.name="ground",n.rotation.x=1.5*Math.PI,n.receiveShadow=!0,this.addObject(n);const t=new u(50,50,50),o=new l({color:1276674}),a=new c(t,o);a.position.y=25,a.castShadow=!0,this.addObject(a),f(this.scene,"217")}modelAnimate(){var e;const s=this.clock.getDelta();null==(e=this.controls)||e.update(s)}}const y={class:"three-page"},k=g({__name:"index",setup(e){const s=n(),t={axes:{visible:!0},render:{alpha:!0},grid:{visible:!0},controls:{visible:!1}};let o;return h((()=>{t.container=s.value,o=new j(t),o.run(),w(o).resize()})),(e,n)=>(p(),m("div",y,[b("div",{class:"h-100",ref_key:"containerRef",ref:s},null,512)]))}});export{k as default};
