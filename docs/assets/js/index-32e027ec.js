var e=Object.defineProperty,s=(s,n,t)=>(((s,n,t)=>{n in s?e(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t})(s,"symbol"!=typeof n?n+"":n,t),t);import{D as n,p as t,u as a}from"./scene-resize-d0e4662d.js";import{bq as i,bc as o,bs as c,de as r,bo as l,bg as d,c as h,dE as p,e as m,i as u,l as g,o as v,g as b,h as _,n as f}from"./vendor-08e99294.js";import{_ as w}from"./index-0b90f198.js";const D=new i,j=t,{backgroundLoad:k}=j.useBackground(),{initCSS2DRender:E,createCSS2DDom:S}=j.useCSS2D(),y=()=>{const e=new c(50,160,160),s=new r({specular:3355443,shininess:5,map:D.load("/oss/textures/planets/earth_atmos_2048.jpg"),specularMap:D.load("/oss/textures/planets/earth_specular_2048.jpg"),normalMap:D.load("/oss/textures/planets/earth_normal_2048.jpg"),normalScale:new l(.85,.85)}),n=new d(e,s);n.name="earth";const t=S({name:'\n      <div class="bg"></div>\n      <span class="inner">Earth</span>\n    ',className:"dot-2D-label",position:[0,50,0],onClick:e=>{console.log("click",e),h.success("click Earth ！")}});return n.add(t),n};class M extends n{constructor(e){super(e),s(this,"gui"),s(this,"css2DRender"),s(this,"moon"),this.createClock(),k(this.scene,"201"),this.css2DRender=E(this.options,this.container),this.css2DRender.domElement.className="three-scene__dot-wrap";const n=y();this.addObject(n);const t=(()=>{const e=new c(40,160,160),s=new r({shininess:5,map:D.load("/oss/textures/planets/moon_1024.jpg")}),n=new d(e,s);n.position.set(0,100,0);const t=document.createElement("div");t.className="dot",t.innerHTML='\n    <div class="bg"></div>\n    <span class="inner">Moon</span>\n  ',t.style.pointerEvents="auto",t.addEventListener("click",(e=>{console.log("click",e),h.success("click Moon ！")}));const a=new p(t);return a.position.set(0,40,0),n.add(a),n})();this.moon=t,this.addObject(t),this.gui=new o,this.addGui()}addGui(){var e;const s=this.gui,n={display:()=>{this.scene.children.forEach((e=>{if(e.isMesh){const s=e.children.find((e=>e.isCSS2DObject));s.visible=!s.visible}}))},earth:()=>{const e=this.scene.children.find((e=>"earth"==e.name));if(e)e.clear(),this.scene.remove(e);else{const e=y();this.addObject(e)}}};s.add(n,"display").name("隐藏/展示"),s.add(n,"earth").name("删除/添加地球"),s.domElement.className+=" gui-wrap",null==(e=this.container.parentNode)||e.appendChild(s.domElement)}resize(){var e;super.resize();const{height:s,width:n}=this.options;null==(e=this.css2DRender)||e.setSize(s,n)}modelAnimate(){var e,s;null==(e=this.css2DRender)||e.render(this.scene,this.camera);const n=(null==(s=this.clock)?void 0:s.getElapsedTime())||0;this.moon.position.set(200*Math.sin(n),0,200*Math.cos(n))}dispose(){super.dispose(),this.css2DRender=void 0}}const x=w(m({__name:"index",setup(e){const s=u(),n={grid:{visible:!0}};let t;return g((()=>{n.container=s.value,t=new M(n),t.run(),a(t).resize()})),(e,n)=>(v(),b("div",{class:f(["three-page",e.$style.page])},[_("div",{class:"h-100",ref_key:"containerRef",ref:s},null,512)],2))}}),[["__cssModules",{$style:{page:"_page_o4of8_2"}}]]);export{x as default};
//# sourceMappingURL=index-32e027ec.js.map
