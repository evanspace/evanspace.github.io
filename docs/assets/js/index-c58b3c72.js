import{i as e,cZ as t,o as n,g as a,I as s,a7 as o,h as l,t as i,e as c,n as r,u,ba as d,C as v,q as p}from"./vendor-01fc5bd0.js";import{_ as m}from"./index-8ac7069f.js";const g={type:"text"},h={type:"checkbox"};const y=m({directives:{myModel:{mounted(e,t,n){var a;if(void 0===t.value)return console.error("v-myModel未赋值");let s=t.instance;const o=null==(a=n.props)?void 0:a.type;let l="",i="";switch(o){case"text":case"textarea":l="input",i="value";break;case"checkbox":case"radio":l="change",i="checked";break;case"select":l="change",i="value"}e.value=t.value,e.addEventListener(l,(e=>{s[t.arg||""]=e.target[i]}))}}},setup:()=>({value:e("11"),checked:e(!1)})},[["render",function(e,c,r,u,d,v){const p=t("myModel");return n(),a("div",null,[c[0]||(c[0]=s(" vue3.x ")),o(l("input",g,null,512),[[p,u.value,"value"]]),s(" "+i(u.value)+" ",1),o(l("input",h,null,512),[[p,u.checked,"checked"]]),s(" "+i(u.checked),1)])}]]),_={type:"text"},x=m(c({__name:"index",setup(t,{expose:s}){const c=e("---"),m={mounted(e,t,n){if(console.log(t,n),void 0===t.value)return console.error("v-mymodel未赋值");let a=t.instance;e.value=t.value,e.addEventListener("input",(e=>{e.target.composing||(a[t.arg]=e.target.value)})),e.addEventListener("compositionstart",(e=>{e.target.composing=!0})),e.addEventListener("compositionend",(e=>{const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}))},beforeUnmount(e){e.removeEventListener("input",(()=>{})),e.removeEventListener("compositionstart",(()=>{})),e.removeEventListener("compositionend",(()=>{}))},updated(e,t){e.value=t.value}};return s({modelVal:c}),(e,t)=>(n(),a("div",{class:r(e.$style.page)},[l("div",{class:r(e.$style.item)},[l("div",{class:r(e.$style.title)},"v-model",2),l("div",{class:r(e.$style.content)},[t[1]||(t[1]=l("span",null,"自定义 v-mymodel：",-1)),o(l("input",_,null,512),[[m,u(c),"modelVal"]]),l("p",null,"结果："+i(u(c)),1),t[2]||(t[2]=l("span",null,"内置 v-model：",-1)),o(l("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>v(c)?c.value=e:null),placeholder:"v-model"},null,512),[[d,u(c)]]),p(y)],2)],2)],2))}}),[["__cssModules",{$style:{page:"_page_1ohz8_2",item:"_item_1ohz8_6",title:"_title_1ohz8_9"}}]]);export{x as default};
