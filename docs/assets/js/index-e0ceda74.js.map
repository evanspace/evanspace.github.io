{"version":3,"file":"index-e0ceda74.js","sources":["../../../code/src/pages/skill/card/index.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n    \n    <div class=\"wrap\">\n      <h3>X、Y旋转</h3>\n      <div \n        class=\"card\"\n        :style=\"{\n          '--lx': opts.lx + 'px',\n          '--ly': opts.ly + 'px',\n          '--rx': opts.rx + 'deg',\n          '--ry': opts.ry + 'deg',\n          '--s': !opts.showLamp ? '.2s' : '0s'\n        }\"\n        @mousemove=\"onMousemove\"\n        @mouseleave=\"onMouseleave\"\n      >\n        <p>Hello world!</p>\n        <div class=\"lamp\" v-show=\"opts.showLamp\"></div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n\nconst opts = reactive( {\n  lx: 0,\n  ly: 0,\n  rx: 0,\n  ry: 0,\n  showLamp: false\n} )\nconst range = [ -10, 10 ]\nconst getRangeDeg = ( value: number, length: number, range: number[] ) => {\n  return ( value / length ) * ( range[ 1 ] - range[ 0 ] ) + range[ 0 ]\n}\n\nconst onMousemove = ( e: MouseEvent ) => {\n  const { offsetX, offsetY } = e\n  opts.lx = offsetX\n  opts.ly = offsetY\n  opts.showLamp = true\n  const dom = e.target as HTMLElement\n  const w = dom?.offsetWidth as number\n  const h = dom?.offsetHeight as number\n  const rx = getRangeDeg( offsetY, h, range )\n  const ry = -getRangeDeg( offsetX, w, range )\n  opts.rx = rx\n  opts.ry = ry\n}\n\n\nconst onMouseleave = ( _e: MouseEvent ) => {\n  opts.showLamp = false\n  opts.rx = 0\n  opts.ry = 0\n}\n\n</script>\n  \n<style lang=\"scss\" scoped>\n.wrap {\n  margin: 5px;\n  padding: 20px;\n  border-radius: 6px;\n  background-color: #000;\n  h3 {\n    color: #fff;\n    font-size: 24px;\n  }\n  .card {\n    --s: 0s;\n    --lx: 0px;\n    --ly: 0px;\n    --rx: 0deg;\n    --ry: 0deg;\n    color: rgba($color: #fff, $alpha: .6);\n    width: 200px;\n    height: 300px;\n    cursor: pointer;\n    margin: 10px auto;\n    padding: 10px 20px;\n    overflow: hidden;\n    font-size: 20px;\n    position: relative;\n    transition: all var(--s, 0s) linear;\n    border-radius: 6px;\n    transform-style: preserve-3d;\n    background-color: rgba($color: #fff, $alpha: .1);\n    p {\n      line-height: 3;\n      pointer-events: none;\n    }\n    &:hover {\n      color: #fff;\n      box-shadow: 0 0 5px rgba($color: #fff, $alpha: .3);\n      transform: perspective(500px) rotateX(var(--rx, 0deg)) rotateY(var(--ry, 0deg));\n    }\n    .lamp {\n      top: -100px;\n      left: -100px;\n      width: 200px;\n      height: 200px;\n      filter: blur(50px);\n      position: absolute;\n      transform: translate(var(--lx, 0px), var(--ly, 0px));\n      border-radius: 50%;\n      pointer-events: none;\n      background-color: rgba($color: #4d52e8, $alpha: .5);\n    }\n  }\n}\n</style>"],"names":["opts","reactive","lx","ly","rx","ry","showLamp","range","getRangeDeg","value","length","range2","onMousemove","e","offsetX","offsetY","dom","target","w","offsetWidth","h","offsetHeight","onMouseleave","_e"],"mappings":"+NA2BA,MAAAA,EAAAC,EAAA,CAAuBC,GAAA,EACjBC,GAAA,EACAC,GAAA,EACAC,GAAA,EACAC,UAAA,IAGNC,EAAA,EAAA,GAAA,IACAC,EAAA,CAAAC,EAAAC,EAAAC,IACEF,EAAAC,GAAAC,EAAA,GAAAA,EAAA,IAAAA,EAAA,GAGFC,EAAAC,IACE,MAAAC,QAAAA,EAAAC,QAAAA,GAAAF,EACAb,EAAAE,GAAAY,EACAd,EAAAG,GAAAY,EACAf,EAAAM,UAAA,EACA,MAAAU,EAAAH,EAAAI,OACAC,EAAA,MAAAF,OAAA,EAAAA,EAAAG,YACAC,EAAA,MAAAJ,OAAA,EAAAA,EAAAK,aACAjB,EAAAI,EAAAO,EAAAK,EAAAb,GACAF,GAAAG,EAAAM,EAAAI,EAAAX,GACAP,EAAAI,GAAAA,EACAJ,EAAAK,GAAAA,CAAA,EAIFiB,EAAAC,IACEvB,EAAAM,UAAA,EACAN,EAAAI,GAAA,EACAJ,EAAAK,GAAA,CAAA"}