import{b6 as e,bw as s,bs as t,d3 as a,bA as n,c0 as r,bo as o,bx as p,bp as g,bc as l}from"./vendor-e7f34225.js";import{_ as i,a as f,b as c,c as m,e as u,f as w,h as x,i as b,j as d,k as y,l as h,m as A,n as j,o as M,p as v,q as F,r as z}from"./scene-resize-5d485f13.js";const T=e=>new URL(Object.assign({"../assets/imgs/texttures/arrow.png":i,"../assets/imgs/texttures/border.png":f,"../assets/imgs/texttures/circle.png":c,"../assets/imgs/texttures/fenceMap0.png":m,"../assets/imgs/texttures/fenceMap1.png":u,"../assets/imgs/texttures/fenceMap2.png":w,"../assets/imgs/texttures/gz-map-fx.jpg":x,"../assets/imgs/texttures/gz-map.jpg":b,"../assets/imgs/texttures/inner-circle.png":d,"../assets/imgs/texttures/lensflare/lensflare0.png":y,"../assets/imgs/texttures/lensflare/lensflare0_alpha.png":h,"../assets/imgs/texttures/lensflare/lensflare1.png":A,"../assets/imgs/texttures/lensflare/lensflare2.png":j,"../assets/imgs/texttures/lensflare/lensflare3.png":M,"../assets/imgs/texttures/light.png":v,"../assets/imgs/texttures/out-circle.png":F,"../assets/imgs/texttures/point.png":z})[`../assets/imgs/texttures/${e}`],self.location).href,_=()=>{const i=[1,.8],f=.2,c=(new e).load(T("fenceMap0.png"),(e=>{e.wrapT=s,e.repeat.x=i[0],e.repeat.y=i[1],e.offset.y=f})),m=(new e).load(T("fenceMap1.png"),(e=>{e.wrapT=s,e.repeat.x=i[0],e.repeat.y=i[1],e.offset.x=f})),u=(new e).load(T("fenceMap2.png"),(e=>{e.wrapS=s,e.wrapT=s})),w=(e,s,a)=>{const i=[];for(let t=0;t<s.length;t++){const a=s[t];i.push(...e[a])}const f=new n,w=new Float32Array(i);f.setAttribute("position",new r(w,3));const x=s.length,b=new r(new Float32Array(3*x),3);f.setAttribute("normal",b);for(let t=0;t<x;t++)b.setXYZ(t,0,0,0);const d=new r(new Float32Array([1,1,0,1,0,0,0,0,1,0,1,1]),2);f.setAttribute("uv",d);const y=new o({color:a,map:c,transparent:!0,blending:p,side:g}),h=new o({color:a,map:m,transparent:!0,blending:p,side:g});var A=new o({color:a,map:u,opacity:.5,transparent:!0,side:g});const j=new l(f,y),M=new t,v=new l(f,h),F=new l(f,A);return M.add(j,v,F),M};return{createFence:(e,s=11009923)=>{const n=new t;var r=new a(e,s);r.update();const o=r.geometry.getAttribute("position").array,p=[];for(let t=0;t<o.length;t+=3){const e=o[t],s=o[t+1],a=o[t+2];p.push([e,s,a])}const g=w(p,[0,1,2,2,3,0],s),l=w(p,[4,5,6,6,7,4],s),i=w(p,[4,0,3,3,7,4],s),f=w(p,[1,5,6,6,2,1],s);return n.add(g,l,i,f),n},fenceAnimate:(e=1)=>{const s=.008*e;if(c){let e=c.offset.y-s;e<0&&(e=f),c.offset.y=e}if(m){let e=m.offset.y-s;e<0&&(e=f),m.offset.y=e}}}};export{_ as u};
