{"version":3,"file":"index-b4f39c22.js","sources":["../../../code/src/pages/css/preserve-3d/index.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n\n    <div :class=\"$style.wrap\">\n\n      <div :class=\"[$style.demo]\">\n        <el-radio-group v-model=\"opts.active\" class=\"pl-sm\" style=\"position: relative; z-index: 2;\">\n          <el-radio v-for=\"it in opts.list\" :value=\"it\"></el-radio>\n        </el-radio-group>\n        <div class=\"wrap\">\n          <div :class=\"$style.cylinder\" :style=\"{ '--bg-img': `url(/imgs/${opts.active}.jpg)` }\">\n            <div v-for=\"_i in 24\" class=\"item\"></div>\n          </div>\n        </div>\n      </div>\n\n      <div :class=\"$style.demo\">\n        <div :class=\"$style.cube\">\n          <div class=\"item\" v-for=\"i in 6\">{{ i }}</div>\n        </div>\n      </div>\n\n      <div :class=\"$style.demo\">\n        <div :class=\"$style['far-near']\">\n          <div class=\"object\"></div>\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n\nconst opts = reactive({\n  active: '09',\n  list: ['09', '10', '11']\n})\n</script>\n\n<style lang=\"scss\" module>\n.wrap {\n  gap: 10px;\n  padding: 10px;\n  display: flex;\n  flex-wrap: wrap;\n\n  .demo {\n    width: 400px;\n    height: 500px;\n    margin: 0 auto;\n    border: 1px solid #ddd;\n    overflow: hidden;\n    position: relative;\n    border-radius: 6px;\n  }\n}\n\n$circleLen: 24;\n$circleDeg: calc(360 / $circleLen);\n\n:global {\n  :local(.demo) {\n    .wrap {\n      position: relative;\n      transform: rotate(30deg);\n    }\n  }\n\n  :local(.cylinder) {\n    .item {\n      width: 25px;\n      height: 100%;\n      position: absolute;\n      border-top: 1px solid yellow;\n      border-bottom: 1px solid yellow;\n      background-image: var(--bg-img);\n\n      @for $i from 1 through $circleLen {\n        &:nth-child(#{ $i }) {\n          transform: rotateY(#{ $circleDeg * $i }deg) translateZ(90px);\n          background-position:-#{ 25 * $i }px 0;\n\n        }\n      }\n    }\n  }\n\n  :local(.cube) {\n    transform: rotateX(30deg) rotateY(30deg);\n\n    .item {\n      width: 100%;\n      height: 100%;\n      border: 1px solid #ccc;\n      display: flex;\n      opacity: .7;\n      position: absolute;\n      align-items: center;\n      justify-content: center;\n\n      &:nth-child(1) {\n        transform: translateZ(100px);\n        background: #06d206;\n      }\n\n      &:nth-child(2) {\n        transform: rotateY(180deg) translateZ(100px);\n        background: #05cece;\n      }\n\n      &:nth-child(3) {\n        transform: rotateY(90deg) translateZ(100px);\n        background: #e53552;\n      }\n\n      &:nth-child(4) {\n        transform: rotateY(-90deg) translateZ(100px);\n        background: #e6d308;\n      }\n\n      &:nth-child(5) {\n        transform: rotateX(90deg) translateZ(100px);\n        background: #0ad99b;\n      }\n\n      &:nth-child(6) {\n        transform: rotateX(-90deg) translateZ(100px);\n        background: #3838e1;\n      }\n    }\n  }\n\n  :local(.far-near) {\n    .object {\n      width: 90%;\n      height: 100px;\n      margin: 25% 5%;\n      transform: rotateX(30deg);\n      background: #03ea2a;\n    }\n  }\n}\n\n.cylinder {\n  --bg-img: url(/imgs/08.ipg);\n  width: 1px;\n  height: 350px;\n  margin: 40px auto;\n  position: relative;\n  transform: rotateX(30deg) rotateY(30deg);\n  transform-style: preserve-3d;\n  animation: anim 20s linear infinite;\n\n  @keyframes anim {\n    from {\n      transform: rotateX(30deg) rotateY(0) rotateZ(0);\n    }\n\n    to {\n      transform: rotateX(30deg) rotateY(-360deg) rotateZ(0);\n    }\n  }\n}\n\n.cube {\n  top: calc(50% - 100px);\n  left: calc(50% - 100px);\n  width: 200px;\n  height: 200px;\n  position: absolute;\n  font-size: 80px;\n  font-family: fantasy;\n  transform-style: preserve-3d;\n  animation: box_cube 7s linear infinite;\n\n  @keyframes box_cube {\n    from {\n      transform: rotateX(30deg) rotateY(0);\n    }\n\n    to {\n      transform: rotateX(390deg) rotateY(360deg);\n    }\n  }\n}\n\n.far-near {\n  top: calc(50% - 100px);\n  left: calc(50% - 100px);\n  width: 200px;\n  height: 200px;\n  border: 1px #eee solid;\n  position: absolute;\n  transform-style: preserve-3d;\n  animation: box_far_near 5s linear alternate infinite;\n\n  @keyframes box_far_near {\n    from {\n      perspective: 150px;\n    }\n\n    to {\n      perspective: 0px;\n    }\n  }\n}\n</style>"],"names":["opts","reactive","active","list"],"mappings":"4RAmCA,MAAAA,EAAAC,EAAA,CAAsBC,OAAA,KACZC,KAAA,CAAA,KAAA,KAAA"}