import{a as e}from"./index-f4c03a60.js";import{o as t,g as s,h as a,e as n,n as l,s as y,B as i,a9 as d,w as o,i as p,Y as x,l as c,F as r,r as m,a7 as u,a8 as C,m as h,u as v,aM as f,aa as L,f as W,ad as g,A as H,q as _,t as b,p as k,I as P,ah as V,cM as w,ar as T,as as D,aB as Q,av as O,aw as $,cN as M,cO as z}from"./vendor-20ed11f5.js";import{_ as B,D as G,l as X,P as S,u as j,b as I,m as F}from"./common-14aeaaac.js";const E={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},J=[a("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"},null,-1)];const U={name:"ep-delete",render:function(e,a){return t(),s("svg",E,[...J])}},A={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Y=[a("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"},null,-1)];const N={name:"ep-plus",render:function(e,a){return t(),s("svg",A,[...Y])}},R={name:"5-3-5-5",id:"5-3-5-5",devices:[{name:"分集水器",type:"JSQ",style:{x:173.71683135097686,y:47.8655025998552}},{name:"分集水器",type:"JSQ",style:{x:623.7160924526664,y:48.98920883101867}},{name:"1#冷冻泵",type:"LDB",deviceCode:"CHWP1",style:{x:100.36049026676278,y:199.2790282675063}},{name:"2#冷冻泵",type:"LDB",deviceCode:"CHWP2",style:{x:250.90122566690698,y:199.27902826750628}},{name:"3#冷冻泵",type:"LDB",deviceCode:"CHWP3",style:{x:401.4993419790782,y:197.49129407501778}},{name:"4#冷冻泵",type:"LDB",deviceCode:"CHWP4",style:{x:548.5219899062724,y:199.27902826750628}},{name:"5#冷冻泵",type:"LDB",deviceCode:"CHWP5",style:{x:700.793078586878,y:198.41385162727556}},{name:"1#离心机",type:"LXJ",deviceCode:"CHL1",style:{x:165.75212866603596,y:396.59414589123105}},{name:"2#离心机",type:"LXJ",deviceCode:"CHL2",style:{x:399.62157048249765,y:396.59414589123105}},{name:"3#离心机",type:"LXJ",deviceCode:"CHL3",style:{x:628.9498580889309,y:397.72943444373817}},{name:"1#冷却泵",type:"LQB",deviceCode:"CWP1",style:{x:99.15751035254021,y:572.9596503008339}},{name:"2#冷却泵",type:"LQB",deviceCode:"CWP2",style:{x:247.94383149448345,y:573.247718742164}},{name:"3#冷却泵",type:"LQB",deviceCode:"CWP3",style:{x:398.80240722166496,y:572.8404970771691}},{name:"4#冷却泵",type:"LQB",deviceCode:"CWP4",style:{x:548.8465396188566,y:573.247718742164}},{name:"5#冷却泵",type:"LQB",deviceCode:"CWP5",style:{x:698.5015045135406,y:573.4513295746615}},{name:"1#冷却塔",type:"LQT",deviceCode:"COT1",style:{x:697.8662604345353,y:747.5683448662304}},{name:"1#阀门(冷冻)",type:"LDFM",deviceCode:"CHWV1",style:{x:248.74254742547427,y:361.2357723577236},rotate:90},{name:"1#阀门(冷却)",type:"LQFM",deviceCode:"CWV1",style:{x:250.29058391379672,y:465.99498968464485},rotate:90},{name:"2#阀门(冷冻)",type:"LDFM",deviceCode:"CHWV2",style:{x:485.7425474254743,y:361.2357723577236},rotate:90},{name:"3#阀门(冷冻)",type:"LDFM",deviceCode:"CHWV3",style:{x:714.7425474254743,y:361.2357723577236},rotate:90},{name:"2#冷却塔",type:"LQT",deviceCode:"COT2",style:{x:548.4971099191288,y:747.0377326213325}},{name:"3#冷却塔",type:"LQT",deviceCode:"COT3",style:{x:398.1432498857984,y:748.4502427403049}},{name:"4#冷却塔",type:"LQT",deviceCode:"COT4",style:{x:248.85678162428923,y:747.2156868597556}},{name:"5#冷却塔",type:"LQT",deviceCode:"COT5",style:{x:98.17487180975786,y:747.7009632014001}},{name:"2#阀门(冷却)",type:"LQFM",deviceCode:"CWV2",style:{x:486.2905839137967,y:465.99498968464485},rotate:90},{name:"3#阀门(冷却)",type:"LQFM",deviceCode:"CWV3",style:{x:716.2905839137967,y:465.99498968464485},rotate:90},{name:"分水器压力",type:"DOT",unit:"kPa",deviceCode:"SYS_CHW_SP",style:{x:768.5201462561238,y:50.26536399073092}},{name:"水流量",type:"DOT",unit:"m³/h",style:{x:806.1468037663858,y:114.38106644708931}},{name:"冷冻供水温度",type:"DOT",unit:"℃",deviceCode:"SYS_CHW_ST",style:{x:627.190332326284,y:51.83383685800604}},{name:"集水器压力",type:"DOT",unit:"kPa",deviceCode:"SYS_CHW_RP",style:{x:54.330636949863475,y:48.91172608886967}},{name:"冷冻回水温度",type:"DOT",unit:"℃",deviceCode:"SYS_CHW_RT",style:{x:172.19730941704026,y:49.40209267563525}}],pipes:[{name:"冷冻回",type:"LDH",style:{x:5.1468713285025665,y:119.743904130075},bind:["CHWP2","CHWP3","CHWP5","CHWP4"],paths:[{x:5,y:5},{x:181.43334978906609,y:5}]},{name:"冷冻回",type:"LDH",style:{x:5.176112015520282,y:41.56947412716088},bind:["CHWP1","CHWP3","CHWP5","CHWP4","CHWP2"],paths:[{x:121.78163250171538,y:5},{x:5,y:5},{x:5,y:83.73139170559142}]},{name:"冷冻回",type:"LDH",style:{x:5.4890825472675395,y:118.57888049498001},bind:["CHWP1"],paths:[{x:5,y:5},{x:5,y:80.56866048862682},{x:61.183048600273366,y:80.56866048862682}]},{name:"冷冻回",type:"LDH",style:{x:180.69706491466138,y:120.32899777762339},bind:["CHWP2"],paths:[{x:5,y:5},{x:5,y:77.36875746530085},{x:40.086366504276874,y:77.36875746530085}]},{name:"冷冻回",type:"LDH",style:{x:181.08153093334235,y:119.84528353228083},bind:["CHWP3","CHWP4","CHWP5"],paths:[{x:5,y:5},{x:156.6006950607715,y:5}]},{name:"冷冻回",type:"LDH",style:{x:71.30101523260038,y:145.1144481926092},bind:["CHWP1"],paths:[{x:5,y:32.52867570385822},{x:5,y:5},{x:92.33585982761926,y:5},{x:92.33585982761926,y:105.75901328273231}]},{name:"冷冻回",type:"LDH",style:{x:220.785319932254,y:144.8291277979827},bind:["CHWP2"],paths:[{x:5,y:40.026151718524005},{x:5,y:5},{x:96.12568617852551,y:5},{x:96.12568617852551,y:104.99646682523225}]},{name:"冷冻回",type:"LDH",style:{x:93.23327466902668,y:288.43252970621137},bind:[[["CHWP1","CHWP2","CHWP3"],["CHWV1"]]],paths:[{x:5,y:5},{x:5,y:112.7787220842742},{x:37.17173510582402,y:112.7787220842742}]},{name:"冷冻回",type:"LDH",style:{x:93.02647889259275,y:292.3478155090287},bind:[[["CHWP1","CHWP2","CHWP3"],["CHWV2"]]],paths:[{x:5,y:5},{x:238.94962714723272,y:5},{x:238.94962714723272,y:108.77566818376444},{x:269.4623463761736,y:108.77566818376444}]},{name:"冷冻回",type:"LDH",style:{x:553.3288315260517,y:246.25046381346257},bind:[[["CHWP4","CHWP5"],["CHWV3"]]],paths:[{x:61.285859533609546,y:5},{x:5,y:5},{x:5,y:155.17543923416935},{x:36.27692922658564,y:155.17543923416935}]},{name:"冷冻供",type:"LDG",style:{x:199.19120710555012,y:324.0564903455582},bind:[[["CHL1"],["CHWV1"]]],paths:[{x:5,y:76.46171693735494},{x:45.621193647481185,y:76.46171693735494},{x:45.621193647481185,y:5},{x:282.00202373523354,y:5}]},{name:"冷冻供",type:"LDG",style:{x:434.9992945066391,y:324.1318736695971},bind:[[["CHL2"],["CHWV2"]]],paths:[{x:5,y:77.34106783965899},{x:46.7927711568358,y:77.34106783965899},{x:46.7927711568358,y:5}]},{name:"冷冻供",type:"LDG",style:{x:662.4871977324457,y:324.1318736695971},bind:[[["CHL3"],["CHWV3"]]],paths:[{x:5,y:77.64348719449768},{x:48.30486793102934,y:77.64348719449768},{x:48.30486793102934,y:5}]},{name:"冷冻供",type:"LDG",style:{x:475.915393654524,y:323.7943595769682},bind:[[["CHL1","CHL2"],["CHWV1","CHWV2"]]],paths:[{x:5,y:5},{x:234.6569122098892,y:5}]},{name:"冷冻供",type:"LDG",style:{x:658.9120373187887,y:43.628009620656144},bind:[[["CHL3","CHL2","CHL1"],["CHWV1","CHWV2","CHWV3"]]],paths:[{x:51.78744908635388,y:285.3372715017677},{x:145.94829460962507,y:285.3372715017677},{x:145.94829460962507,y:5},{x:5,y:5}]},{name:"冷冻供",type:"LDG",style:{x:404.22505307855675,y:44.16135881104034},paths:[{x:178.2696390658173,y:5},{x:5,y:5}]},{name:"冷冻回",type:"LDH",style:{x:210.62121052804295,y:43.673269144891414},paths:[{x:198.30726818918956,y:5},{x:5,y:5}]},{name:"冷却供",type:"LQG",style:{x:327.3562841506394,y:411.13828473348724},bind:[[["CHL3"],["CWV3"]]],paths:[{x:266.3260918845066,y:5},{x:230.18715847431795,y:5},{x:230.18715847431795,y:36.93595544710095},{x:5,y:36.93595544710095}]},{name:"冷却供",type:"LQG",style:{x:326.823950870011,y:410.3983225998629},bind:[[["CHL2"],["CWV2"]]],paths:[{x:42.76867963152509,y:5},{x:5,y:5},{x:5,y:38.02303378573207}]},{name:"冷却供",type:"LQG",style:{x:92.823950870011,y:410.0959032450242},bind:[[["CHL1"],["CWV1"]]],paths:[{x:42.76867963152509,y:5},{x:5,y:5},{x:5,y:38.32545314057078}]},{name:"冷却供",type:"LQG",style:{x:92.47980353740024,y:443.28273159352307},bind:[[["CHL3","CHL2"],["CWV2","CWV3"]]],paths:[{x:239.98340427063522,y:5},{x:5,y:5}]},{name:"冷却供",type:"LQG",style:{x:5.02571697480915,y:442.8169476052989},bind:[[["COT1","COT4","COT5","COT2","COT3"],["CWV1","CWV3","CWV2"]]],paths:[{x:92.35414572541963,y:5},{x:5,y:5},{x:5,y:245.11480061613295},{x:95.75633236350072,y:245.11480061613295}]},{name:"冷却供",type:"LQG",style:{x:94.60864141000266,y:682.5961543146217},bind:[[["COT5"],["CWV1","CWV3","CWV2"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:95.44513137557956,y:683.2349681824767},bind:[[["COT2","COT3","COT4","COT1"],["CWV1","CWV3","CWV2"]]],paths:[{x:5,y:5},{x:154.59498553519785,y:5}]},{name:"冷却供",type:"LQG",style:{x:245.04258547943388,y:682.3637531574375},bind:[[["COT4"],["CWV1","CWV3","CWV2"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:395.7306588739294,y:682.6343953592724},bind:[[["COT3"],["CWV1","CWV3","CWV2"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:545.1200754275252,y:682.1662813836957},bind:[[["COT2"],["CWV1","CWV3","CWV2"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:695.7306588739295,y:681.9098363362059},bind:[[["COT1"],["CWV2","CWV1","CWV3"]]],paths:[{x:5.0000427495003885,y:5},{x:5,y:62.195964596726746}]},{name:"冷却供",type:"LQG",style:{x:245.35147578645567,y:682.6246962791535},bind:[[["COT3","COT1","COT2"],["CWV2","CWV1","CWV3"]]],paths:[{x:5,y:5},{x:154.59498553519785,y:5}]},{name:"冷却供",type:"LQG",style:{x:394.0516655397763,y:683.0857968484133},bind:[[["COT2","COT1"],["CWV1","CWV3","CWV2"]]],paths:[{x:5,y:5},{x:154.59498553519785,y:5}]},{name:"冷却供",type:"LQG",style:{x:543.7670355587516,y:683.1412996947131},bind:[[["COT1"],["CWV2","CWV1","CWV3"]]],paths:[{x:5,y:5},{x:161.55063069648824,y:5}]},{name:"冷却回",type:"LQH",style:{x:95.05491990846676,y:760.2974828375284},bind:["COT5"],paths:[{x:5,y:5},{x:5,y:45.503432494279146},{x:154.5026489965244,y:45.503432494279146}]},{name:"冷却回",type:"LQH",style:{x:245.3017902813296,y:749.0000000000003},bind:["COT4"],paths:[{x:5,y:5},{x:5,y:57.173913043478294}]},{name:"冷却回",type:"LQH",style:{x:396.3017902813296,y:749.0000000000003},bind:["COT3"],paths:[{x:5,y:5},{x:5,y:57.173913043478294}]},{name:"冷却回",type:"LQH",style:{x:545.3017902813297,y:749.0000000000003},bind:["COT2"],paths:[{x:5,y:5},{x:5,y:57.173913043478294}]},{name:"冷却回",type:"LQH",style:{x:696.3017902813297,y:749.0000000000003},bind:["COT1"],paths:[{x:5,y:5},{x:5,y:57.173913043478294}]},{name:"冷却回",type:"LQH",style:{x:244.19537959054514,y:800.5343300954929},bind:["COT4","COT5"],paths:[{x:5,y:5},{x:156.7356279751008,y:5}]},{name:"冷却回",type:"LQH",style:{x:395.19537959054514,y:800.5343300954929},bind:["COT3","COT4","COT5"],paths:[{x:5,y:5},{x:156.7356279751008,y:5}]},{name:"冷却回",type:"LQH",style:{x:545.4505006333757,y:800.7894511383234},bind:["COT2","COT3","COT4","COT5"],paths:[{x:5,y:5},{x:156.7356279751008,y:5}]},{name:"冷却回",type:"LQH",style:{x:621.935924679972,y:639.6098457640825},bind:["COT2","COT1","COT3","COT4","COT5"],paths:[{x:80.17104391893645,y:166.35703552144815},{x:182.8023433836652,y:166.35703552144815},{x:182.8023433836652,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:623.4399649430319,y:568.3172655565289},bind:["CWP5"],paths:[{x:5,y:77.04206836108682},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:27.439964943031896,y:568.3172655565289},bind:["CWP1"],paths:[{x:147.12548015364916,y:76.74774327527875},{x:5,y:76.74774327527875},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:170.77395938968004,y:567.6512600031771},bind:["CWP2"],paths:[{x:5,y:77.04206836108682},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:327.4399649430319,y:568.3172655565289},bind:["CWP3"],paths:[{x:5,y:77.04206836108682},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:474.4399649430319,y:568.3172655565289},bind:["CWP4"],paths:[{x:5,y:77.04206836108682},{x:5,y:5},{x:52.103418054338256,y:5}]},{name:"冷却回",type:"LQH",style:{x:168.56789069171631,y:639.6384777085682},bind:["CWP1","CWP2"],paths:[{x:164.91768554582214,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:326.56789069171634,y:639.6384777085682},bind:["CWP1","CWP2","CWP3"],paths:[{x:153.67222000773245,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:474.56789069171634,y:639.6384777085682},bind:["CWP1","CWP2","CWP3","CWP4"],paths:[{x:153.67222000773245,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:69.311315582179,y:523.761340449448},bind:["CWP1"],paths:[{x:5,y:43.738427821212454},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:216.88088883195564,y:525.0918367346961},bind:["CWP2"],paths:[{x:5,y:40.204081632653015},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:217.1662565050762,y:524.5532370937624},bind:["CWP3"],paths:[{x:157.9728422624275,y:40.742681273586584},{x:157.9728422624275,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:519.098807698555,y:525.0918367346961},bind:["CWP4"],paths:[{x:5,y:34.58227584048946},{x:5,y:5},{x:154.6026526916489,y:5}]},{name:"冷却回",type:"LQH",style:{x:668.7295451261565,y:525.0918367346961},bind:["CWP5"],paths:[{x:5.00007473692602,y:40.204081632653015},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:665.4834412192785,y:411.5870923736879},bind:[[["CWP4","CWP5"],["CWV3"]]],paths:[{x:7.549129277015011,y:118.30074365537237},{x:45.39646100979569,y:118.30074365537237},{x:45.39646100979569,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:239.7619481770813,y:409.99168462102205},bind:[[["CWP1","CWP4","CWP2","CWP5","CWP3"],["CWV2"]]],paths:[{x:5,y:75.4896017248002},{x:242.01494889316112,y:75.4896017248002},{x:242.01494889316112,y:5},{x:201.92090723820417,y:5}]},{name:"冷却回",type:"LQH",style:{x:200.71608804368435,y:410.14243747162135},bind:[[["CWP1","CWP4","CWP5","CWP2","CWP3"],["CWV1"]]],paths:[{x:45.396461009795686,y:74.46164413950592},{x:45.396461009795686,y:5},{x:5,y:5}]},{name:"冷却回",type:"LQH",style:{x:68.55817496082885,y:480.0055720524886},bind:[[["CWP1","CWP2","CWP3"],["CWV1","CWV2"]]],paths:[{x:5,y:48.687108148666475},{x:5,y:5},{x:176.9197525982724,y:5}]},{name:"冷冻回",type:"LDH",style:{x:331.6970649146614,y:120.32899777762339},bind:["CHWP3"],paths:[{x:5,y:5},{x:5,y:77.36875746530085},{x:40.086366504276874,y:77.36875746530085}]},{name:"冷冻回",type:"LDH",style:{x:332.0815309333424,y:119.84528353228083},bind:["CHWP4","CHWP5"],paths:[{x:5,y:5},{x:153.6073469454721,y:5}]},{name:"冷冻回",type:"LDH",style:{x:311.59716169553894,y:144.8291277979827},bind:["CHWP3"],paths:[{x:65.18815823671473,y:40.026151718524005},{x:65.18815823671473,y:5},{x:156.85244405617362,y:5},{x:156.85244405617362,y:106.15187245081323},{x:5,y:106.15187245081323}]},{name:"冷冻回",type:"LDH",style:{x:479.6970649146614,y:120.32899777762339},bind:["CHWP4"],paths:[{x:5,y:5},{x:5,y:77.36875746530085},{x:40.086366504276874,y:77.36875746530085}]},{name:"冷冻回",type:"LDH",style:{x:632.6970649146614,y:120.32899777762339},bind:["CHWP5"],paths:[{x:5,y:5},{x:5,y:77.36875746530085},{x:40.086366504276874,y:77.36875746530085}]},{name:"冷冻回",type:"LDH",style:{x:480.0815309333424,y:119.84528353228083},bind:["CHWP5"],paths:[{x:5,y:5},{x:163.25257976143683,y:5}]},{name:"冷冻回",type:"LDH",style:{x:518.7853199322537,y:144.8291277979827},bind:["CHWP4"],paths:[{x:5,y:40.026151718524005},{x:5,y:5},{x:96.664285819459,y:5},{x:95.74509279370972,y:106.15187245081323}]},{name:"冷冻回",type:"LDH",style:{x:608.6967350805852,y:144.8291277979827},bind:["CHWP5"],paths:[{x:68.08858485166864,y:40.026151718524005},{x:68.08858485166864,y:5},{x:159.7528706711276,y:5},{x:159.7528706711276,y:106.15187245081323},{x:5,y:106.15187245081323}]},{name:"冷冻回",type:"LDH",style:{x:158.17991604211105,y:246.242774566474},bind:["CHWP2","CHWP3"],paths:[{x:160.3229741312994,y:5},{x:5,y:5}]},{name:"冷冻回",type:"LDH",style:{x:92.64023144378301,y:246.30411826821563},bind:["CHWP1","CHWP2","CHWP3"],paths:[{x:71.38827964386239,y:5},{x:5,y:5},{x:5,y:47.63275991024684}]},{name:"冷却回",type:"LQH",style:{x:67.84299319129771,y:524.6437768240348},bind:["CWP2","CWP3"],paths:[{x:153.82224286020445,y:5},{x:5,y:5}]}]},K=Object.assign({"./json/5-3-5-5/index.ts":R}),q=Object.keys(K).map((e=>K[e])),Z=B(n({__name:"line-point",props:{x:{},y:{},isEnd:{type:Boolean},isStart:{type:Boolean},isX:{type:Boolean}},emits:["mousedown","direction"],setup(e,{emit:a}){const n=a;return(e,a)=>(t(),s("div",{class:l({[e.$style.point]:!0,[e.$style["is-end"]]:e.isEnd,[e.$style["is-x"]]:!e.isEnd&&e.isX,[e.$style["is-y"]]:!e.isEnd&&!e.isX}),style:d({left:`${e.x}px`,top:`${e.y}px`}),onMousedown:a[1]||(a[1]=y((e=>n("mousedown",e)),["stop"]))},[e.isEnd?(t(),s("div",{key:0,class:l({[e.$style["point-direction"]]:!0,[e.$style["d-x"]]:e.isX,[e.$style["d-y"]]:!e.isX,[e.$style["is-start"]]:e.isStart}),onMousedown:a[0]||(a[0]=y((e=>n("direction",e)),["stop"]))},null,34)):i("",!0)],38))}}),[["__cssModules",{$style:{point:"_point_nafi7_2","is-end":"_is-end_nafi7_12","is-x":"_is-x_nafi7_16","is-y":"_is-y_nafi7_19","point-direction":"_point-direction_nafi7_22","d-x":"_d-x_nafi7_26","d-y":"_d-y_nafi7_33"}}]]),ee=["width","height"],te=["stroke","stroke-width","d"],se={key:0,attributeName:"stroke-dashoffset",values:"0;-120",dur:"2s",repeatCount:"indefinite"},ae=B(n({__name:"pipe",props:{list:{},active:{},type:{},width:{default:6},scale:{},gap:{default:2},display:{type:Boolean},hideType:{},locked:{type:Boolean},animate:{type:Boolean}},emits:["click","mousedown","mouseup","change"],setup(e,{expose:n,emit:y}){const W=e,g=y;o((()=>W.list),(async()=>{N(),await L(),U()}),{deep:!0});const H=p([]),_=p(),b=x({isPointer:!1,isMove:!1,list:[]}),k=e=>{const t=_.value.parentNode.parentNode.parentNode.getBoundingClientRect(),s=W.scale??1,a=(e.clientX-t.x)/s,n=(e.clientY-t.y)/s,l=H.value;let y=!1,i=-1;for(let d=0;d<l.length;d++){const e=l[d],t=b.list[d];if(!t)break;const s=t.style||{},o=e.getContext("2d"),p=a-(s.x??0),x=n-(s.y??0);if(y=o.isPointInStroke(p,x),y){i=d;break}}return{isInside:y,index:i}},P=e=>{const t=k(e).isInside;b.isPointer=t},V=e=>{const{isInside:t,index:s}=k(e);t&&(e.stopPropagation(),e.preventDefault(),g("mousedown",e,s,b.list[s],W.type))},w=e=>{var t;return!W.display||!(null==(t=W.hideType)?void 0:t.includes(e.type))},T=()=>(W.width??6)+2*(W.gap??0),D=e=>{const t=G.i,s=b.list[e],a=s.paths.length;return a==s.points.length?t:t==a?a-1:0==t?0:t-1};let Q=.5;const O=e=>{if(e>b.list.length-1)return;const t=b.list[e],s=T()/2,a=t.paths,n=a.length;let l=0,y=0,i=a[0].x,d=a[0].y;for(let o=n-1;o>=0;o--){const t=a[o];if(!t)break;const{x:s,y:p}=t;s>l&&(l=s),p>y&&(y=p),i>s&&(i=s),d>p&&(d=p);const x=a[o-1];if(!x)break;const{x:c,y:r}=x;if(c!=s&&r!=p&&n<=2){const t=(s-c)/2+c,n={x:t,y:r},l={x:t,y:p};o==D(e)&&(G.i+=2),a.splice(o,0,n,l)}a.length>2&&(s==c&&p==r||Math.abs(s-c)<=Q&&Math.abs(p-r)<=Q&&(t.moved||R))&&(o<=G.i&&(G.i-=1),a[o].moved=!0,a.splice(o-1,1));const m=a[o+1];m&&((m.x==t.x&&t.x==x.x&&(m.y>t.y&&t.y>x.y||m.y<t.y&&t.y<x.y)||m.y==t.y&&t.y==x.y&&(m.x>t.x&&t.x>x.x||m.x<t.x&&t.x<x.x))&&(G.i-o>2||R)&&(G.i-=1,a.splice(o,1)))}i>s&&M(e,i-s),d>s&&z(e,d-s),(e=>{const t=b.list[e].paths;if(t.length<=2)return;const s=D(e),a=t[s],n=0==s?1:-1,l=t[s+n];if(!l)return;let{x:y,y:i}=l,{x:d,y:o}=a;d!==y&&(i=o),t[s+n].y=i})(e),t.width=l+s,t.height=y+s},$=(e,t)=>{const{x:s,y:a}=e,n=b.list[t],l=D(t),y=T()/2,i=n.paths,d=i.length;if(0==l||l==d-1){const e=0==l?l:d-1;let{x:o,y:p}=i[e];o+=s,p+=a,p<y&&(z(t,p-y),p=y),o<y&&(M(t,o-y),o=y);n.paths[e].moved&&!G.isDire?((e,t)=>{const s=b.list[e].paths,a=s.length,n=D(e),{x:l,y:y,moved:i}=s[n];if(!i)return;const d=s[n+1];if(0==n&&d)if(d.moved){const e=(t.y-y)/2+y,a={x:t.x,y:t.y},i={x:l,y:e};s.splice(n+1,0,a,i)}else s[n].x=t.x,s[n].y=t.y;if(n==a-1){const a={x:l,y:(t.y-y)/2+y},i={x:l,y:t.y};n==D(e)&&(G.i+=2),s.splice(n+1,0,a,i)}})(t,{x:o,y:p}):(n.paths[e].x=o,n.paths[e].y=p)}O(t)},M=(e,t)=>{const s=b.list[e];s.style.x+=t;const a=s.paths;for(let n=0;n<a.length;n++)a[n].x-=t},z=(e,t)=>{const s=b.list[e];s.style.y+=t;const a=s.paths;for(let n=0;n<a.length;n++)a[n].y-=t},B=e=>{const{index:t,i:s}=G;let{x:a,y:n}=e;const l=W.scale??1;a/=l,n/=l;const y=b.list[t].points;0==s||s==y.length-1?$({x:a,y:n},t):(e=>{const{index:t,i:s}=G,a=b.list[t].paths,n=a[s],l=a[s-1];if(!n||!l)return;const y=T()/2;if(Y(n,l)){let l=n.y+e.y;l<y&&(z(t,l-y),l=y),a[s].y=l,a[s-1].y=l}else{let l=n.x+e.x;l<y&&(M(t,l-y),l=y),a[s].x=l,a[s-1].x=l}a[s].moved=!0,a[s-1].moved=!0,O(t)})({x:a,y:n})},G={x:0,y:0,index:-1,i:-1,isDire:!1,isX:!1},X=e=>{let t=!Boolean(e.changedTouches);const s=t?e:e.changedTouches[0];return{x:s[t?"clientX":"pageX"],y:s[t?"clientY":"pageY"]}},S=e=>{const t=G.isDire,s=G.isX,{x:a,y:n}=X(e),l={x:a-G.x,y:n-G.y};t&&(s?l.y=0:l.x=0),B(l),G.x=a,G.y=n},j=()=>{G.i=-1},I=(e,t,s)=>{G.isDire=!1;const{x:a,y:n}=X(e);G.x=a,G.y=n,G.i=s,G.index=t,document.body.onmousemove=e=>{S(e)},document.body.onmouseleave=F,document.body.onmouseup=F},F=e=>{G.i<0||(S(e),document.body.onmousemove=null,document.body.onmouseup=null,document.body.onmouseleave=null,g("change"))},E=(e,t)=>{const s=Number(`0x${e.substring(1)}`);return`rgba(${s>>16&255}, ${s>>8&255}, ${255&s}, ${t})`},J=(e,t)=>{const s=window.devicePixelRatio??1,{x:a,y:n}=t;e.lineTo(a*s,n*s)},U=()=>{H.value.forEach(((e,t)=>{(e=>{const t=window.devicePixelRatio??1,s=H.value[e];if(!s)return;const a=b.list[e];s.width=a.width*t,s.height=a.height*t;const n=s.getContext("2d");if(!s.getContext)return;a.paths.forEach(((e,s)=>{if(0==s){const{x:s,y:a}=e;n.moveTo(s*t,a*t)}else J(n,e)})),n.lineWidth=T()*t,n.strokeStyle=E(a.color,.4),n.stroke()})(t)}))},A=(e,t)=>{const s=b.list[e].paths,a=s.length;let n=-1;0==t?n=1:t>=a&&(t=a-1);const l=s[t],y=s[t+n];return Y(l,y)},Y=(e,t)=>e.y==t.y,N=()=>{b.list=W.list.map((e=>{const t=f(e);return t.points=(e=>{let t=[];for(let s=0;s<e.length;s++){const a=e[s];if((0==s||s==e.length-1)&&(t.push([a.x,a.y]),s==e.length-1))break;const{x:n,y:l}=a,y=e[s+1],{x:i,y:d}=y;Y(a,y)?t.push([(i-n)/2+n,d]):t.push([i,(d-l)/2+l])}return t})(t.paths),t}))};let R=!1;return N(),c(U),n({optimize:()=>{const e=Q;Q=2,R=!0,G.i=0,H.value.forEach(((e,t)=>{O(t)})),Q=e,R=!1}}),(e,n)=>(t(),s("div",{ref_key:"pipeRef",ref:_,class:l({[e.$style.pipes]:!0,[e.$style["is-locked"]]:e.locked,[e.$style["is-pointer"]]:v(b).isPointer}),onMousemove:P,onMousedown:V},[(t(!0),s(r,null,m(v(b).list,((y,o)=>{return u((t(),s("div",{key:o,style:d({left:`${y.style.x}px`,top:`${y.style.y}px`,marginTop:`${y.my}px`,marginLeft:`${y.mx}px`,zIndex:y.zIndex}),class:l({[e.$style.item]:!0,[e.$style["is-active"]]:e.active==o})},[a("div",{class:l(e.$style["item-wrap"]),style:d({width:`${y.width}px`,height:`${y.height}px`}),onMousedown:j,onMouseup:F},[a("canvas",{ref_for:!0,ref:e=>((e,t)=>{H.value[t]=e})(e,o)},n[0]||(n[0]=[a("span",null,"你的浏览器不支持 canvas，请升级你的浏览器。",-1)]),512),(t(),s("svg",{width:y.width,height:y.height},[a("path",{stroke:E(y.color,.8),"stroke-width":e.width,"stroke-dasharray":"20,20",fill:"transparent",d:(p=y.paths,p.map(((e,t)=>`${0==t?"M":"L"}${e.x} ${e.y}`)).join(" "))},[e.animate?(t(),s("animate",se)):i("",!0)],8,te)],8,ee)),e.active==o?(t(!0),s(r,{key:0},m(y.points,((e,s)=>(t(),h(Z,{x:e[0],y:e[1],"is-start":0==s,"is-end":0==s||s==y.points.length-1,"is-x":A(o,s),onMousedown:e=>I(e,o,s),onDirection:e=>((e,t,s)=>{const a=A(t,s);G.isX=a,I(e,t,s),G.isDire=!0})(e,o,s)},null,8,["x","y","is-start","is-end","is-x","onMousedown","onDirection"])))),256)):i("",!0)],38)],6)),[[C,w(y)]]);var p})),128))],34))}}),[["__cssModules",{$style:{pipes:"_pipes_jc6ti_2","is-locked":"_is-locked_jc6ti_2","is-pointer":"_is-pointer_jc6ti_7",item:"_item_jc6ti_10","is-active":"_is-active_jc6ti_13","item-wrap":"_item-wrap_jc6ti_23",dash:"_dash_jc6ti_1"}}]]),ne=[{name:"冷冻回",type:S.LDH,color:"#2263E7"},{name:"冷冻供",type:S.LDG,color:"#2A19CC"},{name:"冷却供",type:S.LQG,color:"#CA691B"},{name:"冷却回",type:S.LQH,color:"#1F6C28"}],le=[{name:"冷冻泵",type:G.LDB,key:X.CHWP},{name:"冷却泵",type:G.LQB,key:X.CWP},{name:"阀门(冷冻)",type:G.LDFM,key:X.CHWV},{name:"阀门(冷却)",type:G.LQFM,key:X.CWV},{name:"冷却塔",type:G.LQT,key:X.COT},{name:"离心机",type:G.LXJ,key:X.CHL},{name:"分集水器",type:G.JSQ},{name:"监测点",type:G.DOT}],ye=["data-index"],ie=["data-index"],de=["src"],oe={class:"flex flex-ac"},pe={class:"pl-xs"},xe={class:"pl-xs pr-xs"},ce={key:0,class:"flex"},re={class:"flex"},me={key:1,class:"flex"},ue={key:2,class:"flex"},Ce={key:3,class:"flex"},he={class:"flex"},ve={class:"flex"},fe={key:4,class:"flex"},Le={class:"pl-xs"},We={class:"e-drag__dot-content"},ge=B(n({__name:"index",setup(n){const c=j(),u=I();o((()=>c.sidebar.opened),(()=>{setTimeout((()=>{var e;null==(e=f.value)||e.resize()}),300)}));const C=p(),f=p(),L=x({filters:{},forms:{template:{label:"模板",type:"select",clearable:!0,items:[]},animate:{label:"管路动画",type:"switch",value:!1,cols:.5},lockeDev:{label:"锁定设备",type:"switch",value:!1,cols:.5},lockePipe:{label:"锁定管路",type:"switch",value:!1,cols:.5},display:{label:"隐藏",type:"switch",value:!1,cols:.5},type:{label:"隐藏元素",type:"checkbox",hide:!0,custom:{label:"name",value:"type"},items:ne.concat(le)}},pipes:ne,devices:le,drag:{width:1200,height:900,key:"",index:-1,zIndex:0},edit:{scale:1,type:"",index:-1,devices:[],pipes:[],text:""}}),B="devices",X="pipes",E=x({width:2,gap:4}),J=W((()=>{let e={};return L.edit.index<0||(e=L.edit[L.edit.type][L.edit.index]),e})),A=W((()=>{const e=J.value.type;if(!e)return[];const t=L.edit.devices;let s=[];switch(e){case S.LDG:case S.LDH:s=[G.LDB,G.LXJ,G.LDFM];break;case S.LQG:s=[G.LQT,G.LXJ,G.LQFM];break;case S.LQH:s=[G.LQB,G.LXJ,G.LQT,G.LQFM]}return t.filter((e=>s.includes(e.type)))})),Y=W((()=>{const e=J.value.type;if(!e)return[];const t=L.edit.devices;let s=[];switch(e){case S.LDG:case S.LDH:s=[G.LDFM];break;case S.LQG:case S.LQH:s=[G.LQFM]}return t.filter((e=>s.includes(e.type)))})),R=W((()=>{const e=J.value.type;if(!e)return[];const t=L.edit.devices;let s=[];switch(e){case S.LDG:case S.LDH:s=[G.LDB,G.LXJ];break;case S.LQG:s=[G.LQT,G.LXJ];break;case S.LQH:s=[G.LQB,G.LXJ,G.LQT]}return t.filter((e=>s.includes(e.type)))})),K=e=>{const t=L.edit[e].map((e=>{let{name:t,type:s,unit:a,deviceCode:n,style:l,rotate:y,bind:i,parallel:d,paths:o}=e;return o&&(o=o.map((({x:e,y:t})=>({x:e,y:t})))),d&&d.length&&d[0][0].length>0&&(i=d),{name:t,type:s,unit:a,deviceCode:n,style:l,rotate:y,bind:i,paths:o}})),s=JSON.stringify(t,((e,t)=>{if(!(""===t||void 0===t||t instanceof Array&&0==t.length))return t}),2);L.edit.text=s,F(s)},Z=()=>{L.edit.index=-1,L.edit.devices=[],L.edit.pipes=[],je()},ee=p(),te=()=>{var e;null==(e=ee.value)||e.optimize(),je()},se=()=>{},ge=()=>{je()},He=(e,t="")=>Number(t.replace(e,"")),_e=e=>{let t=0;const s=L.edit.devices.filter((t=>t.key==e)).sort(((t,s)=>He(e,t.deviceCode)-He(e,s.deviceCode)));for(let a=0;a<s.length;a++){const n=s[a],l=He(e,n.deviceCode);if(l-t>1)break;l>0&&(t=l)}return t},be=e=>{const t=e.key;if(e.name.indexOf("#")>-1&&(e.name=e.name.split("#")[1]),!t)return e.name;return`${_e(t)+1}#${e.name}`},ke=e=>{const t=e.key;if(!t)return"";return`${t}${_e(t)+1}`},Pe=(e,t,s)=>{},Ve={isMove:!1,x:0,y:0,tsp:0,time:10},we=(e,t,s,a)=>{Ve.isMove=!0,Ve.tsp=Date.now(),((e,t)=>{const s=L.edit;if(s.type=e,s.index==t)return;s.index=t;const a=L.drag;s[e][t].zIndex=a.zIndex,a.zIndex++})(a,t);const n=!Boolean(e.changedTouches),l=n?e:e.changedTouches[0];Ve.x=l[n?"clientX":"pageX"],Ve.y=l[n?"clientY":"pageY"]},Te=e=>{var t;if(!Ve.isMove||L.edit.index<0)return;if(Date.now()-Ve.tsp<Ve.time)return void(Ve.isMove=!1);const s=!Boolean(e.changedTouches),a=s?e:e.changedTouches[0],n=a[s?"clientX":"pageX"]-Ve.x,l=a[s?"clientY":"pageY"]-Ve.y,y=null==(t=f.value)?void 0:t.getSize(),i=L.edit[L.edit.type][L.edit.index];i.mx=n/y.scale,i.my=l/y.scale},De=e=>{if(!Ve.isMove)return;if(Ve.isMove=!1,L.edit.index<0)return;const t=L.edit[L.edit.type][L.edit.index];let s=t.mx??0,a=t.my??0;0!=s&&(s+=t.style.x,t.style.x=s),0!=a&&(a+=t.style.y,t.style.y=a),t.mx=0,t.my=0,je()},Qe=e=>u.getDeviceSrc(e),Oe=e=>{const t=e.target.dataset;e.dataTransfer.effectAllowed=null==t?void 0:t.effect;const s=L.drag;s.key=null==t?void 0:t.key,s.index=null==t?void 0:t.index,s.zIndex++},$e=e=>{e.preventDefault()},Me=e=>{Be();const t=Ge(e.target);t&&t.dataset.drop==e.dataTransfer.effectAllowed&&t.classList.add("drop-over")},ze=e=>{Be();const t=Ge(e.target);if(t&&t.dataset.drop==e.dataTransfer.effectAllowed){const{key:t,index:s}=L.drag;if(t){const a=L[t][s];"devices"==t?((e,t)=>{var s;const{x:a,y:n}=null==(s=f.value)?void 0:s.displace(e);L.edit.devices.push({...t,zIndex:L.drag.zIndex,name:be(t),deviceCode:ke(t),status:0,error:0,style:{x:a,y:n}})})(e,a):((e,t)=>{var s;const{x:a,y:n}=null==(s=f.value)?void 0:s.displace(e),l=E.width+2*E.gap,y=l/2;L.edit.pipes.push({...t,style:{x:a,y:n},width:100,height:l,zIndex:L.drag.zIndex,paths:[{x:y,y:y},{x:100-y,y:y}],bind:[],parallel:[[[],[]]]})})(e,a),L.edit.type=L.drag.key,L.edit.index=L.edit[t].length-1,je()}}},Be=()=>{document.querySelectorAll(".drop-over").forEach((e=>{e.classList.remove("drop-over")}))},Ge=e=>{for(;e;){if(e.dataset&&e.dataset.drop)return e;e=e.parentNode}},Xe=e=>{let t=e;return e instanceof Array?t=e.map((e=>Xe(e))):"[object Object]"==Object.prototype.toString.call(e)&&(t={},Object.keys(e).forEach((s=>{let a=e[s];(a instanceof Array||"[object Object]"==Object.prototype.toString.call(e))&&(a=Xe(a)),t[s]=a}))),t},Se={max:50,list:[],tsp:0,time:500},je=()=>{const e=Date.now();if(e-Se.tsp<Se.time)return;Se.tsp=e;const t=Se.list;t.length>=Se.max&&t.splice(0,1);const s=Xe(L.edit);t.push(s)},Ie=e=>{const t=e.keyCode;if(e.ctrlKey&&90==t)return void(()=>{const e=Se.list,t=e.length;if(0==t)return;const s=e[t-2];if(s){const e=Xe(s);Object.keys(e).forEach((e=>{L.edit[e]=Xe(s[e])}))}t>1&&e.splice(t-1,1)})();const{index:s,type:a}=L.edit;return s<0||!a?void 0:46==t?(L.edit[a].splice(s,1),L.edit.index=-1,void je()):void(e.ctrlKey&&86==t&&((e,t)=>{const s=Xe(L.edit[e][t]);"devices"==e&&s.type!==G.DOT&&(s.name=be(s),s.deviceCode=ke(s)),s.style.x+=50,L.drag.zIndex++,s.zIndex=L.drag.zIndex,L.edit.index=L.edit[e].length,L.edit[e].push(s),je()})(a,s))},Fe=e=>{const t=e.keyCode,{index:s,type:a}=L.edit;if(s<0||!a||Ve.isMove)return;const n={x:0,y:0};switch(t){case 38:case 87:n.y-=1;break;case 40:case 83:n.y+=1;break;case 37:case 65:n.x-=1;break;case 39:case 68:n.x+=1}0==n.x&&0==n.y||Ee(n)},Ee=e=>{const t=L.edit[L.edit.type][L.edit.index];0!=e.x&&(t.style.x+=e.x),0!=e.y&&(t.style.y+=e.y),je()},Je=()=>{const e=L.edit;e[e.type][e.index].parallel.push([[],[]])},Ue=e=>{if(!e)return;const t=q.find((t=>t.id==e));let s=0;const a=null==t?void 0:t.pipes.map((e=>{var t;const a=Xe(e);a.bind||(a.bind=[]),a.bind[0]instanceof Array?(a.parallel=a.bind,a.bind=[]):a.parallel=[[[],[]]];const{width:n,height:l}=(e=>{let t=0,s=0;for(let n=0;n<e.length;n++){const{x:a,y:l}=e[n];e[n].moved=!0,a>t&&(t=a),l>s&&(s=l)}const a=E.width/2+E.gap;return{width:t+a,height:s+a}})(a.paths);return a.width=n,a.height=l,a.zIndex=s++,a.color=(null==(t=L.pipes.find((e=>e.type==a.type)))?void 0:t.color)||"#000",a})),n=null==t?void 0:t.devices.map((e=>{var t;const a=Xe(e);return a.key=null==(t=a.deviceCode)?void 0:t.replace(/[^a-zA-Z]/g,""),a.zIndex=s++,a}));L.drag.zIndex=s,L.edit.devices=n,L.edit.pipes=a,je()},Ae=(e,t)=>{if(L.filters[e]=t,"display"==e){L.forms.type.hide=!t}else"template"==e&&Ue(t)};return(()=>{const e=L.forms;e.template.items=q.map((e=>({label:e.name,value:e.id}))),e.template.onChange=e=>Ae("template",e),e.animate.onChange=e=>Ae("animate",e),e.lockeDev.onChange=e=>Ae("lockeDev",e),e.lockePipe.onChange=e=>Ae("lockePipe",e),e.display.onChange=e=>Ae("display",e),e.type.onChange=e=>Ae("type",e)})(),je(),window.addEventListener("keydown",Fe,!1),window.addEventListener("keyup",Ie,!1),g((()=>{window.removeEventListener("keydown",Fe),window.removeEventListener("keyup",Ie)})),(n,o)=>{const p=H("e-form"),x=V,c=w,u=T,W=D,g=Q,S=O,j=$,I=N,F=U,q=M,ne=z,le=e,He=H("e-drag");return t(),s("div",{class:l([n.$style.page,"flex"]),ref_key:"pageRef",ref:C,style:d({"--scale":v(L).edit.scale}),onDragstart:Oe,onDragover:y($e,["prevent"]),onDragenter:Me,onDrop:y(ze,["prevent"])},[a("div",{class:l([n.$style.tools,"p-sm o-a"])},[a("div",{class:l(n.$style.group)},[a("div",{class:l(n.$style.wrap)},[_(p,{forms:v(L).forms,size:"small",inline:!0,cols:1},null,8,["forms"])],2)],2),a("div",{class:l([n.$style.group,n.$style.line])},[a("div",{class:l(n.$style.title)},"管路",2),a("div",{class:l(n.$style.wrap)},[(t(!0),s(r,null,m(v(L).pipes,((e,y)=>(t(),s("div",{class:l(n.$style.item),style:d({"--color":e.color}),"data-effect":"copy","data-key":"pipes","data-index":y,draggable:!0},[a("div",{class:l(n.$style.name)},b(e.name)+"：",3),a("div",{class:l(n.$style.pipe)},null,2)],14,ye)))),256))],2)],2),a("div",{class:l([n.$style.group,n.$style.device])},[a("div",{class:l(n.$style.title)},"设备",2),a("div",{class:l(n.$style.wrap)},[(t(!0),s(r,null,m(v(L).devices,((e,y)=>(t(),s("div",{class:l({[n.$style.item]:!0,[n.$style["is-dot"]]:e.type==v(G).DOT}),"data-effect":"copy","data-key":"devices","data-index":y,draggable:!0},[e.type!=v(G).DOT?(t(),s("img",{key:0,src:Qe(e),draggable:"false"},null,8,de)):(t(),s("div",{key:1,class:l(n.$style.dot)},null,2)),a("div",{class:l(n.$style.name)},b(e.name),3)],10,ie)))),256))],2)],2),_(c,null,{default:k((()=>[_(x,{type:"primary",size:"small",onClick:o[0]||(o[0]=e=>K("devices"))},{default:k((()=>o[17]||(o[17]=[P("设备")]))),_:1}),_(x,{type:"primary",size:"small",onClick:o[1]||(o[1]=e=>K("pipes"))},{default:k((()=>o[18]||(o[18]=[P("管路")]))),_:1}),_(x,{type:"danger",size:"small",onClick:Z},{default:k((()=>o[19]||(o[19]=[P("清空")]))),_:1}),_(x,{type:"warning",size:"small",onClick:te},{default:k((()=>o[20]||(o[20]=[P("优化")]))),_:1}),_(x,{type:"primary",size:"small",onClick:se},{default:k((()=>o[21]||(o[21]=[P("log")]))),_:1})])),_:1}),_(u,{class:"mt-xs",type:"textarea",modelValue:v(L).edit.text,"onUpdate:modelValue":o[2]||(o[2]=e=>v(L).edit.text=e),placeholder:"JSON 数据"},null,8,["modelValue"])],2),a("div",{class:l([n.$style.wrapper,"f-x o-h"])},[a("div",{class:l(n.$style["drag-info"])},[a("div",oe,[o[22]||(o[22]=a("span",null,"画布大小：",-1)),_(W,{size:"small",modelValue:v(L).drag.width,"onUpdate:modelValue":o[3]||(o[3]=e=>v(L).drag.width=e),onKeyup:o[4]||(o[4]=y((()=>{}),["stop"]))},null,8,["modelValue"]),o[23]||(o[23]=a("span",{class:"pl-xs pr-xs"}," X ",-1)),_(W,{size:"small",modelValue:v(L).drag.height,"onUpdate:modelValue":o[5]||(o[5]=e=>v(L).drag.height=e),onKeyup:o[6]||(o[6]=y((()=>{}),["stop"]))},null,8,["modelValue"])])],2),_(ne,{class:l(n.$style["device-info"]),accordion:""},{default:k((()=>[_(q,{name:"1"},{title:k((()=>[a("span",pe,b(v(J).name),1)])),default:k((()=>{var e,d;return[a("div",xe,[v(J).type==v(G).DOT?(t(),s("div",ce,[o[24]||(o[24]=a("span",null,"名称：",-1)),a("span",null,[_(u,{size:"small",modelValue:v(J).name,"onUpdate:modelValue":o[7]||(o[7]=e=>v(J).name=e),placeholder:"请输入",onChange:je,onKeyup:o[8]||(o[8]=y((()=>{}),["stop"]))},null,8,["modelValue"])])])):i("",!0),a("div",re,[o[25]||(o[25]=a("span",null,"类型：",-1)),a("span",null,b(v(J).type),1)]),v(J).type==v(G).DOT?(t(),s("div",me,[o[26]||(o[26]=a("span",null,"编号：",-1)),a("span",null,[_(u,{size:"small",modelValue:v(J).deviceCode,"onUpdate:modelValue":o[9]||(o[9]=e=>v(J).deviceCode=e),placeholder:"请输入",onChange:je,onKeyup:o[10]||(o[10]=y((()=>{}),["stop"]))},null,8,["modelValue"])])])):v(J).deviceCode?(t(),s("div",ue,[o[27]||(o[27]=a("span",null,"编号：",-1)),a("span",null,b(v(J).deviceCode),1)])):i("",!0),v(J).type==v(G).DOT?(t(),s("div",Ce,[o[28]||(o[28]=a("span",null,"单位：",-1)),a("span",null,[_(u,{size:"small",modelValue:v(J).unit,"onUpdate:modelValue":o[11]||(o[11]=e=>v(J).unit=e),placeholder:"请输入",onChange:je,onKeyup:o[12]||(o[12]=y((()=>{}),["stop"]))},null,8,["modelValue"])])])):i("",!0),a("div",he,[o[29]||(o[29]=a("span",null,"坐标：",-1)),a("span",null,"x: "+b(null==(e=v(J).style)?void 0:e.x.toFixed(2))+", y: "+b(null==(d=v(J).style)?void 0:d.y.toFixed(2)),1)]),a("div",ve,[o[30]||(o[30]=a("span",null,"角度：",-1)),_(g,{class:"f-x",modelValue:v(J).rotate,"onUpdate:modelValue":o[13]||(o[13]=e=>v(J).rotate=e),min:0,max:360,"show-input":"",size:"small",onChange:je,onKeyup:o[14]||(o[14]=y((()=>{}),["stop"]))},null,8,["modelValue"])]),v(J).bind?(t(),s("div",fe,[o[31]||(o[31]=a("span",{class:"pt-xs"},"关联：",-1)),_(j,{class:"f-x",modelValue:v(J).bind,"onUpdate:modelValue":o[15]||(o[15]=e=>v(J).bind=e),onChange:je},{default:k((()=>[(t(!0),s(r,null,m(v(A),(e=>(t(),h(S,{value:e.deviceCode},{default:k((()=>[P(b(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])):i("",!0),v(J).parallel?(t(),h(ne,{key:5,accordion:"",class:l(n.$style.parallel)},{default:k((()=>[_(q,{name:"2"},{title:k((()=>[o[32]||(o[32]=a("span",{class:"pl-xs"},"并联：",-1)),_(x,{size:"small",circle:"",plain:"",onClick:y(Je,["stop"])},{default:k((()=>[_(I)])),_:1})])),default:k((()=>[a("div",Le,[(t(!0),s(r,null,m(v(J).parallel,((e,y)=>(t(),s("div",{class:l(n.$style.item)},[o[33]||(o[33]=a("span",null,"设备：",-1)),_(x,{size:"small",circle:"",plain:"",onClick:e=>(e=>{const t=L.edit;t[t.type][t.index].parallel.splice(e,1)})(y)},{default:k((()=>[_(F)])),_:2},1032,["onClick"]),_(j,{class:"f-x",modelValue:e[0],"onUpdate:modelValue":t=>e[0]=t,onChange:je},{default:k((()=>[(t(!0),s(r,null,m(v(R),(e=>(t(),h(S,{value:e.deviceCode},{default:k((()=>[P(b(e.name),1)])),_:2},1032,["value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"]),o[34]||(o[34]=a("span",null,"阀门：",-1)),_(j,{class:"f-x",modelValue:e[1],"onUpdate:modelValue":t=>e[1]=t},{default:k((()=>[(t(!0),s(r,null,m(v(Y),(e=>(t(),h(S,{value:e.deviceCode},{default:k((()=>[P(b(e.name),1)])),_:2},1032,["value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue"])],2)))),256))])])),_:1})])),_:1},8,["class"])):i("",!0),_(u,{type:"textarea",value:JSON.stringify(v(J),void 0,2)},null,8,["value"])])]})),_:1})])),_:1},8,["class"]),_(He,{ref_key:"dragRef",ref:f,width:v(L).drag.width,height:v(L).drag.height,"data-drop":"copy",zoom:v(L).edit.scale,"onUpdate:zoom":o[16]||(o[16]=e=>v(L).edit.scale=e),onMousemove:Te,onMouseup:De},{default:k((()=>[a("div",We,[_(le,{list:v(L).edit.devices,type:B,locked:v(L).filters.lockeDev,display:v(L).filters.display,"hide-type":v(L).filters.type,"show-name":!0,active:v(L).edit.type===B?v(L).edit.index:-1,onClick:Pe,onMousedown:y(we,["stop"]),onMouseup:y(De,["stop"])},null,8,["list","type","locked","display","hide-type","active"]),_(ae,{ref_key:"pipeRef",ref:ee,list:v(L).edit.pipes,type:X,locked:v(L).filters.lockePipe,animate:v(L).filters.animate,display:v(L).filters.display,"hide-type":v(L).filters.type,width:v(E).width,gap:v(E).gap,scale:v(L).edit.scale,active:v(L).edit.type===X?v(L).edit.index:-1,onClick:Pe,onMousedown:y(we,["stop"]),onMouseup:De,onChange:ge},null,8,["list","type","locked","animate","display","hide-type","width","gap","scale","active"])])])),_:1},8,["width","height","zoom"])],2)],38)}}}),[["__cssModules",{$style:{page:"_page_1vxkv_2",tools:"_tools_1vxkv_10",group:"_group_1vxkv_17",title:"_title_1vxkv_20",wrap:"_wrap_1vxkv_23",item:"_item_1vxkv_26",name:"_name_1vxkv_29",line:"_line_1vxkv_33",pipe:"_pipe_1vxkv_38",device:"_device_1vxkv_45",dot:"_dot_1vxkv_53",wrapper:"_wrapper_1vxkv_67","drag-info":"_drag-info_1vxkv_70","device-info":"_device-info_1vxkv_71",parallel:"_parallel_1vxkv_88"}}]]);export{ge as default};
