import{d as e,r as t,i as a,L as r,o,a as s,C as i,s as n,m as l,b as d,ak as c}from"./vendor-ebf5717c.js";import{_ as p}from"./_plugin-vue_export-helper-1b428a4d.js";const h={title:"fireworks"},f=p(e({__name:"index",setup(e){const p=t([]),h=t(),f=t(),u=()=>{const e=f.value;v.clearRect(0,0,e.width,e.height),p.value=[]},m=e=>{const{offsetX:t,offsetY:a}=e,r=2*Math.PI/80;for(let o=0;o<80;o++)p.value.push({step:0,max:50*Math.random()+50,x:t,y:a,dirx:Math.cos(r*o)*Math.random()*3,diry:Math.sin(r*o)*Math.random()*3,color:`hsl( ${360*Math.random()}, 70%, 50% )`})};let v;const x=()=>{const e=h.value,t=e.clientWidth,a=e.clientHeight,r=f.value;r.width=t,r.height=a,v=r.getContext("2d")};let y;const _=()=>{y=window.requestAnimationFrame(_),p.value.forEach(((e,t)=>{g(e,t)}))},g=(e,t)=>{e.step+=1,e.dirx*=.99,e.diry*=.99,e.diry+=.05,e.x+=e.dirx,e.y+=e.diry,w(e),e.step>=e.max&&p.value.splice(t,1)},w=({x:e,y:t,color:a})=>{v&&(v.beginPath(),v.fillStyle=a,v.arc(e,t,2,0,2*Math.PI),v.fill(),v.closePath())};return a((()=>{x(),window.addEventListener("resize",x),_()})),r((()=>{window.removeEventListener("resize",x),cancelAnimationFrame(y)})),(e,t)=>{const a=c;return o(),s("div",{class:"page",ref_key:"pageRef",ref:h},[i(a,{style:{position:"absolute","z-index":"11",top:"10px",left:"10px"},type:"primary",onClick:u},{default:n((()=>[l("Clear")])),_:1}),d("canvas",{ref_key:"canvas",ref:f,onClick:m},null,512)],512)}}}),[["__scopeId","data-v-ae6e94c3"]]),u=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"}));export{h as _,u as i};
