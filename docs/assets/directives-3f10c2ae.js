import{r as e,b4 as t,o as a,a as n,m as l,A as s,b as o,t as i,d as r,l as u,u as c,b3 as d,a2 as v,C as p}from"./vendor-ebf5717c.js";import{_ as m}from"./_plugin-vue_export-helper-1b428a4d.js";const _={title:"directives",order:10},g={type:"text"},h={type:"checkbox"};const y=m({directives:{myModel:{mounted(e,t,a){var n;if(void 0===t.value)return;let l=t.instance;const s=null==(n=a.props)?void 0:n.type;let o="",i="";switch(s){case"text":case"textarea":o="input",i="value";break;case"checkbox":case"radio":o="change",i="checked";break;case"select":o="change",i="value"}e.value=t.value,e.addEventListener(o,(e=>{l[t.arg||""]=e.target[i]}))}}},setup:()=>({value:e("11"),checked:e(!1)})},[["render",function(e,r,u,c,d,v){const p=t("myModel");return a(),n("div",null,[l(" vue3.x "),s(o("input",g,null,512),[[p,c.value,"value"]]),l(" "+i(c.value)+" ",1),s(o("input",h,null,512),[[p,c.checked,"checked"]]),l(" "+i(c.checked),1)])}]]),x=o("span",null,"自定义 v-mymodel：",-1),b={type:"text"},f=o("span",null,"内置 v-model：",-1),k=m(r({__name:"index",setup(t,{expose:l}){const r=e("---"),m={mounted(e,t,a){if(void 0===t.value)return;let n=t.instance;e.value=t.value,e.addEventListener("input",(e=>{e.target.composing||(n[t.arg]=e.target.value)})),e.addEventListener("compositionstart",(e=>{e.target.composing=!0})),e.addEventListener("compositionend",(e=>{const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}))},beforeUnmount(e){e.removeEventListener("input",(()=>{})),e.removeEventListener("compositionstart",(()=>{})),e.removeEventListener("compositionend",(()=>{}))},updated(e,t){e.value=t.value}};return l({modelVal:r}),(e,t)=>(a(),n("div",{class:u(e.$style.page)},[o("div",{class:u(e.$style.item)},[o("div",{class:u(e.$style.title)},"v-model",2),o("div",{class:u(e.$style.content)},[x,s(o("input",b,null,512),[[m,c(r),"modelVal"]]),o("p",null,"结果："+i(c(r)),1),f,s(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>v(r)?r.value=e:null),placeholder:"v-model"},null,512),[[d,c(r)]]),p(y)],2)],2)],2))}}),[["__cssModules",{$style:{page:"_page_1ohz8_2",item:"_item_1ohz8_6",title:"_title_1ohz8_9"}}]]),E=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));export{_,E as i};
